{
    "identifiers": [
        "glob",
        "itertools",
        "multiprocessing",
        "os",
        "warnings",
        "project_menstrual",
        "default_config",
        "default_config",
        "src",
        "preprocessing",
        "centering",
        "centering",
        "src",
        "preprocessing",
        "extraction",
        "extraction",
        "src",
        "preprocessing",
        "geodesics",
        "geodesics",
        "src",
        "preprocessing",
        "sorting",
        "sorting",
        "warnings",
        "filterwarnings",
        "default_config",
        "raw_dir",
        "os",
        "path",
        "join",
        "raw_dir",
        "i",
        "i",
        "default_config",
        "meshed_dir",
        "default_config",
        "centered_dir",
        "default_config",
        "nondegenerate_dir",
        "default_config",
        "reparameterized_dir",
        "default_config",
        "sorted_dir",
        "default_config",
        "interpolated_dir",
        "default_config",
        "day_range",
        "day_range",
        "day_range",
        "func_args_queue",
        "func_args_queue",
        "func_args_queue",
        "func_args_queue",
        "queue",
        "get",
        "multiprocessing",
        "current_process",
        "ident",
        "ident",
        "gpu_id",
        "func",
        "args",
        "gpu_id",
        "ident",
        "queue",
        "put",
        "gpu_id",
        "hemisphere",
        "structure_id",
        "itertools",
        "product",
        "default_config",
        "hemisphere",
        "default_config",
        "structure_ids",
        "extraction",
        "extract_meshes_from_nii_and_write",
        "input_dir",
        "day_dirs",
        "output_dir",
        "meshed_dir",
        "hemisphere",
        "hemisphere",
        "structure_id",
        "structure_id",
        "hemisphere",
        "default_config",
        "hemisphere",
        "centering",
        "center_whole_hippocampus_and_write",
        "input_dir",
        "meshed_dir",
        "output_dir",
        "centered_dir",
        "hemisphere",
        "hemisphere",
        "structure_id",
        "default_config",
        "structure_ids",
        "structure_id",
        "centering",
        "center_substructure_and_write",
        "input_dir",
        "meshed_dir",
        "output_dir",
        "centered_dir",
        "hemisphere",
        "hemisphere",
        "structure_id",
        "structure_id",
        "hippocampus_centers",
        "hippocampus_centers",
        "hemisphere",
        "structure_id",
        "area_threshold",
        "itertools",
        "product",
        "default_config",
        "hemisphere",
        "default_config",
        "structure_ids",
        "default_config",
        "area_thresholds",
        "geodesics",
        "remove_degenerate_faces_and_write",
        "input_dir",
        "centered_dir",
        "output_dir",
        "nondegenerate_dir",
        "hemisphere",
        "hemisphere",
        "structure_id",
        "structure_id",
        "area_threshold",
        "area_threshold",
        "hemisphere",
        "structure_id",
        "area_threshold",
        "itertools",
        "product",
        "default_config",
        "hemisphere",
        "default_config",
        "structure_ids",
        "default_config",
        "area_thresholds",
        "os",
        "path",
        "join",
        "nondegenerate_dir",
        "hemisphere",
        "structure_id",
        "area_threshold",
        "sorted",
        "glob",
        "glob",
        "string_base",
        "len",
        "input_paths",
        "hemisphere",
        "structure_id",
        "nondegenerate_dir",
        "reparameterized_dir",
        "multiprocessing",
        "set_start_method",
        "force",
        "multiprocessing",
        "Manager",
        "gpu_id",
        "default_config",
        "n_gpus",
        "queue",
        "put",
        "gpu_id",
        "multiprocessing",
        "Pool",
        "processes",
        "default_config",
        "n_gpus",
        "day_range_index",
        "day_range_index",
        "geodesics",
        "reparameterize_with_geodesic",
        "func",
        "input_paths",
        "output_dir",
        "i_path",
        "queue",
        "i_path",
        "i_paths",
        "_",
        "pool",
        "imap_unordered",
        "run_func_in_parallel_with_queue",
        "func_args_queue",
        "pool",
        "close",
        "pool",
        "join",
        "default_config",
        "sort",
        "exit",
        "hemisphere",
        "structure_id",
        "area_threshold",
        "itertools",
        "product",
        "default_config",
        "hemisphere",
        "default_config",
        "structure_ids",
        "default_config",
        "area_thresholds",
        "sorting",
        "sort_meshes_by_hormones_and_write",
        "input_dir",
        "reparameterized_dir",
        "output_dir",
        "sorted_dir",
        "hemisphere",
        "hemisphere",
        "structure_id",
        "structure_id",
        "area_threshold",
        "area_threshold",
        "default_config",
        "run_interpolate",
        "exit",
        "hemisphere",
        "structure_id",
        "area_threshold",
        "itertools",
        "product",
        "default_config",
        "hemisphere",
        "default_config",
        "structure_ids",
        "default_config",
        "area_thresholds",
        "os",
        "path",
        "join",
        "nondegenerate_dir",
        "hemisphere",
        "structure_id",
        "area_threshold",
        "sorted",
        "glob",
        "glob",
        "string_base",
        "len",
        "input_paths",
        "hemisphere",
        "structure_id",
        "interpolated_dir",
        "multiprocessing",
        "set_start_method",
        "force",
        "multiprocessing",
        "Manager",
        "gpu_id",
        "default_config",
        "n_gpus",
        "queue",
        "put",
        "gpu_id",
        "multiprocessing",
        "Pool",
        "processes",
        "default_config",
        "n_gpus",
        "day_range_index",
        "day_range_index",
        "geodesics",
        "interpolate_with_geodesic",
        "func",
        "input_paths",
        "output_dir",
        "i_pair",
        "queue",
        "i_pair",
        "i_pairs",
        "_",
        "pool",
        "imap_unordered",
        "run_func_in_parallel_with_queue",
        "func_args_queue",
        "pool",
        "close",
        "pool",
        "join"
    ],
    "literals": [
        "\"ignore\"",
        "f\"Day{i:02d}\"",
        "f\"{ident}: starting process on GPU {gpu_id}.\"",
        "f\"{ident}: finished\"",
        "\"__main__\"",
        "f\"{hemisphere}_structure_{structure_id}**_at_{area_threshold}.ply\"",
        "f\"\\nd. (Reparameterize) Found {len(input_paths)} .plys for ({hemisphere}, {structure_id}) in {nondegenerate_dir}\"",
        "\"spawn\"",
        "\"\\ne. Skipping sorting. Preprocessing done!\"",
        "\"\\nf. Skipping interpolation. Preprocessing done!\"",
        "f\"{hemisphere}_structure_{structure_id}**_at_{area_threshold}.ply\"",
        "f\"\\nF. Found {len(input_paths)} .plys for {hemisphere} hemisphere, id {structure_id}\"",
        "\"spawn\""
    ],
    "variables": [
        "raw_dir",
        "day_dirs",
        "meshed_dir",
        "centered_dir",
        "nondegenerate_dir",
        "reparameterized_dir",
        "sorted_dir",
        "interpolated_dir",
        "day_range",
        "day_range_index",
        "args",
        "func",
        "queue",
        "gpu_id",
        "ident",
        "hippocampus_centers",
        "string_base",
        "input_paths",
        "output_dir",
        "queue",
        "pool",
        "i_paths",
        "func",
        "func_args_queue",
        "string_base",
        "input_paths",
        "output_dir",
        "queue",
        "pool",
        "i_pairs",
        "func",
        "func_args_queue"
    ],
    "comments": [
        "a. Mesh by segmenting surfaces of the hippocampus and its substructures.",
        "Add the whole hippocampus id=[-1] to list of structure ids,",
        "in order to be able to compute its center and center the substructures.",
        "b. Center meshes by putting whole hippocampus barycenter at 0.",
        "c. Remove degenerate faces using area thresholds",
        "d. Reparameterize meshes: use parameterization of the first mesh",
        "e. Sort meshes by hormone levels",
        "f. (Optional) Geodesic interpolation between t and t+1"
    ],
    "docstrings": [
        "\"\"\"Preprocessing of the my28brains dataset.\n\nThe processing is done:\n- with the `src.preprocessing` module.\n- on the 60 days for steps a-c.\n- on the days specified in default_config.day_range for steps d-f.\n\na. Mesh by segmenting surfaces of the hippocampus and its substructures.\n-> outputs in meshed_dir\n\nb. Center meshes by putting whole hippocampus barycenter at 0.\n-> outputs in centered_dir\n\nc. Remove degenerate faces using area thresholds\n-> outputs in nondegenerate_dir\n\nd. Reparameterize meshes: use parameterization of the first mesh\n-> outputs in reparameterized_dir\n\ne. Sort meshes by hormone levels\n-> outputs in sorted_dir\nNOTE: Sorting is not necessary for regression.\nNOTE: make sure day_range = [2, 11] in default_config.py\n\nf. (Optional) Interpolate between t and t+1 with a geodesic\n-> outputs in interpolated_dir\n\nNote on pykeops:\n----------------\nIf main cannot run because of:\nEOFError: Ran out of input\nThis is probably because of a pykeops issue.\n\nTo fix this, run the following commands:\n- remove: rm -rf ~/.cache/keops*/build\n- rebuild from python console.\n    >>> import pykeops\n\nMeshed surfaces are stored into .ply files.\n\nThe meshes in the .ply files can be opened with:\n- the `vscode-3d-preview` extension of VSCode,\n- [MeshLab](https://www.meshlab.net/),\n- [Blender](https://www.blender.org/download/) with plugin [Stop-motion-OBJ].\n\"\"\"",
        "\"\"\"Fun a function in parallel using a multiprocessing.Queue.\n\n    Parameters\n    ----------\n    func_args_queue : tuple\n        Tuple containing, in this order:\n        - func: callable\n            Function to run in parallel.\n        - args: the args of func\n            Tuple of args.\n        - queue : multiprocessing.Queue\n            Queue containing the GPU IDs to use.\n    \"\"\""
    ],
    "functions": [
        "run_func_in_parallel_with_queue"
    ],
    "classes": []
}