{
    "identifiers": [
        "org",
        "reactome",
        "release",
        "downloadDirectory",
        "java",
        "io",
        "java",
        "lang",
        "ProcessBuilder",
        "Redirect",
        "java",
        "nio",
        "file",
        "Paths",
        "java",
        "util",
        "java",
        "util",
        "Arrays",
        "java",
        "util",
        "Collection",
        "java",
        "util",
        "Collections",
        "java",
        "util",
        "java",
        "util",
        "concurrent",
        "ForkJoinPool",
        "org",
        "apache",
        "logging",
        "log4j",
        "LogManager",
        "org",
        "apache",
        "logging",
        "log4j",
        "Logger",
        "org",
        "gk",
        "model",
        "GKInstance",
        "org",
        "gk",
        "model",
        "ReactomeJavaConstants",
        "org",
        "gk",
        "persistence",
        "MySQLAdaptor",
        "logger",
        "LogManager",
        "getLogger",
        "releaseDirectory",
        "parallelism",
        "ForkJoinPool",
        "getCommonPoolParallelism",
        "extraIncludes",
        "pathToWrapperScript",
        "dba",
        "SuppressWarnings",
        "frontPages",
        "dba",
        "fetchInstancesByClass",
        "ReactomeJavaConstants",
        "FrontPage",
        "frontPage",
        "frontPages",
        "SuppressWarnings",
        "pathways",
        "frontPage",
        "getAttributeValuesList",
        "ReactomeJavaConstants",
        "frontPageItem",
        "logger",
        "info",
        "pathways",
        "size",
        "pool",
        "parallelism",
        "Runtime",
        "getRuntime",
        "addShutdownHook",
        "logger",
        "info",
        "pool",
        "shutdownNow",
        "pool",
        "submit",
        "pathways",
        "parallelStream",
        "forEach",
        "pathway",
        "logger",
        "info",
        "pathway",
        "toString",
        "processBuilder",
        "fileName",
        "pathway",
        "getDBID",
        "pathway",
        "getDisplayName",
        "toLowerCase",
        "replace",
        "replace",
        "cmdArgs",
        "cmdArgs",
        "add",
        "cmdArgs",
        "addAll",
        "extraIncludes",
        "cmdArgs",
        "addAll",
        "Arrays",
        "asList",
        "releaseDirectory",
        "pathway",
        "getDBID",
        "toString",
        "fileName",
        "processBuilder",
        "command",
        "cmdArgs",
        "directory",
        "Paths",
        "get",
        "pathToWrapperScript",
        "toFile",
        "inheritIO",
        "logger",
        "info",
        "join",
        "processBuilder",
        "command",
        "process",
        "process",
        "processBuilder",
        "start",
        "exitCode",
        "process",
        "waitFor",
        "logger",
        "info",
        "pathway",
        "toString",
        "exitCode",
        "e",
        "e",
        "printStackTrace",
        "e",
        "e",
        "printStackTrace",
        "process",
        "destroyForcibly",
        "get",
        "pool",
        "shutdown",
        "e",
        "e",
        "printStackTrace",
        "releaseDirectory",
        "releaseDirectory",
        "releaseDirectory",
        "parallelism",
        "parallelism",
        "parallelism",
        "extraIncludes",
        "extraIncludes",
        "extraIncludes",
        "pathToWrapperScript",
        "pathToWrapperScript",
        "pathToWrapperScript"
    ],
    "literals": [
        "\"\"",
        "\"unchecked\"",
        "\"unchecked\"",
        "\"{} pathways from the FrontPage to export in protege format.\"",
        "\"Shutting down thread pool\"",
        "\"Running protegeexport script for Pathway: {}\"",
        "\"Reactome_pathway_\"",
        "\"_\"",
        "\" \"",
        "\"_\"",
        "\"-\"",
        "\"_\"",
        "\"perl\"",
        "\"-I\"",
        "\"/modules\"",
        "\"run_protege_exporter.pl\"",
        "\"Command is: `{}`\"",
        "\" \"",
        "\"Finished generating protege files for {}, exit code is {}\""
    ],
    "variables": [
        "releaseDirectory"
    ],
    "comments": [
        "There should only ever be one FrontPage object, but the database returns a list, so let's just go with that...",
        "for (GKInstance pathway : pathways)",
        "int originalParallelism = ForkJoinPool.getCommonPoolParallelism();",
        "System.setProperty(\"java.util.concurrent.ForkJoinPool.common.parallelism\", Integer.toString(this.parallelism));",
        "Prepare a shutdown hook to shut down the Perl processes in case this Java process is killed.",
        "Otherwise, the Perl processes will keep going!",
        "parallelStream should use the degree of parallelism set on the \"pool\" object.",
        "Run the script as a one-liner:",
        "perl -MGKB::WebUtils -I$(pwd) -I/home/sshorser/perl5/lib/perl5/ -e 'my $wu = GKB::WebUtils->new_from_cgi(); $wu->create_protege_project_wo_orthologues(\"BLAH\",123);'",
        "Better: perl protegeexporter ID=12345",
        "NOTE: if you run this on your workstation, you may need to Include the path to Bio::Root::Root if that package is installed on a non-default path.",
        "example: \"-I/home/someusername/perl5/lib/perl5\"",
        "pb.command(\"perl\", \"-I/home/ubuntu/perl5/lib/perl5/\",\"-I/home/sshorser/perl5/lib/perl5/\",\"-I\"+this.releaseDirectory+\"/modules\",\"protegeexporter\",\"DEBUG=1\",\"DB=\"+dba.getDBName(),\"ID=\"+pathway.getDBID());",
        "List<String> cmdArgs = Arrays.asList(\"/usr/bin/perl\", \"-MGKB::WebUtils\", \"-I/home/ubuntu/perl5/lib/perl5/\",\"-I/home/sshorser/perl5/lib/perl5/\",\"-I\"+this.releaseDirectory+\"/modules\",",
        "\"-e\", \"'my $wu = GKB::WebUtils->new_from_cgi(); $wu->create_protege_project_wo_orthologues(\\\"Reactome_\"+pathway.getDBID()+\"\\\",[\"+pathway.getDBID()+\"]);'\");",
        "System.setProperty(\"java.util.concurrent.ForkJoinPool.common.parallelism\", Integer.toString(originalParallelism));"
    ],
    "docstrings": [
        "* Exports top-level pathways in Protege format, using the Perl code in GKB::WebUtils\n * Takes ~1.5 hours on my (Solomon) workstation, with 7 threads running 8 cores.\n * @author sshorser\n *",
        "* Set the path to the Release directory. This path will be the base for including the Reactome GKB modules, as:\n\t * <pre>\"-I\"+this.releaseDirectory+\"/modules\"</pre>\n\t * @param releaseDirectory",
        "* Set the degree of parallelism. Default will be the default degree of parallelism of the ForkJoinPool's common thread pool (usually, I think this is NUMBER_OF_CPUS - 1)\n\t * @param parallelism",
        "* If, for some reason, there are libraries/modules that are not in Perl's \"@INC\",\n\t * add them here as a single string, such as \"-I/home/MY_USER/perl5/lib/perl5/ -I/other/path/to_perl_libs/\"\n\t * @param extraIncludes",
        "* Specify the path to the directory that contains the wrapper script.\n\t * @param pathToWrapperScript"
    ],
    "functions": [
        "execute",
        "setReleaseDirectory",
        "setParallelism",
        "setExtraIncludes",
        "setPathToWrapperScript"
    ],
    "classes": [
        "ProtegeExporter"
    ]
}