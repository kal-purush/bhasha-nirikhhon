{
    "identifiers": [
        "Microsoft",
        "Azure",
        "Batch",
        "Microsoft",
        "Azure",
        "Batch",
        "Auth",
        "Microsoft",
        "Azure",
        "Batch",
        "Common",
        "Microsoft",
        "Azure",
        "Storage",
        "Microsoft",
        "Azure",
        "Storage",
        "Auth",
        "Microsoft",
        "Azure",
        "Storage",
        "Blob",
        "Microsoft",
        "Azure",
        "Storage",
        "RetryPolicies",
        "Models",
        "Models",
        "Core",
        "Models",
        "Core",
        "Run",
        "Collections",
        "Generic",
        "IO",
        "IO",
        "Compression",
        "Linq",
        "Security",
        "Cryptography",
        "Text",
        "Threading",
        "Threading",
        "Tasks",
        "ApsimNG",
        "Cloud",
        "Azure",
        "ICloudInterface",
        "AzureCredentialsSetup",
        "GetCredentialsIfNotExist",
        "JobDetails",
        "CancellationToken",
        "ct",
        "NotImplementedException",
        "JobParameters",
        "job",
        "Action",
        "UpdateStatus",
        "SetupClient",
        "job",
        "JobId",
        "Guid",
        "NewGuid",
        "job",
        "CoresPerProcess",
        "job",
        "JobManagerShouldSubmitTasks",
        "job",
        "AutoScale",
        "job",
        "PoolMaxTasksPerVM",
        "SetAzureMetaData",
        "job",
        "JobId",
        "Environment",
        "UserName",
        "ToLower",
        "Directory",
        "Exists",
        "job",
        "ApplicationPackagePath",
        "UpdateStatus",
        "tmpZip",
        "Path",
        "Combine",
        "Path",
        "GetTempPath",
        "Environment",
        "UserName",
        "ToLower",
        "File",
        "Exists",
        "tmpZip",
        "File",
        "Delete",
        "tmpZip",
        "CreateApsimXZip",
        "job",
        "ApplicationPackagePath",
        "tmpZip",
        "UpdateStatus",
        "job",
        "ApplicationPackagePath",
        "tmpZip",
        "job",
        "ApplicationPackageVersion",
        "Path",
        "GetFileName",
        "tmpZip",
        "Substring",
        "Path",
        "GetFileName",
        "tmpZip",
        "IndexOf",
        "APSIMJob",
        "job",
        "JobDisplayName",
        "job",
        "ApplicationPackagePath",
        "job",
        "ApplicationPackageVersion",
        "job",
        "Recipient",
        "PoolSettings",
        "FromConfiguration",
        "apsimJob",
        "PoolInfo",
        "MaxTasksPerVM",
        "job",
        "PoolMaxTasksPerVM",
        "apsimJob",
        "PoolInfo",
        "VMCount",
        "job",
        "PoolVMCount",
        "UpdateStatus",
        "GetExecutableDirectory",
        "Path",
        "Combine",
        "executableDirectory",
        "Directory",
        "Exists",
        "toolsDir",
        "toolsDir",
        "filePath",
        "Directory",
        "EnumerateFiles",
        "toolsDir",
        "UploadFileIfNeeded",
        "filePath",
        "job",
        "Recipient",
        "Length",
        "Path",
        "Combine",
        "Path",
        "GetTempPath",
        "StreamWriter",
        "tmpConfig",
        "file",
        "WriteLine",
        "job",
        "Recipient",
        "file",
        "WriteLine",
        "AzureSettings",
        "Default",
        "file",
        "WriteLine",
        "AzureSettings",
        "Default",
        "UploadFileIfNeeded",
        "job",
        "JobId",
        "tmpConfig",
        "File",
        "Delete",
        "tmpConfig",
        "err",
        "err",
        "UpdateStatus",
        "UploadFileIfNeeded",
        "Path",
        "Combine",
        "executableDirectory",
        "UpdateStatus",
        "UploadFileIfNeeded",
        "job",
        "ApplicationPackagePath",
        "UpdateStatus",
        "Directory",
        "Exists",
        "job",
        "ModelPath",
        "Directory",
        "CreateDirectory",
        "job",
        "ModelPath",
        "Apsim",
        "Parent",
        "job",
        "Model",
        "Simulations",
        "Simulations",
        "Weather",
        "child",
        "Apsim",
        "ChildrenRecursively",
        "job",
        "Model",
        "Weather",
        "Path",
        "GetDirectoryName",
        "child",
        "FullFileName",
        "Path",
        "GetDirectoryName",
        "sims",
        "FileName",
        "child",
        "FullFileName",
        "child",
        "FullFileName",
        "Path",
        "Combine",
        "job",
        "ModelPath",
        "child",
        "FileName",
        "File",
        "Exists",
        "destFile",
        "File",
        "Copy",
        "sourceFile",
        "destFile",
        "Runner",
        "job",
        "Model",
        "GenerateApsimXFiles",
        "Generate",
        "run",
        "job",
        "ModelPath",
        "tmpZip",
        "Directory",
        "Exists",
        "job",
        "ModelPath",
        "tmpZip",
        "GetTempFileName",
        "ZipFile",
        "CreateFromDirectory",
        "job",
        "ModelPath",
        "tmpZip",
        "CompressionLevel",
        "Fastest",
        "job",
        "ModelPath",
        "tmpZip",
        "UpdateStatus",
        "apsimJob",
        "ModelZipFileSas",
        "UploadFile",
        "job",
        "ModelPath",
        "job",
        "JobId",
        "ToString",
        "Path",
        "GetFileName",
        "job",
        "ModelPath",
        "File",
        "Exists",
        "tmpZip",
        "File",
        "Delete",
        "tmpZip",
        "job",
        "SaveModelFiles",
        "Directory",
        "Exists",
        "job",
        "ModelPath",
        "Directory",
        "Delete",
        "job",
        "ModelPath",
        "File",
        "Exists",
        "job",
        "ModelPath",
        "File",
        "Delete",
        "job",
        "ModelPath",
        "UpdateStatus",
        "batchClient",
        "JobOperations",
        "CreateJob",
        "job",
        "JobId",
        "ToString",
        "GetPoolInfo",
        "apsimJob",
        "PoolInfo",
        "cloudJob",
        "DisplayName",
        "apsimJob",
        "DisplayName",
        "cloudJob",
        "JobPreparationTask",
        "apsimJob",
        "ToJobPreparationTask",
        "job",
        "JobId",
        "blobClient",
        "cloudJob",
        "JobReleaseTask",
        "apsimJob",
        "ToJobReleaseTask",
        "job",
        "JobId",
        "blobClient",
        "cloudJob",
        "JobManagerTask",
        "apsimJob",
        "ToJobManagerTask",
        "job",
        "JobId",
        "blobClient",
        "job",
        "JobManagerShouldSubmitTasks",
        "job",
        "AutoScale",
        "cloudJob",
        "Commit",
        "UpdateStatus",
        "Microsoft",
        "Azure",
        "Storage",
        "Auth",
        "StorageCredentials",
        "AzureSettings",
        "Default",
        "StorageAccount",
        "AzureSettings",
        "Default",
        "StorageKey",
        "CloudStorageAccount",
        "credentials",
        "blobClient",
        "BlobAccountExtensions",
        "CreateCloudBlobClient",
        "storageAccount",
        "AzureSettings",
        "Default",
        "BatchUrl",
        "AzureSettings",
        "Default",
        "BatchAccount",
        "AzureSettings",
        "Default",
        "BatchKey",
        "BatchSharedKeyCredentials",
        "url",
        "account",
        "key",
        "batchClient",
        "BatchClient",
        "Open",
        "sharedCredentials",
        "containerName",
        "key",
        "val",
        "Microsoft",
        "Azure",
        "Storage",
        "Auth",
        "StorageCredentials",
        "AzureSettings",
        "Default",
        "AzureSettings",
        "Default",
        "CloudStorageAccount",
        "credentials",
        "Microsoft",
        "Azure",
        "Storage",
        "Blob",
        "BlobAccountExtensions",
        "CreateCloudBlobClient",
        "storageAccount",
        "blobClient",
        "GetContainerReference",
        "containerName",
        "containerRef",
        "CreateIfNotExists",
        "containerRef",
        "Metadata",
        "Add",
        "key",
        "val",
        "containerRef",
        "SetMetadata",
        "srcPath",
        "zipPath",
        "FileStream",
        "zipPath",
        "FileMode",
        "Create",
        "ZipArchive",
        "zipToOpen",
        "ZipArchiveMode",
        "Update",
        "Path",
        "Combine",
        "srcPath",
        "extension",
        "extensions",
        "fileName",
        "Directory",
        "EnumerateFiles",
        "bin",
        "extension",
        "archive",
        "CreateEntryFromFile",
        "fileName",
        "Path",
        "GetFileName",
        "fileName",
        "err",
        "err",
        "Reflection",
        "Assembly",
        "GetExecutingAssembly",
        "CodeBase",
        "UriBuilder",
        "codeBase",
        "Uri",
        "UnescapeDataString",
        "uri",
        "Path",
        "Path",
        "GetDirectoryName",
        "path",
        "containerName",
        "filePath",
        "blobClient",
        "GetContainerReference",
        "containerName",
        "container",
        "CreateIfNotExistsAsync",
        "container",
        "GetBlockBlobReference",
        "Path",
        "GetFileName",
        "filePath",
        "GetFileMd5",
        "filePath",
        "blobRef",
        "Exists",
        "Equals",
        "md5",
        "blobRef",
        "Properties",
        "ContentMD5",
        "StringComparison",
        "InvariantCultureIgnoreCase",
        "blobRef",
        "Properties",
        "ContentMD5",
        "md5",
        "blobRef",
        "UploadFromFileAsync",
        "filePath",
        "filePath",
        "MD5",
        "Create",
        "File",
        "OpenRead",
        "filePath",
        "md5",
        "ComputeHash",
        "stream",
        "Convert",
        "ToBase64String",
        "hashBytes",
        "prefix",
        "extension",
        "removeFile",
        "Path",
        "GetRandomFileName",
        "fileName",
        "Path",
        "ChangeExtension",
        "fileName",
        "extension",
        "fileName",
        "Path",
        "Combine",
        "Path",
        "GetTempPath",
        "prefix",
        "fileName",
        "FileStream",
        "fileName",
        "FileMode",
        "CreateNew",
        "removeFile",
        "File",
        "Delete",
        "fileName",
        "fileName",
        "err",
        "attempt",
        "err",
        "filePath",
        "container",
        "remoteFileName",
        "blobClient",
        "GetContainerReference",
        "container",
        "containerRef",
        "CreateIfNotExists",
        "containerRef",
        "GetBlockBlobReference",
        "remoteFileName",
        "BlobNeedsUploading",
        "blob",
        "filePath",
        "blob",
        "UploadFromFileAsync",
        "filePath",
        "AccessCondition",
        "BlobRequestOptions",
        "ParallelOperationThreadCount",
        "StoreBlobContentMD5",
        "Wait",
        "SharedAccessBlobPolicy",
        "Permissions",
        "SharedAccessBlobPermissions",
        "Read",
        "SharedAccessStartTime",
        "UtcNow",
        "AddMinutes",
        "SharedAccessExpiryTime",
        "UtcNow",
        "AddMonths",
        "blob",
        "Uri",
        "AbsoluteUri",
        "blob",
        "GetSharedAccessSignature",
        "policy",
        "CloudBlockBlob",
        "blob",
        "filePath",
        "blob",
        "Exists",
        "blob",
        "FetchAttributes",
        "blob",
        "Properties",
        "ContentMD5",
        "GetFileMd5",
        "filePath",
        "blob",
        "Properties",
        "ContentMD5",
        "localMD5",
        "PoolSettings",
        "settings",
        "IsNullOrEmpty",
        "settings",
        "PoolName",
        "PoolInformation",
        "AutoPoolSpecification",
        "AutoPoolSpecification",
        "PoolLifetimeOption",
        "PoolLifetimeOption",
        "Job",
        "PoolSpecification",
        "PoolSpecification",
        "MaxTasksPerComputeNode",
        "settings",
        "MaxTasksPerVM",
        "CloudServiceConfiguration",
        "CloudServiceConfiguration",
        "ResizeTimeout",
        "TimeSpan",
        "FromMinutes",
        "TargetDedicatedComputeNodes",
        "settings",
        "VMCount",
        "VirtualMachineSize",
        "settings",
        "VMSize",
        "TaskSchedulingPolicy",
        "TaskSchedulingPolicy",
        "ComputeNodeFillType",
        "Spread",
        "PoolInformation",
        "PoolId",
        "settings",
        "PoolName"
    ],
    "literals": [
        "\"\"",
        "\"job-\"",
        "\"Owner\"",
        "\"Zipping APSIM\"",
        "\"Apsim-tmp-X-\"",
        "\".zip\"",
        "\"Cancelled\"",
        "\"\"",
        "\"Checking tools\"",
        "\"tools\"",
        "\"Tools Directory not found: \"",
        "\"tools\"",
        "\"settings.txt\"",
        "\"EmailRecipient=\"",
        "\"EmailSender=\"",
        "\"EmailSender\"",
        "\"EmailPW=\"",
        "\"EmailPW\"",
        "\"job-\"",
        "\"Error writing to settings file\"",
        "\"Uploading job manager\"",
        "\"jobmanager\"",
        "\"azure-apsim.exe\"",
        "\"Uploading APSIM Next Generation\"",
        "\"apsim\"",
        "\"Generating model files\"",
        "\"Weather file must be in the same directory as .apsimx file: \"",
        "\"\"",
        "\"Model-\"",
        "\".zip\"",
        "\"Uploading models\"",
        "\"Submitting Job\"",
        "\"Job Successfully submitted\"",
        "\"StorageAccount\"",
        "\"StorageKey\"",
        "\"Bin\"",
        "\"*.dll\"",
        "\"*.exe\"",
        "\"Error zipping up APSIM\"",
        "\"No unique temporary file name is available\"",
        "\"5\""
    ],
    "variables": [
        "BatchClient",
        "batchClient",
        "CloudBlobClient",
        "blobClient",
        "tmpZip",
        "APSIMJob",
        "apsimJob",
        "executableDirectory",
        "toolsDir",
        "tmpConfig",
        "StreamWriter",
        "file",
        "Simulations",
        "sims",
        "sourceFile",
        "destFile",
        "Runner",
        "run",
        "CloudJob",
        "cloudJob",
        "credentials",
        "storageAccount",
        "url",
        "account",
        "key",
        "sharedCredentials",
        "credentials",
        "storageAccount",
        "blobClient",
        "containerRef",
        "FileStream",
        "zipToOpen",
        "ZipArchive",
        "archive",
        "bin",
        "extensions",
        "codeBase",
        "UriBuilder",
        "uri",
        "path",
        "CloudBlobContainer",
        "container",
        "CloudBlockBlob",
        "blobRef",
        "md5",
        "md5",
        "stream",
        "hashBytes",
        "attempt",
        "fileName",
        "CloudBlobContainer",
        "containerRef",
        "CloudBlockBlob",
        "blob",
        "policy",
        "localMD5"
    ],
    "comments": [
        "List all Azure jobs.",
        "</summary>",
        "<param name=\"ct\">Cancellation token.</param>",
        "Submit a job to be run on Azure.",
        "</summary>",
        "<param name=\"job\">Job parameters.</param>",
        "<param name=\"UpdateStatus\">Action which will display job submission status to the user.</param>",
        "Our default VM size is the standard_d5_v2.",
        "This VM has 16 vCPUs and 56 GiB of memory.",
        "Therefore, default max tasks per VM is 16 (1 per core).",
        "if jp.ApplicationPackagePath is a directory it will need to be zipped up",
        "add current job to the list of jobs",
        "TODO : do we actually need/use the APSIMJob class?",
        "upload tools such as 7zip, AzCopy, CMail, etc.",
        "Store a config file into the job directory that has the e-mail config",
        "upload job manager",
        "upload apsim",
        "generate model files",
        "copy weather files to models directory to be zipped up",
        "zip up models directory",
        "this test may be unnecessary",
        "upload models",
        "clean up temporary model files",
        "doesn't work",
        "submit job",
        "if (job.AutoDownload)",
        "{",
        "AzureResultsDownloader dl = new AzureResultsDownloader(job.JobId, job.JobDisplayName, job.OutputDir, null, true, job.Summarise, true, true, true);",
        "dl.DownloadResults(true);",
        "}",
        "Sets metadata for a particular container in Azure's cloud storage.",
        "</summary>",
        "<param name=\"containerName\">Name of the container</param>",
        "<param name=\"key\">Metadata key/name</param>",
        "<param name=\"val\">Data to write</param>",
        "Zips up a directory containing ApsimX",
        "</summary>",
        "<param name=\"srcPath\">Path of the ApsimX directory</param>",
        "<param name=\"zipPath\">Path to which the zip file will be saved</param>",
        "<returns>0 if successful, 1 otherwise</returns>",
        "Returns the path to the directory of the running executable.",
        "</summary>",
        "Upload a file to Azure's cloud storage if it does not already exist.",
        "</summary>",
        "<param name=\"containerName\">Name of the container to upload the file to</param>",
        "<param name=\"filePath\">Path to the file on disk</param>",
        "if blob exists and md5 matches, there is no need to upload the file",
        "Get the md5 hash of a file",
        "</summary>",
        "<param name=\"filePath\">Path of the file on disk</param>",
        "Gets a temp file with a given extension, checks it can be created, possibly removes it and returns the path",
        "</summary>",
        "<param name=\"prefix\"></param>",
        "<param name=\"extension\"></param>",
        "<param name=\"removeFile\">Whether the file should be removed</param>",
        "<returns></returns>",
        "Uploads a file to an Azure container.",
        "</summary>",
        "<param name=\"filePath\">Path of the local file to be uploaded.</param>",
        "<param name=\"container\">Container to upload the file to.</param>",
        "<param name=\"remoteFileName\">Name of the remote file (once it has been uploaded). Name of the local file will not be changed.</param>",
        "<returns></returns>",
        "retry connection every 3 seconds",
        "blobClient.DefaultRequestOptions.RetryPolicy = new LinearRetry(TimeSpan.FromSeconds(3), 10);",
        "Checks if a blob actually needs to be uploaded to a path.",
        "Returns false if a blob with the same MD5 already exists at the given path.",
        "Returns true otherwise.",
        "</summary>",
        "<param name=\"blob\">Blob to be uploaded.</param>",
        "<param name=\"filePath\">Path for the blob to be uploaded to.</param>",
        "<returns></returns>",
        "This specifies the OS that our VM will be running.",
        "OS Family 5 means .NET 4.6 will be installed.",
        "For more info see https://docs.microsoft.com/en-us/azure/cloud-services/cloud-services-guestos-update-matrix#releases"
    ],
    "docstrings": [
        "<summary>",
        "<summary>",
        "<summary>",
        "<summary>",
        "<summary>",
        "<summary>",
        "<summary>",
        "<summary>",
        "<summary>",
        "<summary>"
    ],
    "functions": [
        "AzureInterface",
        "ListJobs",
        "SubmitJobs",
        "SetupClient",
        "SetAzureMetaData",
        "CreateApsimXZip",
        "GetExecutableDirectory",
        "UploadFileIfNeeded",
        "GetFileMd5",
        "GetTempFileName",
        "UploadFile",
        "BlobNeedsUploading",
        "PoolInformation",
        "GetPoolInfo"
    ],
    "classes": [
        "AzureInterface"
    ]
}