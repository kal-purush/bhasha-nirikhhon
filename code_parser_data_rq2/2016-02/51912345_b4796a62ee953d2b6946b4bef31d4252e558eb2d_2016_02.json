{
    "identifiers": [
        "tests",
        "unittest",
        "mock",
        "Mock",
        "call",
        "synapse",
        "api",
        "constants",
        "PresenceState",
        "synapse",
        "handlers",
        "presence",
        "handle_update",
        "handle_timeout",
        "IDLE_TIMER",
        "SYNC_ONLINE_TIMEOUT",
        "LAST_ACTIVE_GRANULARITY",
        "FEDERATION_TIMEOUT",
        "FEDERATION_PING_INTERVAL",
        "synapse",
        "storage",
        "presence",
        "UserPresenceState",
        "unittest",
        "TestCase",
        "Mock",
        "UserPresenceState",
        "user_id",
        "prev_state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "handle_update",
        "prev_state",
        "new_state",
        "is_mine",
        "wheel_timer",
        "wheel_timer",
        "now",
        "now",
        "assertTrue",
        "persist_and_notify",
        "assertTrue",
        "state",
        "currently_active",
        "assertEquals",
        "new_state",
        "state",
        "state",
        "state",
        "assertEquals",
        "new_state",
        "status_msg",
        "state",
        "status_msg",
        "assertEquals",
        "state",
        "last_federation_update_ts",
        "now",
        "assertEquals",
        "wheel_timer",
        "insert",
        "call_count",
        "wheel_timer",
        "insert",
        "assert_has_calls",
        "call",
        "now",
        "now",
        "obj",
        "user_id",
        "then",
        "new_state",
        "last_active_ts",
        "IDLE_TIMER",
        "call",
        "now",
        "now",
        "obj",
        "user_id",
        "then",
        "new_state",
        "last_user_sync_ts",
        "SYNC_ONLINE_TIMEOUT",
        "any_order",
        "Mock",
        "UserPresenceState",
        "user_id",
        "prev_state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "currently_active",
        "prev_state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "handle_update",
        "prev_state",
        "new_state",
        "is_mine",
        "wheel_timer",
        "wheel_timer",
        "now",
        "now",
        "assertFalse",
        "persist_and_notify",
        "assertTrue",
        "federation_ping",
        "assertTrue",
        "state",
        "currently_active",
        "assertEquals",
        "new_state",
        "state",
        "state",
        "state",
        "assertEquals",
        "new_state",
        "status_msg",
        "state",
        "status_msg",
        "assertEquals",
        "state",
        "last_federation_update_ts",
        "now",
        "assertEquals",
        "wheel_timer",
        "insert",
        "call_count",
        "wheel_timer",
        "insert",
        "assert_has_calls",
        "call",
        "now",
        "now",
        "obj",
        "user_id",
        "then",
        "new_state",
        "last_active_ts",
        "IDLE_TIMER",
        "call",
        "now",
        "now",
        "obj",
        "user_id",
        "then",
        "new_state",
        "last_user_sync_ts",
        "SYNC_ONLINE_TIMEOUT",
        "any_order",
        "Mock",
        "UserPresenceState",
        "user_id",
        "prev_state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "LAST_ACTIVE_GRANULARITY",
        "currently_active",
        "prev_state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "handle_update",
        "prev_state",
        "new_state",
        "is_mine",
        "wheel_timer",
        "wheel_timer",
        "now",
        "now",
        "assertTrue",
        "persist_and_notify",
        "assertFalse",
        "state",
        "currently_active",
        "assertEquals",
        "new_state",
        "state",
        "state",
        "state",
        "assertEquals",
        "new_state",
        "status_msg",
        "state",
        "status_msg",
        "assertEquals",
        "state",
        "last_federation_update_ts",
        "now",
        "assertEquals",
        "wheel_timer",
        "insert",
        "call_count",
        "wheel_timer",
        "insert",
        "assert_has_calls",
        "call",
        "now",
        "now",
        "obj",
        "user_id",
        "then",
        "new_state",
        "last_active_ts",
        "IDLE_TIMER",
        "call",
        "now",
        "now",
        "obj",
        "user_id",
        "then",
        "new_state",
        "last_user_sync_ts",
        "SYNC_ONLINE_TIMEOUT",
        "any_order",
        "Mock",
        "UserPresenceState",
        "user_id",
        "prev_state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "prev_state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "handle_update",
        "prev_state",
        "new_state",
        "is_mine",
        "wheel_timer",
        "wheel_timer",
        "now",
        "now",
        "assertFalse",
        "persist_and_notify",
        "assertFalse",
        "federation_ping",
        "assertFalse",
        "state",
        "currently_active",
        "assertEquals",
        "new_state",
        "state",
        "state",
        "state",
        "assertEquals",
        "new_state",
        "status_msg",
        "state",
        "status_msg",
        "assertEquals",
        "wheel_timer",
        "insert",
        "call_count",
        "wheel_timer",
        "insert",
        "assert_has_calls",
        "call",
        "now",
        "now",
        "obj",
        "user_id",
        "then",
        "new_state",
        "last_federation_update_ts",
        "FEDERATION_TIMEOUT",
        "any_order",
        "Mock",
        "UserPresenceState",
        "user_id",
        "prev_state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "currently_active",
        "prev_state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "OFFLINE",
        "handle_update",
        "prev_state",
        "new_state",
        "is_mine",
        "wheel_timer",
        "wheel_timer",
        "now",
        "now",
        "assertTrue",
        "persist_and_notify",
        "assertEquals",
        "new_state",
        "state",
        "state",
        "state",
        "assertEquals",
        "state",
        "last_federation_update_ts",
        "now",
        "assertEquals",
        "wheel_timer",
        "insert",
        "call_count",
        "Mock",
        "UserPresenceState",
        "user_id",
        "prev_state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "currently_active",
        "prev_state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "UNAVAILABLE",
        "handle_update",
        "prev_state",
        "new_state",
        "is_mine",
        "wheel_timer",
        "wheel_timer",
        "now",
        "now",
        "assertTrue",
        "persist_and_notify",
        "assertEquals",
        "new_state",
        "state",
        "state",
        "state",
        "assertEquals",
        "state",
        "last_federation_update_ts",
        "now",
        "assertEquals",
        "new_state",
        "state",
        "state",
        "state",
        "assertEquals",
        "new_state",
        "status_msg",
        "state",
        "status_msg",
        "assertEquals",
        "wheel_timer",
        "insert",
        "call_count",
        "wheel_timer",
        "insert",
        "assert_has_calls",
        "call",
        "now",
        "now",
        "obj",
        "user_id",
        "then",
        "new_state",
        "last_user_sync_ts",
        "SYNC_ONLINE_TIMEOUT",
        "any_order",
        "unittest",
        "TestCase",
        "UserPresenceState",
        "user_id",
        "state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "IDLE_TIMER",
        "last_user_sync_ts",
        "now",
        "handle_timeout",
        "state",
        "is_mine",
        "user_to_num_current_syncs",
        "now",
        "now",
        "assertIsNotNone",
        "new_state",
        "assertEquals",
        "new_state",
        "state",
        "PresenceState",
        "UNAVAILABLE",
        "UserPresenceState",
        "user_id",
        "state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "last_user_sync_ts",
        "now",
        "SYNC_ONLINE_TIMEOUT",
        "handle_timeout",
        "state",
        "is_mine",
        "user_to_num_current_syncs",
        "now",
        "now",
        "assertIsNotNone",
        "new_state",
        "assertEquals",
        "new_state",
        "state",
        "PresenceState",
        "OFFLINE",
        "UserPresenceState",
        "user_id",
        "state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "SYNC_ONLINE_TIMEOUT",
        "last_user_sync_ts",
        "now",
        "SYNC_ONLINE_TIMEOUT",
        "handle_timeout",
        "state",
        "is_mine",
        "user_to_num_current_syncs",
        "user_id",
        "now",
        "now",
        "assertIsNotNone",
        "new_state",
        "assertEquals",
        "new_state",
        "state",
        "PresenceState",
        "ONLINE",
        "UserPresenceState",
        "user_id",
        "state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "last_user_sync_ts",
        "now",
        "last_federation_update_ts",
        "now",
        "FEDERATION_PING_INTERVAL",
        "handle_timeout",
        "state",
        "is_mine",
        "user_to_num_current_syncs",
        "now",
        "now",
        "assertIsNotNone",
        "new_state",
        "assertEquals",
        "new_state",
        "new_state",
        "UserPresenceState",
        "user_id",
        "state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "last_user_sync_ts",
        "now",
        "last_federation_update_ts",
        "now",
        "handle_timeout",
        "state",
        "is_mine",
        "user_to_num_current_syncs",
        "now",
        "now",
        "assertIsNone",
        "new_state",
        "UserPresenceState",
        "user_id",
        "state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "last_user_sync_ts",
        "now",
        "last_federation_update_ts",
        "now",
        "FEDERATION_TIMEOUT",
        "handle_timeout",
        "state",
        "is_mine",
        "user_to_num_current_syncs",
        "now",
        "now",
        "assertIsNotNone",
        "new_state",
        "assertEquals",
        "new_state",
        "state",
        "PresenceState",
        "OFFLINE",
        "UserPresenceState",
        "user_id",
        "state",
        "copy_and_replace",
        "state",
        "PresenceState",
        "ONLINE",
        "last_active_ts",
        "now",
        "LAST_ACTIVE_GRANULARITY",
        "last_user_sync_ts",
        "now",
        "last_federation_update_ts",
        "now",
        "handle_timeout",
        "state",
        "is_mine",
        "user_to_num_current_syncs",
        "now",
        "now",
        "assertIsNotNone",
        "new_state",
        "assertEquals",
        "state",
        "new_state"
    ],
    "literals": [
        "\"@foo:bar\"",
        "\"@foo:bar\"",
        "\"@foo:bar\"",
        "\"@foo:bar\"",
        "\"@foo:bar\"",
        "\"@foo:bar\"",
        "\"@foo:bar\"",
        "\"@foo:bar\"",
        "\"@foo:bar\"",
        "\"@foo:bar\"",
        "\"@foo:bar\"",
        "\"@foo:bar\"",
        "\"@foo:bar\""
    ],
    "variables": [
        "wheel_timer",
        "user_id",
        "now",
        "prev_state",
        "new_state",
        "state",
        "persist_and_notify",
        "federation_ping",
        "wheel_timer",
        "user_id",
        "now",
        "prev_state",
        "prev_state",
        "new_state",
        "state",
        "persist_and_notify",
        "federation_ping",
        "wheel_timer",
        "user_id",
        "now",
        "prev_state",
        "prev_state",
        "new_state",
        "state",
        "persist_and_notify",
        "federation_ping",
        "wheel_timer",
        "user_id",
        "now",
        "prev_state",
        "prev_state",
        "new_state",
        "state",
        "persist_and_notify",
        "federation_ping",
        "wheel_timer",
        "user_id",
        "now",
        "prev_state",
        "prev_state",
        "new_state",
        "state",
        "persist_and_notify",
        "federation_ping",
        "wheel_timer",
        "user_id",
        "now",
        "prev_state",
        "prev_state",
        "new_state",
        "state",
        "persist_and_notify",
        "federation_ping",
        "user_id",
        "now",
        "state",
        "state",
        "new_state",
        "user_id",
        "now",
        "state",
        "state",
        "new_state",
        "user_id",
        "now",
        "state",
        "state",
        "new_state",
        "user_id",
        "now",
        "state",
        "state",
        "new_state",
        "user_id",
        "now",
        "state",
        "state",
        "new_state",
        "user_id",
        "now",
        "state",
        "state",
        "new_state",
        "user_id",
        "now",
        "state",
        "state",
        "new_state"
    ],
    "comments": [
        "-*- coding: utf-8 -*-",
        "Copyright 2016 OpenMarket Ltd",
        "",
        "Licensed under the Apache License, Version 2.0 (the \"License\");",
        "you may not use this file except in compliance with the License.",
        "You may obtain a copy of the License at",
        "",
        "http://www.apache.org/licenses/LICENSE-2.0",
        "",
        "Unless required by applicable law or agreed to in writing, software",
        "distributed under the License is distributed on an \"AS IS\" BASIS,",
        "WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.",
        "See the License for the specific language governing permissions and",
        "limitations under the License."
    ],
    "docstrings": [],
    "functions": [
        "test_offline_to_online",
        "test_online_to_online",
        "test_online_to_online_last_active",
        "test_remote_ping_timer",
        "test_online_to_offline",
        "test_online_to_idle",
        "test_idle_timer",
        "test_sync_timeout",
        "test_sync_online",
        "test_federation_ping",
        "test_no_timeout",
        "test_federation_timeout",
        "test_last_active"
    ],
    "classes": [
        "PresenceUpdateTestCase",
        "PresenceTimeoutTestCase"
    ]
}