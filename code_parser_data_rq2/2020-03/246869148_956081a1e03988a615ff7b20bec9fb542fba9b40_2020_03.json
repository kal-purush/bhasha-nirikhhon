{
    "identifiers": [
        "os",
        "random",
        "PIL",
        "Image",
        "ImageDraw",
        "torchvision",
        "transforms",
        "time",
        "numpy",
        "np",
        "matplotlib",
        "pyplot",
        "plt",
        "requests",
        "io",
        "BytesIO",
        "mystl",
        "mesh",
        "math",
        "mt",
        "size",
        "requests",
        "get",
        "url",
        "Image",
        "open",
        "BytesIO",
        "response",
        "content",
        "size",
        "transforms",
        "Compose",
        "transforms",
        "Grayscale",
        "num_output_channels",
        "transforms",
        "Resize",
        "recize_fac",
        "recize_fac",
        "transforms",
        "RandomCrop",
        "size",
        "size",
        "transform",
        "im",
        "np",
        "array",
        "im",
        "pix",
        "size",
        "os",
        "path",
        "join",
        "DIR",
        "random",
        "choice",
        "os",
        "listdir",
        "DIR",
        "Image",
        "open",
        "img_path",
        "size",
        "transforms",
        "Compose",
        "transforms",
        "Grayscale",
        "num_output_channels",
        "transforms",
        "Resize",
        "recize_fac",
        "recize_fac",
        "transforms",
        "RandomCrop",
        "size",
        "size",
        "transform",
        "im",
        "np",
        "array",
        "im",
        "pix",
        "tmp",
        "plt",
        "figure",
        "figsize",
        "plt",
        "imshow",
        "tmp",
        "interpolation",
        "cmap",
        "plt",
        "show",
        "coord",
        "coord",
        "coord",
        "coord",
        "x1",
        "y1",
        "x2",
        "y2",
        "x3",
        "y3",
        "z1",
        "z2",
        "z3",
        "img",
        "zbufer",
        "imgblack",
        "N",
        "p2",
        "p1",
        "x1",
        "x2",
        "x3",
        "y1",
        "y2",
        "y3",
        "z1",
        "z2",
        "z3",
        "np",
        "argmin",
        "ys",
        "xs",
        "i",
        "ys",
        "i",
        "zs",
        "xs",
        "i",
        "ys",
        "i",
        "zs",
        "i",
        "xs",
        "i",
        "ys",
        "i",
        "zs",
        "i",
        "np",
        "argmin",
        "ys",
        "xs",
        "i",
        "ys",
        "i",
        "zs",
        "i",
        "xs",
        "i",
        "ys",
        "i",
        "zs",
        "i",
        "xs",
        "i",
        "ys",
        "i",
        "zs",
        "i",
        "xs",
        "ys",
        "zs",
        "xs",
        "ys",
        "zs",
        "b",
        "a",
        "b",
        "a",
        "b",
        "a",
        "c",
        "a",
        "c",
        "a",
        "c",
        "a",
        "A",
        "B",
        "A",
        "B",
        "A",
        "B",
        "A",
        "B",
        "A",
        "B",
        "A",
        "B",
        "nx",
        "ny",
        "nz",
        "nx",
        "lenN2",
        "ny",
        "lenN2",
        "nz",
        "lenN2",
        "N",
        "N2",
        "N",
        "N2",
        "N",
        "N2",
        "scalar",
        "p2",
        "p1",
        "x0",
        "x1",
        "x2",
        "x3",
        "y0",
        "y1",
        "y2",
        "y3",
        "zbufer",
        "y1",
        "x1",
        "z1",
        "z1",
        "scalar",
        "zscal",
        "z0",
        "ztop",
        "zbufer",
        "y2",
        "x2",
        "z2",
        "z2",
        "scalar",
        "zscal",
        "z0",
        "ztop",
        "zbufer",
        "y3",
        "x3",
        "z3",
        "z3",
        "scalar",
        "zscal",
        "z0",
        "ztop",
        "x1",
        "x0",
        "y1",
        "y0",
        "x1",
        "x0",
        "z1",
        "z0",
        "x1",
        "x0",
        "y0",
        "x2",
        "x1",
        "y2",
        "y1",
        "x2",
        "x1",
        "z2",
        "z1",
        "x2",
        "x1",
        "y1",
        "x2",
        "x0",
        "y2",
        "y0",
        "x2",
        "x0",
        "y0",
        "j",
        "y0",
        "y1",
        "a00",
        "a0",
        "j",
        "b0",
        "a0",
        "x0",
        "x0",
        "x0",
        "a22",
        "a2",
        "j",
        "b2",
        "a2",
        "x0",
        "x2",
        "x2",
        "xb",
        "xe",
        "xe",
        "xb",
        "i",
        "xe",
        "xb",
        "N2",
        "N2",
        "a",
        "i",
        "N2",
        "a",
        "j",
        "N2",
        "a",
        "a",
        "zbufer",
        "j",
        "i",
        "z",
        "z",
        "scalar",
        "zscal",
        "z0",
        "ztop",
        "j",
        "y1",
        "y2",
        "a11",
        "a1",
        "j",
        "b1",
        "a1",
        "x1",
        "x1",
        "x1",
        "a22",
        "a2",
        "j",
        "b2",
        "a2",
        "x0",
        "x2",
        "x2",
        "xb",
        "xe",
        "xe",
        "xb",
        "i",
        "xe",
        "xb",
        "N2",
        "N2",
        "a",
        "i",
        "N2",
        "a",
        "j",
        "N2",
        "a",
        "a",
        "zbufer",
        "j",
        "i",
        "z",
        "z",
        "scalar",
        "zscal",
        "z0",
        "ztop",
        "img",
        "zbufer",
        "imgblack",
        "mt",
        "radians",
        "np",
        "random",
        "randint",
        "mt",
        "radians",
        "np",
        "random",
        "randint",
        "mt",
        "sin",
        "theta",
        "mt",
        "cos",
        "phi",
        "mt",
        "sin",
        "theta",
        "mt",
        "sin",
        "phi",
        "mt",
        "cos",
        "theta",
        "x",
        "y",
        "z",
        "mymesh",
        "sh_width",
        "mymesh",
        "vectors",
        "mt",
        "pi",
        "np",
        "random",
        "randint",
        "pi",
        "np",
        "random",
        "randint",
        "pi",
        "np",
        "random",
        "randint",
        "pi",
        "mt",
        "cos",
        "ax",
        "mt",
        "sin",
        "ax",
        "mt",
        "sin",
        "ax",
        "mt",
        "cos",
        "ax",
        "mt",
        "cos",
        "ay",
        "mt",
        "sin",
        "ay",
        "mt",
        "sin",
        "ay",
        "mt",
        "cos",
        "ay",
        "mt",
        "cos",
        "az",
        "mt",
        "sin",
        "az",
        "mt",
        "sin",
        "az",
        "mt",
        "cos",
        "az",
        "np",
        "matmul",
        "Mx",
        "np",
        "matmul",
        "My",
        "Mz",
        "v",
        "vec",
        "q",
        "v",
        "a",
        "append",
        "np",
        "matmul",
        "pov",
        "q",
        "vec_new",
        "append",
        "a",
        "np",
        "array",
        "vec_new",
        "vec_new",
        "vec_new",
        "vec_new",
        "x",
        "min",
        "y",
        "min",
        "z",
        "min",
        "x",
        "max",
        "x",
        "min",
        "y",
        "max",
        "y",
        "min",
        "sh_width",
        "np",
        "random",
        "randint",
        "img_width",
        "img_width",
        "max",
        "xlen",
        "ylen",
        "shadow_size",
        "size",
        "np",
        "zeros",
        "max",
        "ylen",
        "size_par",
        "img_width",
        "max",
        "xlen",
        "size_par",
        "img_width",
        "np",
        "zeros",
        "max",
        "ylen",
        "size_par",
        "img_width",
        "max",
        "xlen",
        "size_par",
        "img_width",
        "np",
        "zeros",
        "max",
        "ylen",
        "size_par",
        "img_width",
        "max",
        "xlen",
        "size_par",
        "img_width",
        "RandomN",
        "np",
        "random",
        "randint",
        "np",
        "random",
        "randint",
        "p2",
        "v",
        "vec_new",
        "v",
        "xa",
        "size_par",
        "v",
        "xa",
        "size_par",
        "v",
        "xa",
        "size_par",
        "v",
        "ya",
        "size_par",
        "v",
        "ya",
        "size_par",
        "v",
        "ya",
        "size_par",
        "v",
        "za",
        "size_par",
        "v",
        "za",
        "size_par",
        "v",
        "za",
        "size_par",
        "TRIANGLE",
        "x1",
        "y1",
        "x2",
        "y2",
        "x3",
        "y3",
        "z1",
        "z2",
        "z3",
        "tmp",
        "zbufer",
        "tmpblack",
        "normal",
        "p2",
        "p1",
        "i",
        "tmp",
        "shape",
        "j",
        "tmp",
        "shape",
        "tmp",
        "j",
        "i",
        "i",
        "imax",
        "i",
        "j",
        "jmax",
        "j",
        "zbufer",
        "zbufer",
        "max",
        "tmp",
        "tmp",
        "max",
        "tmp",
        "jmax",
        "imax",
        "tmpblack",
        "jmax",
        "imax",
        "np",
        "random",
        "randint",
        "np",
        "random",
        "randint",
        "shadow",
        "deepth",
        "size",
        "tmpold",
        "np",
        "shape",
        "shadow",
        "np",
        "shape",
        "shadow",
        "np",
        "random",
        "randint",
        "size",
        "xlen",
        "np",
        "random",
        "randint",
        "size",
        "ylen",
        "np",
        "random",
        "randint",
        "np",
        "random",
        "randint",
        "size",
        "size",
        "np",
        "random",
        "normal",
        "mean",
        "std",
        "size",
        "num_samples",
        "abs",
        "tmp",
        "np",
        "random",
        "randint",
        "np",
        "random",
        "randint",
        "np",
        "random",
        "normal",
        "mean2",
        "std2",
        "size",
        "num_samples",
        "abs",
        "tmp2",
        "RAND_BACKGR_UNSPLASH",
        "size",
        "tmp",
        "tmp",
        "tmp",
        "max",
        "Rand05",
        "RAND_BACKGR_UNSPLASH",
        "size",
        "np",
        "random",
        "randint",
        "tmp2",
        "tmp2",
        "tmp2",
        "max",
        "tmp2",
        "sh",
        "x0",
        "x0",
        "xlen",
        "y0",
        "y0",
        "ylen",
        "deepth",
        "x0",
        "x0",
        "xlen",
        "y0",
        "y0",
        "ylen",
        "tmp",
        "x0",
        "x0",
        "xlen",
        "y0",
        "y0",
        "ylen",
        "shadow",
        "shadow",
        "x0",
        "x0",
        "xlen",
        "y0",
        "y0",
        "ylen",
        "tmp",
        "x0",
        "x0",
        "xlen",
        "y0",
        "y0",
        "ylen",
        "shadow",
        "sh",
        "tmp",
        "x0",
        "x0",
        "xlen",
        "y0",
        "y0",
        "ylen",
        "np",
        "ones",
        "num_samples",
        "x0",
        "x0",
        "xlen",
        "y0",
        "y0",
        "ylen",
        "shadow",
        "np",
        "ones",
        "num_samples",
        "bbox",
        "x0",
        "x0",
        "xlen",
        "y0",
        "y0",
        "ylen",
        "Image",
        "fromarray",
        "np",
        "uint8",
        "tmp",
        "Image",
        "fromarray",
        "np",
        "uint8",
        "segm",
        "Image",
        "fromarray",
        "np",
        "uint8",
        "bbox",
        "tmp",
        "segm",
        "bbox",
        "img_grey",
        "cap_class",
        "filename",
        "np",
        "int_",
        "img_grey",
        "flatten",
        "item",
        "grey_flat",
        "grey_str",
        "format",
        "item",
        "open",
        "filename",
        "format",
        "cap_class",
        "img_grey",
        "shape",
        "img_grey",
        "shape",
        "grey_str",
        "file",
        "my_file",
        "my_file",
        "close",
        "image",
        "kernel",
        "bias",
        "kernel",
        "shape",
        "m",
        "n",
        "image",
        "shape",
        "y",
        "m",
        "x",
        "m",
        "np",
        "zeros",
        "y",
        "x",
        "i",
        "y",
        "j",
        "x",
        "new_image",
        "i",
        "np",
        "sum",
        "image",
        "i",
        "i",
        "m",
        "j",
        "j",
        "m",
        "kernel",
        "bias",
        "new_image",
        "filename",
        "open",
        "filename",
        "k",
        "f",
        "readline",
        "len",
        "line",
        "line",
        "find",
        "b",
        "line",
        "split",
        "np",
        "float32",
        "arr",
        "np",
        "float32",
        "arr",
        "np",
        "float32",
        "arr",
        "triangle",
        "append",
        "x",
        "y",
        "z",
        "b",
        "stl_load",
        "append",
        "triangle",
        "np",
        "array",
        "stl_load",
        "stl_load",
        "IM1",
        "IM2",
        "IM3",
        "imSize",
        "Image",
        "imSize",
        "imSize",
        "new_im",
        "paste",
        "IM1",
        "new_im",
        "paste",
        "IM2",
        "imSize",
        "new_im",
        "paste",
        "IM3",
        "imSize",
        "new_im",
        "resize",
        "imSize",
        "factor",
        "imSize",
        "factor",
        "Image",
        "ANTIALIAS",
        "display",
        "new_im",
        "num",
        "RANGE",
        "each",
        "planes",
        "each",
        "each",
        "mesh",
        "Mesh",
        "from_file",
        "filename",
        "MAKE_SHADOW",
        "stl_mesh",
        "imSize",
        "MAKE_IMG",
        "shadow",
        "model",
        "imSize",
        "SHOW_COMBO",
        "img",
        "segm",
        "bbox",
        "imSize"
    ],
    "literals": [
        "'https://source.unsplash.com/random'",
        "'img/unsplash'",
        "'nearest'",
        "'Greys'",
        "'x'",
        "'x'",
        "'y'",
        "'y'",
        "'z'",
        "'z'",
        "'x'",
        "'y'",
        "'z'",
        "'x'",
        "'y'",
        "'z'",
        "'x'",
        "'y'",
        "'z'",
        "'x'",
        "'x'",
        "'x'",
        "'y'",
        "'y'",
        "'y'",
        "'z'",
        "'z'",
        "'z'",
        "'x'",
        "'x'",
        "'x'",
        "'y'",
        "'y'",
        "'y'",
        "'z'",
        "'z'",
        "'z'",
        "'y'",
        "'z'",
        "'z'",
        "'y'",
        "'z'",
        "'x'",
        "'x'",
        "'z'",
        "'x'",
        "'y'",
        "'y'",
        "'x'",
        "'a'",
        "'b'",
        "'c'",
        "'x'",
        "'a'",
        "'y'",
        "'b'",
        "'z'",
        "'c'",
        "'c'",
        "'a'",
        "'x'",
        "'b'",
        "'y'",
        "'c'",
        "'z'",
        "'z'",
        "'c'",
        "'a'",
        "'x'",
        "'b'",
        "'y'",
        "'c'",
        "'z'",
        "'z'",
        "'x'",
        "'y'",
        "'z'",
        "'L'",
        "'L'",
        "'L'",
        "''",
        "\" {}\"",
        "'a'",
        "\"{},{},{},{}\"",
        "'r'",
        "\"vertex\"",
        "'RGB'",
        "'stl/nA319.stl'",
        "'stl/nB787.stl'"
    ],
    "variables": [
        "url",
        "response",
        "im",
        "recize_fac",
        "transform",
        "im",
        "pix",
        "DIR",
        "img_path",
        "im",
        "recize_fac",
        "transform",
        "im",
        "pix",
        "xs",
        "ys",
        "zs",
        "i",
        "x0",
        "y0",
        "z0",
        "a",
        "i",
        "x1",
        "y1",
        "z1",
        "b",
        "x2",
        "y2",
        "z2",
        "c",
        "A",
        "B",
        "nx",
        "ny",
        "nz",
        "lenN2",
        "N2",
        "scalar",
        "scalar",
        "zscal",
        "z0",
        "ztop",
        "a00",
        "a11",
        "a22",
        "x0",
        "x1",
        "x2",
        "x3",
        "y0",
        "y1",
        "y2",
        "y3",
        "zbufer",
        "y1",
        "x1",
        "img",
        "y1",
        "x1",
        "imgblack",
        "y1",
        "x1",
        "zbufer",
        "y2",
        "x2",
        "img",
        "y2",
        "x2",
        "imgblack",
        "y2",
        "x2",
        "zbufer",
        "y3",
        "x3",
        "img",
        "y3",
        "x3",
        "imgblack",
        "y3",
        "x3",
        "a0",
        "az0",
        "a00",
        "b0",
        "a1",
        "az1",
        "a11",
        "b1",
        "a2",
        "a22",
        "b2",
        "xb",
        "xb",
        "xb",
        "xe",
        "xe",
        "xe",
        "xb",
        "xe",
        "z",
        "z",
        "zbufer",
        "j",
        "i",
        "img",
        "j",
        "i",
        "imgblack",
        "j",
        "i",
        "xb",
        "xb",
        "xb",
        "xe",
        "xe",
        "xe",
        "xb",
        "xe",
        "z",
        "z",
        "zbufer",
        "j",
        "i",
        "img",
        "j",
        "i",
        "imgblack",
        "j",
        "i",
        "phi",
        "theta",
        "x",
        "y",
        "z",
        "vec",
        "pi",
        "ax",
        "ay",
        "az",
        "Mx",
        "My",
        "Mz",
        "pov",
        "vec_new",
        "a",
        "vec_new",
        "x",
        "y",
        "z",
        "xa",
        "ya",
        "za",
        "xlen",
        "ylen",
        "img_width",
        "shadow_size",
        "size",
        "size_par",
        "tmp",
        "zbufer",
        "tmpblack",
        "normal",
        "p2",
        "p1",
        "x1",
        "x2",
        "x3",
        "y1",
        "y2",
        "y3",
        "z1",
        "z2",
        "z3",
        "tmp",
        "zbufer",
        "tmpblack",
        "imax",
        "jmax",
        "imax",
        "jmax",
        "zbufer",
        "tmp",
        "xlen",
        "ylen",
        "x0",
        "y0",
        "mean",
        "std",
        "num_samples",
        "tmp",
        "tmp",
        "mean2",
        "std2",
        "tmp2",
        "tmp2",
        "tmp",
        "tmp",
        "tmp2",
        "tmp2",
        "sh",
        "sh",
        "tmp",
        "tmp",
        "segm",
        "segm",
        "bbox",
        "tmp",
        "segm",
        "bbox",
        "grey_str",
        "grey_flat",
        "my_file",
        "m",
        "n",
        "y",
        "x",
        "y",
        "x",
        "new_image",
        "j",
        "f",
        "k",
        "b",
        "arr2",
        "stl_load",
        "triangle",
        "line",
        "arr",
        "x",
        "y",
        "z",
        "triangle",
        "b",
        "stl_load",
        "new_im",
        "factor",
        "new_im",
        "planes",
        "RANGE",
        "imSize",
        "filename",
        "pl_class",
        "stl_mesh",
        "model",
        "shadow",
        "img",
        "segm",
        "bbox"
    ],
    "comments": [
        "!/usr/bin/env python3",
        "-*- coding: utf-8 -*-",
        "from stl import mesh",
        "DIR = 'img'",
        "img_path = os.path.join(DIR, random.choice(os.listdir(DIR)))",
        "im = Image.open(img_path)",
        "im.save(\"img/unsplash/{}.png\".format(time.time()), \"PNG\")",
        "im.transpose(Image.ROTATE_90)",
        "np.random.randint(300,450)",
        "transforms.RandomRotation(360),",
        "url = 'https://source.unsplash.com/random'",
        "response = requests.get(url)",
        "im = Image.open(BytesIO(response.content))",
        "im.save(\"/img/unsplash/{}.png\".format(time.time()), \"PNG\")",
        "im.transpose(Image.ROTATE_90)",
        "np.random.randint(300,450)",
        "transforms.RandomRotation(360),",
        "создание градиентного фона",
        "отрисовка для проверки",
        "plt.title(name)",
        "plt.savefig(\"tmp/{}_{}.png\".format(cap_class,scale))",
        "plt.axis('off')",
        "if xs==ys or xs==zs or ys == zs:",
        "return img,zbufer",
        "(scalar*zscal+z0)/ztop",
        "print(scalar)",
        "img[y1,x1]=1",
        "img[y2,x2]=1",
        "img[y3,x3]=1",
        "print (\"y:{} xb:{} xe:{}\".format(j,xb,xe))",
        "print (i)",
        "img[j,i]=1",
        "print (\"y:{} xb:{} xe:{}\".format(j,xb,xe))",
        "def MAKE_SHADOW(vec):",
        "x=0",
        "y=0",
        "z=1",
        "",
        "pi/6",
        "ax=-pi/2#pi/2+np.random.randint(-30,30)/360*2*pi",
        "ay=0#np.random.randint(360)/360*2*pi",
        "az=0#np.random.randint(-30,30)/360*2*pi",
        "",
        "print (vec_new)",
        "print (\"x {}  y {}  z {}\".format(x,y,z))",
        "z = (z.max()-z+z.min())",
        "print(z.min(),z.max())",
        "влияет на размер тени",
        "tmp=np.zeros([max(ylen+1,img_width),max(xlen+1,img_width)])",
        "для масштабирующего коэф-та",
        "тут еще надо вставить домножение",
        "вырезаем прямоугольник силуэтом из картинки",
        "imin=tmp.shape[0]",
        "jmin=tmp.shape[1]",
        "if i<imin: imin=i",
        "if j<jmin: jmin=j",
        "xlen=imax-imin",
        "ylen=jmax-jmin",
        "return tmp[:int(ylen*size_par+1),:int(xlen*size_par+1)]",
        "'''",
        "mean background",
        "tmp=tmp/tmp.max()",
        "if Rand05():",
        "mean and st for shadow area",
        "tmp=np.zeros([size,size])",
        "'''",
        "tmp2 = RAND_BACKGR() #RAND_BACKGR_UNSPLASH ()",
        "",
        "tmp = RAND_BACKGR_UNSPLASH ()",
        "tmpold= tmp+0",
        "makin white area under the shadow",
        "the area around the shadow + shadow",
        "-----------------------------------------------------------",
        "print(np.shape(segm))",
        "tmp=1-tmp",
        "запись в файл",
        "class,img_height,img_width,data",
        "Нулевая длина обозначает конец файла (EOF)",
        "print(line)",
        "print (x,y,z)",
        "creates a new empty image, RGB mode, and size 444 by 95",
        "stl-файлы с самолетами:",
        "путь к файлу, номер класса",
        "SHOW(shadow)",
        "SHOW(model)"
    ],
    "docstrings": [
        "\"\"\"\nCreated on Mon Jan 28 15:25:45 2019\n\n@author:\n\nscript of shadows generator\n\n\"\"\"",
        "'''\n----------------------------------------\n'''"
    ],
    "functions": [
        "RAND_BACKGR_UNSPLASH",
        "RAND_BACKGR",
        "SHOW",
        "copy",
        "TRIANGLE",
        "RandomN",
        "MAKE_SHADOW",
        "Rand05",
        "Rand033",
        "MAKE_IMG",
        "ADD_TO_FILE",
        "CONV2D",
        "LOAD_STL",
        "SHOW_COMBO"
    ],
    "classes": []
}