{
    "identifiers": [
        "division",
        "os",
        "argparse",
        "glob",
        "storageDir",
        "storageDir",
        "geneListFile",
        "numberOfSamples",
        "outfilename",
        "outfilename",
        "loadgenelist",
        "geneListFile",
        "glob",
        "glob",
        "storageDir",
        "numberOfSamples",
        "gene",
        "genelist",
        "filename",
        "percentCoverFilenames",
        "line",
        "open",
        "filename",
        "line",
        "strip",
        "line",
        "split",
        "line",
        "line",
        "genename",
        "genelist",
        "geneCoveragePercentages",
        "genename",
        "append",
        "coveragePerc",
        "gene",
        "genelist",
        "geneCoveragePercentages",
        "gene",
        "len",
        "coveragelist",
        "sum",
        "coveragelist",
        "len",
        "coveragelist",
        "averagecoverage",
        "open",
        "outfilename",
        "gene",
        "averageCoveragePercentage",
        "outfile",
        "write",
        "gene",
        "averageCoveragePercentage",
        "gene",
        "outfile",
        "close",
        "glob",
        "glob",
        "storageDir",
        "numberOfSamples",
        "gene",
        "genelist",
        "filename",
        "coverageDepthFilenames",
        "line",
        "open",
        "filename",
        "line",
        "strip",
        "line",
        "split",
        "line",
        "line",
        "genename",
        "genelist",
        "geneCoverageDepth",
        "genename",
        "append",
        "coverageDepth",
        "gene",
        "genelist",
        "geneCoverageDepth",
        "gene",
        "len",
        "depthlist",
        "sum",
        "depthlist",
        "len",
        "depthlist",
        "averageDepth",
        "open",
        "outfilename2",
        "gene",
        "averageCoverageDepth",
        "outfile2",
        "write",
        "gene",
        "averageCoverageDepth",
        "gene",
        "outfile",
        "close",
        "geneListFile",
        "line",
        "open",
        "geneListFile",
        "line",
        "strip",
        "line",
        "genename",
        "genelist",
        "append",
        "genename",
        "genelist",
        "storageDir",
        "storageDir",
        "os",
        "path",
        "exists",
        "storageDir",
        "os",
        "mkdir",
        "storageDir",
        "bam",
        "subsample",
        "subsamples",
        "subsample",
        "bam",
        "replace",
        "subsample",
        "proportion",
        "bam",
        "outprefix",
        "proportion",
        "bam",
        "outprefix",
        "cmd",
        "os",
        "system",
        "cmd",
        "outprefix",
        "cmd",
        "os",
        "system",
        "cmd",
        "outprefix",
        "outprefix",
        "cmd",
        "os",
        "system",
        "cmd",
        "outprefix",
        "outprefix",
        "cmd",
        "os",
        "system",
        "cmd",
        "extractCoverageDepth",
        "outprefix",
        "storageDir",
        "outprefix",
        "extractCoveredProportion",
        "outprefix",
        "storageDir",
        "outprefix",
        "covbed",
        "outfilename",
        "line",
        "open",
        "covbed",
        "line",
        "strip",
        "line",
        "split",
        "field",
        "field",
        "field",
        "field",
        "endPosition",
        "startPosition",
        "geneName",
        "genelengthdict",
        "genelengthdict",
        "geneName",
        "regionlength",
        "regionlength",
        "coverage",
        "geneName",
        "coveragedict",
        "coveragedict",
        "geneName",
        "totalCoverage",
        "coveragedict",
        "keys",
        "gene",
        "geneList",
        "coveragedict",
        "gene",
        "genelengthdict",
        "gene",
        "open",
        "outfilename",
        "gene",
        "geneList",
        "outfile",
        "write",
        "gene",
        "genecoverage",
        "gene",
        "outfile",
        "close",
        "covbed",
        "outfilename",
        "line",
        "open",
        "covbed",
        "line",
        "strip",
        "line",
        "split",
        "field",
        "field",
        "field",
        "field",
        "endPosition",
        "startPosition",
        "geneName",
        "genelengthdict",
        "genelengthdict",
        "geneName",
        "regionlength",
        "geneName",
        "coveredbasesdict",
        "coverage",
        "mincoverage",
        "coveredbasesdict",
        "geneName",
        "regionlength",
        "coveredbasesdict",
        "keys",
        "gene",
        "geneList",
        "coveredbasesdict",
        "gene",
        "genelengthdict",
        "gene",
        "open",
        "outfilename",
        "gene",
        "geneList",
        "outfile",
        "write",
        "gene",
        "genecoveragepercent",
        "gene",
        "outfile",
        "close",
        "argparse",
        "ArgumentParser",
        "description",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "parse_args",
        "args",
        "bam",
        "InputManager",
        "inputmanager",
        "setStorage",
        "args",
        "storagedir",
        "inputmanager",
        "subSample",
        "args",
        "bam",
        "args",
        "geneListFile",
        "QueryManager",
        "querymanager",
        "setStorage",
        "args",
        "storagedir",
        "querymanager",
        "query",
        "args",
        "geneListFile",
        "args",
        "numberOfSamples",
        "args",
        "outfilename"
    ],
    "literals": [
        "\"_depth\"",
        "\"%s/*.%s.averageCovPercentage.txt\"",
        "\"\\t\"",
        "\"_20xcoverage\"",
        "\"w\"",
        "\"%s\\t%s\\n\"",
        "\"%s/*.%s.averageCovDepth.txt\"",
        "\"\\t\"",
        "\"w\"",
        "\"%s\\t%s\\n\"",
        "''",
        "'Creating storage directory'",
        "\".bam\"",
        "\".%s\"",
        "\"ln -s %s %s.bam\"",
        "\"samtools view -s %.5f -b -h %s > %s.bam\"",
        "\"samtools index %s.bam\"",
        "\"genomeCoverageBed -bga -ibam %s.bam >  %s.genomecoverage.bed\"",
        "\"intersectBed -wb -a %s.genomecoverage.bed -b AgilentQXTGenes.bed > %s.genecov.bed\"",
        "\"%s.genecov.bed\"",
        "\"%s/%s.averageCovDepth.txt\"",
        "\"%s.genecov.bed\"",
        "\"%s/%s.averageCovPercentage.txt\"",
        "'\\t'",
        "\"w\"",
        "\"%s\\t%s\\n\"",
        "'\\t'",
        "\"w\"",
        "\"%s\\t%s\\n\"",
        "'loads BAM file and generates average coverage'",
        "'--bam'",
        "'input bam file based on 14 patients per run'",
        "'--storagedir'",
        "'directory for storing average coverages'",
        "'./average_gene_coverages/'",
        "'--geneListFile'",
        "'gene list for virtual panel'",
        "'--numberOfSamples'",
        "'number of samples on the run'",
        "'--outfilename'",
        "'name of file for query output eg breadth of storage'"
    ],
    "variables": [
        "storageDir",
        "storageDir",
        "outfilename2",
        "genelist",
        "percentCoverFilenames",
        "geneCoveragePercentages",
        "geneCoveragePercentages",
        "gene",
        "line",
        "line",
        "genename",
        "coveragePerc",
        "averageCoveragePercentage",
        "coveragelist",
        "averagecoverage",
        "averageCoveragePercentage",
        "gene",
        "averageCoveragePercentage",
        "gene",
        "outfile",
        "coverageDepthFilenames",
        "geneCoverageDepth",
        "geneCoverageDepth",
        "gene",
        "line",
        "line",
        "genename",
        "coverageDepth",
        "averageCoverageDepth",
        "depthlist",
        "averageDepth",
        "averageCoverageDepth",
        "gene",
        "averageCoverageDepth",
        "gene",
        "outfile2",
        "genelist",
        "line",
        "genename",
        "mincoverage",
        "storageDir",
        "storageDir",
        "subsamples",
        "proportion",
        "outprefix",
        "cmd",
        "cmd",
        "cmd",
        "cmd",
        "cmd",
        "coveragedict",
        "genelengthdict",
        "line",
        "field",
        "geneName",
        "startPosition",
        "endPosition",
        "coverage",
        "regionlength",
        "genelengthdict",
        "geneName",
        "genelengthdict",
        "geneName",
        "totalCoverage",
        "coveragedict",
        "geneName",
        "coveragedict",
        "geneName",
        "geneList",
        "genecoverage",
        "genecoverage",
        "gene",
        "outfile",
        "coveredbasesdict",
        "genelengthdict",
        "line",
        "field",
        "geneName",
        "startPosition",
        "endPosition",
        "coverage",
        "regionlength",
        "genelengthdict",
        "geneName",
        "genelengthdict",
        "geneName",
        "coveredbasesdict",
        "geneName",
        "coveredbasesdict",
        "geneName",
        "geneList",
        "genecoveragepercent",
        "genecoveragepercent",
        "gene",
        "outfile",
        "parser",
        "args",
        "inputmanager",
        "querymanager"
    ],
    "comments": [
        "!/usr/bin/env python",
        "proportions based on 14 pat BAMs",
        "class creates object",
        "sets the function 'query' and describes what imputs are needed",
        "loads a genelist from the geneListFile provided",
        "grab relevent files from input specified in command line",
        "prepare dictionary of coverage percentages (20x)",
        "search for gene coverages in all files",
        "print geneCoveragePercentages",
        "take average coverage from across all GIAB files",
        "output dictionary to file",
        "get relevent depth of coverage files",
        "prepare dictionary of coverage depths",
        "print geneCoverageDepth",
        "subsample the bam file, remember name of subsampled bams",
        "create output name",
        "don't bother downsampleing if proportion=100%",
        "cmd=\"java -jar ~/bin/picard-tools-1.119/DownsampleSam.jar I=%s O=%s P=%.5f\" %(bam, outname, proportion)",
        "DEBUG",
        "index the bam",
        "DEBUG",
        "write like command above to run from terminal",
        "get coverage depth from BED - create dict",
        "{GENENAME : 152637bp}",
        "['1', '169680651', '169680682', '3', '1', '169680526', '169680707', 'SELL']",
        "store region length",
        "check if gene is in dictionary",
        "store total coverage",
        "calculate average coverage per gene",
        "export to file",
        "{GENENAME : 152637bp}",
        "['1', '169680651', '169680682', '3', '1', '169680526', '169680707', 'SELL']",
        "store region length",
        "check if gene is in dictionary",
        "add region length if covered",
        "calculate average coverage per gene",
        "export to file",
        "coverage['s%']=     %(genes)#dont think this is possible - genes from virtual panel"
    ],
    "docstrings": [
        "'''covbed=intersected coverage bedfile eg %s.genecov.bed'''",
        "'''covbed=intersected coverage bedfile eg %s.genecov.bed'''"
    ],
    "functions": [
        "setStorage",
        "query",
        "loadgenelist",
        "setStorage",
        "subSample",
        "extractCoverageDepth",
        "extractCoveredProportion"
    ],
    "classes": [
        "QueryManager",
        "InputManager"
    ]
}