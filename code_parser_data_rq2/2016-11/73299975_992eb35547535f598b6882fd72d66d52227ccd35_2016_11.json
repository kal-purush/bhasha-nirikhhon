{
    "identifiers": [
        "spotifyApi",
        "spotifyApi",
        "reset",
        "reset",
        "resolve",
        "reject",
        "userId",
        "userId",
        "resolve",
        "reject",
        "reject",
        "resolve",
        "reject",
        "data",
        "resolve",
        "data",
        "reject",
        "since",
        "resolve",
        "reject",
        "limit",
        "data",
        "since",
        "resolve",
        "data",
        "item",
        "item",
        "resolve",
        "data",
        "item",
        "item",
        "reject",
        "userId",
        "date",
        "userId",
        "date",
        "userId",
        "userId",
        "lastSyncDate",
        "userId",
        "lastSyncDate",
        "lastSyncDate",
        "require",
        "redis",
        "client"
    ],
    "literals": [
        "spotifyUserLastSyncDate-${userId}",
        "''",
        "spotifyUserLastSyncDate-${userId}",
        "\"redis\""
    ],
    "variables": [
        "limit",
        "lastSyncDate",
        "redis",
        "client"
    ],
    "comments": [
        "Given a api instance:",
        "- fetch current user id",
        "- fetch last sync date from redis",
        "- fetch all saved tracks since last sync",
        "",
        "(Note: if `reset` is false, fetch all user saved tracks",
        ",",
        "offset: 0",
        "TODO: filter songs by added_time"
    ],
    "docstrings": [],
    "functions": [
        "fetch",
        "fetchSpotifyUserId",
        "fetchSpotifyUserSavedSongs",
        "updateLastSyncDate",
        "fetchLastSyncDate",
        "getRedisClient"
    ],
    "classes": [
        "SpotifySync"
    ]
}