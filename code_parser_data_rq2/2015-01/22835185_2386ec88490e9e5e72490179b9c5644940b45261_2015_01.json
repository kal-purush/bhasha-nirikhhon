{
    "identifiers": [
        "angular",
        "$",
        "_",
        "angular",
        "angular",
        "$interval",
        "$timeout",
        "scope",
        "element",
        "attrs",
        "form",
        "angular",
        "scope",
        "attrs",
        "saving",
        "scope",
        "attrs",
        "lastSeenModel",
        "lastSeenModel",
        "angular",
        "currentModel",
        "angular",
        "currentModel",
        "lastSeenModel",
        "lastSeenModel",
        "angular",
        "currentModel",
        "jobs",
        "$timeout",
        "jobs",
        "jobs",
        "$timeout",
        "doAutosave",
        "intervals",
        "jobs",
        "saving",
        "attrs",
        "scope",
        "attrs",
        "form",
        "saving",
        "form",
        "scope",
        "attrs",
        "res",
        "res",
        "res",
        "saving",
        "saving",
        "form",
        "saving",
        "jobs",
        "$interval",
        "checkChanges",
        "intervals",
        "element",
        "jobs",
        "$interval",
        "jobs",
        "jobs",
        "jobs",
        "$timeout",
        "jobs",
        "jobs",
        "angular",
        "CRM",
        "CRM"
    ],
    "literals": [
        "'crmAutosave'",
        "'crmUtil'",
        "'crmAutosave'",
        "'crmAutosave'",
        "'AE'",
        "'^form'",
        "'$destroy'"
    ],
    "variables": [
        "intervals",
        "jobs",
        "lastSeenModel",
        "saving",
        "currentModel",
        "res"
    ],
    "comments": [
        "crmAutosave",
        "usage: <form crm-autosave=\"myCtrl.save()\" crm-autosave-model=\"myModel\">...</form>",
        "",
        "Automatically save changes. Don't save while the user is actively updating the model -- save",
        "after a pause in user activity (e.g. after 2sec).",
        "",
        "- crm-autosave=\"callback\" -- A function to handle saving. Should return a promise.",
        "If it's not a promise, then we'll assume that it completes successfully.",
        "- crm-autosave-interval=\"object\" -- Interval spec. Default: {poll: 250, save: 3000}",
        "- crm-autosave-if=\"conditional\" -- Only allow autosave when conditional returns true. Default: !form.$invalid",
        "- crm-autosave-model=\"object\" -- (Re)schedule saves based on observed changes to object.",
        "We perform deep ispection on the model object. This could be a performance issue you had many concurrent",
        "autosave forms, but it should be fine with one.",
        "",
        "The call to the autosave function will cause the form to be marked as pristine (unless there's an error).",
        "job handles used ot cancel/reschedule timeouts/intervals",
        "Determine if model has changed; (re)schedule the save.",
        "This is a bit expensive and doesn't need to be continuous, so we use polling instead of watches.",
        "Set to pristine before saving -- not after saving.",
        "If an eager user continues editing concurrent with the",
        "save process, then the form should become dirty again."
    ],
    "docstrings": [],
    "functions": [
        "checkChanges",
        "doAutosave"
    ],
    "classes": []
}