{
    "identifiers": [
        "sqlalchemy",
        "os",
        "datetime",
        "date",
        "timedelta",
        "DBSetup",
        "sqlalchemy",
        "sqlalchemy",
        "orm",
        "aliased",
        "config",
        "SMTPemail",
        "session",
        "userid",
        "session",
        "query",
        "user",
        "userid",
        "join",
        "groupassignment",
        "user",
        "userid",
        "groupassignment",
        "userid",
        "join",
        "group",
        "groupassignment",
        "groupid",
        "group",
        "groupid",
        "outerjoin",
        "period",
        "user",
        "userid",
        "userid",
        "group",
        "ismusical",
        "period",
        "endtime",
        "datetime",
        "datetime",
        "now",
        "count",
        "playcount",
        "session",
        "thisuser",
        "date",
        "date",
        "datetime",
        "timedelta",
        "days",
        "p",
        "session",
        "query",
        "period",
        "period",
        "starttime",
        "date",
        "period",
        "endtime",
        "nextday",
        "order_by",
        "period",
        "starttime",
        "all",
        "session",
        "query",
        "group",
        "groupname",
        "period",
        "starttime",
        "period",
        "endtime",
        "location",
        "locationname",
        "group",
        "groupid",
        "group",
        "ismusical",
        "group",
        "iseveryone",
        "music",
        "musicid",
        "period",
        "periodid",
        "period",
        "periodname",
        "groupassignment",
        "instrumentname",
        "period",
        "meal",
        "group",
        "groupdescription",
        "music",
        "composer",
        "music",
        "musicname",
        "group",
        "musicwritein",
        "join",
        "period",
        "join",
        "groupassignment",
        "join",
        "user",
        "join",
        "instrument",
        "outerjoin",
        "location",
        "outerjoin",
        "music",
        "user",
        "userid",
        "thisuser",
        "userid",
        "group",
        "periodid",
        "p",
        "periodid",
        "group",
        "status",
        "first",
        "g",
        "schedule",
        "append",
        "g",
        "g",
        "session",
        "query",
        "group",
        "groupname",
        "period",
        "starttime",
        "period",
        "endtime",
        "location",
        "locationname",
        "group",
        "groupid",
        "group",
        "ismusical",
        "group",
        "iseveryone",
        "period",
        "periodid",
        "period",
        "periodname",
        "period",
        "meal",
        "group",
        "groupdescription",
        "join",
        "period",
        "join",
        "location",
        "group",
        "iseveryone",
        "group",
        "periodid",
        "p",
        "periodid",
        "first",
        "e",
        "schedule",
        "append",
        "e",
        "e",
        "g",
        "schedule",
        "append",
        "p",
        "schedule",
        "session",
        "inputgroup",
        "min_or_max",
        "min_or_max",
        "log",
        "min_or_max",
        "inputgroup",
        "minimumlevel",
        "inputgroup",
        "minimumlevel",
        "inputgroup",
        "minimumlevel",
        "inputgroup",
        "minimumlevel",
        "session",
        "query",
        "user",
        "firstname",
        "user",
        "lastname",
        "instrument",
        "instrumentname",
        "instrument",
        "grade",
        "join",
        "groupassignment",
        "join",
        "group",
        "join",
        "instrument",
        "and_",
        "groupassignment",
        "instrumentname",
        "instrument",
        "instrumentname",
        "user",
        "userid",
        "instrument",
        "userid",
        "group",
        "groupid",
        "inputgroup",
        "groupid",
        "order_by",
        "instrument",
        "grade",
        "first",
        "minimumgradeob",
        "log",
        "inputgroup",
        "groupid",
        "minimumgradeob",
        "firstname",
        "minimumgradeob",
        "lastname",
        "minimumgradeob",
        "instrumentname",
        "minimumgradeob",
        "grade",
        "minimumgradeob",
        "grade",
        "getconfig",
        "level",
        "inputgroup",
        "minimumlevel",
        "min_or_max",
        "inputgroup",
        "maximumlevel",
        "inputgroup",
        "maximumlevel",
        "inputgroup",
        "maximumlevel",
        "inputgroup",
        "maximumlevel",
        "session",
        "query",
        "user",
        "firstname",
        "user",
        "lastname",
        "instrument",
        "instrumentname",
        "instrument",
        "grade",
        "join",
        "groupassignment",
        "join",
        "group",
        "join",
        "instrument",
        "and_",
        "groupassignment",
        "instrumentname",
        "instrument",
        "instrumentname",
        "user",
        "userid",
        "instrument",
        "userid",
        "group",
        "groupid",
        "inputgroup",
        "groupid",
        "order_by",
        "instrument",
        "grade",
        "first",
        "minimumgradeob",
        "log",
        "inputgroup",
        "groupid",
        "minimumgradeob",
        "firstname",
        "minimumgradeob",
        "lastname",
        "minimumgradeob",
        "instrumentname",
        "minimumgradeob",
        "grade",
        "minimumgradeob",
        "grade",
        "getconfig",
        "level",
        "getconfig",
        "getconfig",
        "inputgroup",
        "maximumlevel",
        "log",
        "min_or_max",
        "inputgroup",
        "groupid",
        "level",
        "level",
        "session",
        "thisgroup",
        "log",
        "getconfig",
        "split",
        "session",
        "query",
        "grouptemplate",
        "getattr",
        "grouptemplate",
        "i",
        "getattr",
        "thisgroup",
        "i",
        "i",
        "instrumentlist",
        "first",
        "templatematch",
        "log",
        "templatematch",
        "grouptemplatename",
        "templatematch",
        "grouptemplatename",
        "i",
        "instrumentlist",
        "getattr",
        "thisgroup",
        "i",
        "log",
        "i",
        "value",
        "value",
        "count",
        "getattr",
        "thisgroup",
        "i",
        "log",
        "value",
        "count",
        "count",
        "count",
        "count",
        "count",
        "count",
        "count",
        "count",
        "count",
        "count",
        "thisgroup",
        "musicid",
        "log",
        "thisgroup",
        "musicid",
        "session",
        "query",
        "music",
        "music",
        "musicid",
        "thisgroup",
        "musicid",
        "first",
        "composer",
        "log",
        "composer",
        "composer",
        "name",
        "log",
        "name",
        "name",
        "session",
        "thisgroup",
        "thisperiod",
        "primary_only",
        "getgrouplevel",
        "session",
        "thisgroup",
        "getgrouplevel",
        "session",
        "thisgroup",
        "minlevel",
        "maxlevel",
        "NameError",
        "i",
        "getconfig",
        "split",
        "getattr",
        "thisgroup",
        "i",
        "numberinstrument",
        "log",
        "numberinstrument",
        "i",
        "session",
        "query",
        "user",
        "join",
        "groupassignment",
        "groupassignment",
        "groupid",
        "thisgroup",
        "groupid",
        "groupassignment",
        "instrumentname",
        "i",
        "all",
        "numberinstrument",
        "len",
        "currentinstrumentplayers",
        "log",
        "len",
        "currentinstrumentplayers",
        "i",
        "log",
        "requiredplayers",
        "i",
        "requiredplayers",
        "session",
        "query",
        "user",
        "userid",
        "label",
        "join",
        "groupassignment",
        "join",
        "group",
        "join",
        "period",
        "period",
        "periodid",
        "thisgroup",
        "periodid",
        "session",
        "query",
        "user",
        "userid",
        "label",
        "outerjoin",
        "instrument",
        "user",
        "userid",
        "in_",
        "everyone_playing_in_period_query",
        "user",
        "isactive",
        "user",
        "arrival",
        "thisperiod",
        "starttime",
        "user",
        "departure",
        "thisperiod",
        "endtime",
        "instrument",
        "grade",
        "minlevel",
        "instrument",
        "grade",
        "maxlevel",
        "instrument",
        "instrumentname",
        "i",
        "instrument",
        "isactive",
        "instrument",
        "isprimary",
        "primary_only",
        "log",
        "len",
        "possible_players_query",
        "all",
        "requiredplayers",
        "i",
        "len",
        "possible_players_query",
        "all",
        "session",
        "query",
        "user",
        "userid",
        "join",
        "groupassignment",
        "join",
        "group",
        "group",
        "ismusical",
        "groupassignment",
        "instrumentname",
        "user",
        "userid",
        "in_",
        "possible_players_query",
        "session",
        "query",
        "user",
        "userid",
        "label",
        "func",
        "count",
        "user",
        "userid",
        "label",
        "group_by",
        "user",
        "userid",
        "outerjoin",
        "groupassignment",
        "groupassignment",
        "userid",
        "user",
        "userid",
        "outerjoin",
        "group",
        "group",
        "groupid",
        "groupassignment",
        "groupid",
        "user",
        "userid",
        "in_",
        "possible_players_query",
        "groupassignment",
        "instrumentname",
        "group",
        "ismusical",
        "group",
        "periodid",
        "group",
        "groupid",
        "thisgroup",
        "groupid",
        "subquery",
        "thisgroup",
        "musicid",
        "session",
        "query",
        "user",
        "userid",
        "label",
        "func",
        "count",
        "user",
        "userid",
        "label",
        "group_by",
        "user",
        "userid",
        "outerjoin",
        "groupassignment",
        "groupassignment",
        "userid",
        "user",
        "userid",
        "outerjoin",
        "group",
        "group",
        "groupid",
        "groupassignment",
        "groupid",
        "user",
        "userid",
        "in_",
        "possible_players_query",
        "groupassignment",
        "instrumentname",
        "group",
        "ismusical",
        "group",
        "periodid",
        "group",
        "groupid",
        "thisgroup",
        "groupid",
        "group",
        "musicid",
        "thisgroup",
        "musicid",
        "subquery",
        "session",
        "query",
        "user",
        "userid",
        "label",
        "sqlalchemy",
        "sql",
        "expression",
        "literal_column",
        "label",
        "user",
        "userid",
        "in_",
        "possible_players_query",
        "subquery",
        "session",
        "query",
        "user",
        "userid",
        "label",
        "func",
        "count",
        "user",
        "userid",
        "label",
        "group_by",
        "user",
        "userid",
        "outerjoin",
        "groupassignment",
        "groupassignment",
        "userid",
        "user",
        "userid",
        "outerjoin",
        "group",
        "group",
        "groupid",
        "groupassignment",
        "groupid",
        "user",
        "userid",
        "in_",
        "possible_players_query",
        "groupassignment",
        "instrumentname",
        "group",
        "ismusical",
        "group",
        "periodid",
        "group",
        "groupid",
        "thisgroup",
        "groupid",
        "or_",
        "group",
        "groupname",
        "thisgroup",
        "groupname",
        "and_",
        "getattr",
        "thisgroup",
        "inst",
        "getattr",
        "group",
        "inst",
        "inst",
        "instrumentlist",
        "subquery",
        "session",
        "query",
        "user",
        "userid",
        "user",
        "firstname",
        "user",
        "lastname",
        "sqlalchemy",
        "sql",
        "expression",
        "literal",
        "i",
        "label",
        "playcounts_subquery",
        "c",
        "playcount",
        "musiccounts_subquery",
        "c",
        "musiccount",
        "groupcounts_subquery",
        "c",
        "groupcount",
        "outerjoin",
        "playcounts_subquery",
        "playcounts_subquery",
        "c",
        "playcounts_userid",
        "user",
        "userid",
        "outerjoin",
        "musiccounts_subquery",
        "musiccounts_subquery",
        "c",
        "musiccounts_userid",
        "user",
        "userid",
        "outerjoin",
        "groupcounts_subquery",
        "groupcounts_subquery",
        "c",
        "groupcounts_userid",
        "user",
        "userid",
        "user",
        "userid",
        "in_",
        "possible_players_query",
        "order_by",
        "musiccounts_subquery",
        "c",
        "musiccount",
        "nullsfirst",
        "groupcounts_subquery",
        "c",
        "groupcount",
        "nullsfirst",
        "playcounts_subquery",
        "c",
        "playcount",
        "nullsfirst",
        "limit",
        "requiredplayers",
        "all",
        "log",
        "pl",
        "instrument_list",
        "log",
        "pl",
        "firstname",
        "pl",
        "lastname",
        "pl",
        "instrumentname",
        "pl",
        "musiccount",
        "pl",
        "groupcount",
        "pl",
        "playcount",
        "final_list",
        "append",
        "pl",
        "final_list"
    ],
    "literals": [
        "'Confirmed'",
        "'min'",
        "'GETGROUPLEVEL: Finding group %s level'",
        "''",
        "'0'",
        "'GETGROUPLEVEL: Found minimum grade in group %s to be %s %s playing %s with grade %s'",
        "'AutoAssignLimitLow'",
        "'max'",
        "''",
        "'0'",
        "'GETGROUPLEVEL: Found minimum grade in group %s to be %s %s playing %s with grade %s'",
        "'AutoAssignLimitHigh'",
        "'AutoAssignLimitHigh'",
        "'MaximumLevel'",
        "'GETGROUPLEVEL: Found %s grade of group %s to be %s'",
        "'GETGROUPNAME: Generating a name for requested group'",
        "'Instruments'",
        "\",\"",
        "'GETGROUPNAME: Found that this group instrumentation matches the template %s'",
        "'GETGROUPNAME: Instrument %s is value %s'",
        "'GETGROUPNAME: Found %s instruments in group.'",
        "'Solo'",
        "'Duet'",
        "'Trio'",
        "'Quartet'",
        "'Quintet'",
        "'Sextet'",
        "'Septet'",
        "'Octet'",
        "'Nonet'",
        "'Dectet'",
        "'Custom Group'",
        "'GETGROUPNAME: Found that this groups musicid is %s'",
        "'GETGROUPNAME: Found composer matching this music to be %s'",
        "' '",
        "'GETGROUPNAME: Full name of group returned is %s'",
        "'min'",
        "'max'",
        "'You cannot autofill with all empty players and an auto minimum or maximum level. Set the level or pick at least one player.'",
        "'Instruments'",
        "\",\"",
        "'AUTOFILL: Group has configured %s total players for instrument %s'",
        "'AUTOFILL: Found %s current players for instrument %s'",
        "'AUTOFILL: We need to autofill %s extra players for instrument %s'",
        "'everyone_playing_in_period_query_userid'",
        "'possible_players_query_userid'",
        "'AUTOFILL: Found %s possible players of a requested %s for instrument %s.'",
        "'Conductor'",
        "'playcounts_userid'",
        "\"playcount\"",
        "'Conductor'",
        "'musiccounts_userid'",
        "\"musiccount\"",
        "'Conductor'",
        "'musiccounts_userid'",
        "\"0\"",
        "\"musiccount\"",
        "'groupcounts_userid'",
        "\"groupcount\"",
        "'Conductor'",
        "\"instrumentname\"",
        "'AUTOFILL: Players in final list with playcounts:'",
        "'AUTOFILL: Found %s %s to play %s with totals - musiccount:%s groupcount:%s playcount:%s '"
    ],
    "variables": [
        "playcount",
        "nextday",
        "schedule",
        "g",
        "e",
        "e",
        "minimumgradeob",
        "level",
        "level",
        "level",
        "level",
        "minimumgradeob",
        "level",
        "level",
        "level",
        "level",
        "instrumentlist",
        "templatematch",
        "name",
        "count",
        "value",
        "count",
        "name",
        "name",
        "name",
        "name",
        "name",
        "name",
        "name",
        "name",
        "name",
        "name",
        "name",
        "composer",
        "name",
        "minlevel",
        "maxlevel",
        "final_list",
        "numberinstrument",
        "currentinstrumentplayers",
        "requiredplayers",
        "everyone_playing_in_period_query",
        "possible_players_query",
        "already_played_query",
        "playcounts_subquery",
        "musiccounts_subquery",
        "musiccounts_subquery",
        "groupcounts_subquery",
        "instrument_list"
    ],
    "comments": [
        "Looks up the amount of times a user has participated in an \"ismusical\" group during the camp",
        "get the information needed to fill in the user's schedule table",
        "find the start of the next day",
        "for each period in the requested day",
        "try to find a group assignment for the user",
        "if we didn't find an assigned group...",
        "try to find an iseveryone group at the time of this period",
        "if we didn't find an assigned group or an iseveryone group...",
        "just add the period detalis",
        "from an input group, returns the highest and lowest instrument levels that should be assigned depending on its config",
        "if the group is set to \"auto\", i.e. blank or 0, find the minimum level of all the players currently playing in the group",
        "if we find at least one player in this group, set the minimumgrade to be this players level minus the autoassignlimitlow",
        "if we don't find a player in this group, set the minimum level to be 0 (not allowed to autofill)",
        "if this group's minimum level is explicitly set, use that setting",
        "if we find at least one player in this group, set the maximumgrade to be this players level plus the autoassignlimithigh",
        "if we don't find a player in this group, set the maximum level to 0 (not allowed to autofill)",
        "if this group's maximum level is explicitly set, use that setting",
        "if this group's instrumentation matches a grouptempplate, then give it the name of that template",
        "if we don't get a match, then we find how many players there are in this group, and give it a more generic name",
        "iterates through the empty slots in a group and finds players to potentially fill them. returns a list of players.",
        "get the minimum level of this group",
        "get the userids of everyone that's already playing in something this period",
        "combine the last query with another query, finding everyone that both plays an instrument that's found in thisgroup AND isn't in the list of users that are already playing in this period.",
        "The admin controls if the query allows non-primary instruments by the primary_only dropdown on their UI",
        "if we found at least one possible player",
        "get the players that have already played in groups at this camp, and inverse it to get the players with playcounts of zero. Limit the query to just the spots we have left. These will be the people at the top of the list.",
        "make a query that totals the nmber of times each potential user has played at camp.",
        "if this group has assigned music",
        "get a count of the amount of times that each potential player has played in this group",
        "grab all groups that share a musicid with this group",
        "make a query with all userids, and 0s in the next column so the subsequent queries work (because no users have a playcount for this music)",
        "make a query we can use to total up the number of times each user has played in a group like this",
        "grab all groups that share a name with this group, or have the same instrumentation of this group",
        "Put it all together!",
        "order by the number of times that the players have played this specific piece of music",
        "then order by the number of times that the players have played in a group similar to this in name or instrumentation",
        "then order by their total playcounts"
    ],
    "docstrings": [],
    "functions": [
        "playcount",
        "getschedule",
        "getgrouplevel",
        "getgroupname",
        "autofill"
    ],
    "classes": []
}