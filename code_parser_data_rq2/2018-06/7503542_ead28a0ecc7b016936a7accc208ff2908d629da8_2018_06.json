{
    "identifiers": [
        "os",
        "boto",
        "swf",
        "json",
        "time",
        "activity",
        "S3utility",
        "s3_notification_info",
        "S3NotificationInfo",
        "provider",
        "simpleDB",
        "dblib",
        "provider",
        "storage_provider",
        "storage_context",
        "digestparser",
        "parse",
        "activity",
        "activity",
        "settings",
        "logger",
        "conn",
        "token",
        "activity_task",
        "activity",
        "activity",
        "settings",
        "logger",
        "conn",
        "token",
        "activity_task",
        "create_activity_directories",
        "dblib",
        "SimpleDB",
        "settings",
        "data",
        "logger",
        "logger",
        "info",
        "json",
        "dumps",
        "data",
        "sort_keys",
        "indent",
        "S3NotificationInfo",
        "from_dict",
        "data",
        "info",
        "file_name",
        "info",
        "file_name",
        "rfind",
        "info",
        "bucket_name",
        "filename",
        "info",
        "file_name",
        "split",
        "filename",
        "download_digest_from_s3",
        "filename",
        "bucket_name",
        "bucket_folder",
        "parse_status",
        "parse_digest",
        "input_file",
        "generate_output",
        "digest_content",
        "generate_status",
        "approve_status",
        "add_email_to_queue",
        "activity_status",
        "activity",
        "activity",
        "ACTIVITY_PERMANENT_FAILURE",
        "filename",
        "bucket_name",
        "bucket_folder",
        "filename",
        "bucket_name",
        "bucket_folder",
        "storage_context",
        "settings",
        "settings",
        "storage_provider",
        "storage_provider",
        "bucket_name",
        "bucket_folder",
        "orig_resource",
        "filename",
        "os",
        "path",
        "join",
        "get_tmp_dir",
        "input_dir",
        "dirname",
        "os",
        "sep",
        "filename",
        "open",
        "filename_plus_path",
        "open_file",
        "storage",
        "get_resource_to_file",
        "storage_resource_origin",
        "open_file",
        "filename_plus_path",
        "input_file",
        "input_file",
        "digest_content",
        "digest_content",
        "db_provider",
        "connect",
        "time",
        "gmtime",
        "get_email_body",
        "current_time",
        "get_email_subject",
        "current_time",
        "settings",
        "ses_digest_sender_email",
        "isinstance",
        "settings",
        "ses_digest_recipient_email",
        "email",
        "settings",
        "ses_digest_recipient_email",
        "recipient_email_list",
        "append",
        "email",
        "recipient_email_list",
        "append",
        "settings",
        "ses_digest_recipient_email",
        "email",
        "recipient_email_list",
        "db_provider",
        "elife_add_email_to_email_queue",
        "recipient_email",
        "email",
        "sender_email",
        "sender_email",
        "email_type",
        "format",
        "subject",
        "subject",
        "body",
        "body",
        "activity_status",
        "activity_status",
        "activity_status_text",
        "current_time",
        "time",
        "strftime",
        "date_format",
        "current_time",
        "get_activity_status_text",
        "activity_status",
        "name",
        "activity_status_text",
        "datetime_string",
        "settings",
        "domain",
        "subject",
        "current_time",
        "time",
        "strftime",
        "date_format",
        "current_time",
        "get_activity_status_text",
        "activity_status",
        "body",
        "name",
        "body",
        "body",
        "activity_status_text",
        "body",
        "body",
        "activity_status",
        "body",
        "parse_status",
        "body",
        "generate_status",
        "body",
        "approve_status",
        "body",
        "email_status",
        "body",
        "body",
        "body",
        "body",
        "body",
        "get_activityId",
        "body",
        "get_workflowId",
        "body",
        "datetime_string",
        "body",
        "settings",
        "domain",
        "body",
        "body",
        "body",
        "dir_name",
        "os",
        "path",
        "join",
        "get_tmp_dir",
        "temp_dir",
        "os",
        "path",
        "join",
        "get_tmp_dir",
        "input_dir",
        "os",
        "mkdir",
        "dir_name",
        "OSError"
    ],
    "literals": [
        "\"EmailDigest\"",
        "\"1\"",
        "\"Download digest file input from the bucket, parse it, generate the \"",
        "\"output and send it in an email to recipients.\"",
        "\"tmp_dir\"",
        "\"input_dir\"",
        "'data: %s'",
        "'/'",
        "\"Connect to the S3 bucket and download the input\"",
        "\"://\"",
        "\"/\"",
        "'/'",
        "'wb'",
        "\"Parse input into an object\"",
        "'fake_digest_content'",
        "\"From the parsed digest content generate the output\"",
        "\"EmailDigest\"",
        "\"text\"",
        "\"Success!\"",
        "\"FAILED.\"",
        "'%Y-%m-%d %H:%M'",
        "\" \"",
        "\", \"",
        "\", eLife SWF domain: \"",
        "\"\"",
        "'%Y-%m-%dT%H:%M:%S.000Z'",
        "\" status:\"",
        "\"\\n\"",
        "\"\\n\"",
        "\"\\n\"",
        "\"\\n\"",
        "\"activity_status: \"",
        "\"\\n\"",
        "\"parse_status: \"",
        "\"\\n\"",
        "\"generate_status: \"",
        "\"\\n\"",
        "\"approve_status: \"",
        "\"\\n\"",
        "\"email_status: \"",
        "\"\\n\"",
        "\"\\n\"",
        "\"\\n\"",
        "\"-------------------------------\\n\"",
        "\"SWF workflow details: \"",
        "\"\\n\"",
        "\"activityId: \"",
        "\"\\n\"",
        "\"As part of workflowId: \"",
        "\"\\n\"",
        "\"As at \"",
        "\"\\n\"",
        "\"Domain: \"",
        "\"\\n\"",
        "\"\\n\"",
        "\"\\n\\nSincerely\\n\\neLife bot\""
    ],
    "variables": [
        "name",
        "version",
        "default_task_heartbeat_timeout",
        "default_task_schedule_to_close_timeout",
        "default_task_schedule_to_start_timeout",
        "default_task_start_to_close_timeout",
        "description",
        "input_file",
        "temp_dir",
        "input_dir",
        "db_provider",
        "activity_status",
        "parse_status",
        "generate_status",
        "approve_status",
        "email_status",
        "info",
        "filename",
        "bucket_name",
        "bucket_folder",
        "bucket_folder",
        "input_file",
        "digest_content",
        "generate_status",
        "activity_status",
        "approve_status",
        "email_status",
        "storage",
        "storage_provider",
        "orig_resource",
        "storage_resource_origin",
        "dirname",
        "filename_plus_path",
        "current_time",
        "body",
        "subject",
        "sender_email",
        "recipient_email_list",
        "activity_status_text",
        "activity_status_text",
        "date_format",
        "datetime_string",
        "activity_status_text",
        "subject",
        "body",
        "date_format",
        "datetime_string",
        "activity_status_text"
    ],
    "comments": [
        "Track some values",
        "Local directory settings",
        "Create output directories",
        "Data provider where email body is saved",
        "Track the success of some steps",
        "Download from S3",
        "Parse input",
        "Generate output",
        "todo!!!",
        "Approve files for emailing",
        "todo!!!",
        "Email files",
        "todo!!!!",
        "return a value based on the activity_status",
        "todo!!!",
        "Connect to DB",
        "Note: Create a verified sender email address, only done once",
        "conn.verify_email_address(self.settings.ses_sender_email)",
        "Handle multiple recipients, if specified",
        "Add the email to the email queue",
        "Bulk of body"
    ],
    "docstrings": [
        "\"\"\"\nEmailDigest activity\n\"\"\"",
        "\"\"\"\n        Activity, do the work\n        \"\"\"",
        "\"\"\"\n        After do_activity is finished, send emails to recipients\n        on the status\n        \"\"\"",
        "\"\"\"\n        Given the activity status boolean, return a human\n        readable text version\n        \"\"\"",
        "\"\"\"\n        Assemble the email subject\n        \"\"\"",
        "\"\"\"\n        Format the body of the email\n        \"\"\"",
        "\"\"\"\n        Create the directories in the activity tmp_dir\n        \"\"\""
    ],
    "functions": [
        "do_activity",
        "download_digest_from_s3",
        "parse_digest",
        "generate_output",
        "add_email_to_queue",
        "get_activity_status_text",
        "get_email_subject",
        "get_email_body",
        "create_activity_directories"
    ],
    "classes": [
        "activity_EmailDigest"
    ]
}