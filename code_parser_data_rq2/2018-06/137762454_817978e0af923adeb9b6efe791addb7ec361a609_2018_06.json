{
    "identifiers": [
        "matplotlib",
        "mpl",
        "mpl",
        "use",
        "matplotlib",
        "pyplot",
        "plt",
        "numpy",
        "np",
        "astropy",
        "io",
        "votable",
        "parse",
        "astropy",
        "io",
        "fits",
        "aplpy",
        "urllib",
        "urllib2",
        "os",
        "logging",
        "logging",
        "disable",
        "logging",
        "CRITICAL",
        "logging",
        "captureWarnings",
        "format",
        "BASEDIR",
        "POSNSFILE",
        "CUTOUTSIZE",
        "SDSS_CIRCLE",
        "SDSS_OFFSET",
        "QUASAR_CIRCLE",
        "QUASAR_OFFSET",
        "query_dict",
        "url",
        "filename",
        "err_string",
        "urllib",
        "urlencode",
        "query_dict",
        "urllib2",
        "Request",
        "url",
        "urllib2",
        "urlopen",
        "req",
        "open",
        "filename",
        "response_file",
        "response",
        "read",
        "err_string",
        "line",
        "response_file",
        "write",
        "line",
        "os",
        "system",
        "format",
        "filename",
        "query_dict",
        "url",
        "filename",
        "get_url_fits",
        "query_dict",
        "url",
        "filename",
        "err_string",
        "query_dict",
        "url",
        "filename",
        "get_url_fits",
        "query_dict",
        "url",
        "filename",
        "err_string",
        "data",
        "sigma_clip",
        "tolerance",
        "np",
        "nanmean",
        "data",
        "data",
        "diff",
        "tolerance",
        "data_clip",
        "np",
        "abs",
        "data_clip",
        "mean",
        "sigma_clip",
        "np",
        "nanstd",
        "data_clip",
        "np",
        "nanmean",
        "data_clip",
        "np",
        "abs",
        "mean",
        "newmean",
        "mean",
        "newmean",
        "newmean",
        "np",
        "nanvar",
        "data_clip",
        "target_parameters",
        "target_parameters",
        "ra_string",
        "dec_string",
        "target_name",
        "ra",
        "dec",
        "field",
        "plt",
        "figure",
        "figsize",
        "format",
        "SDSS_DIR",
        "field",
        "aplpy",
        "FITSFigure",
        "sdss_fitsfile",
        "figure",
        "fig",
        "dimensions",
        "f",
        "show_grayscale",
        "f",
        "set_title",
        "target_name",
        "ra",
        "format",
        "ra_hours",
        "dec",
        "pos_string",
        "format",
        "target_name",
        "get_hodge",
        "query_dict",
        "HODGE_URL",
        "fitsfile",
        "hodge_file",
        "get_first",
        "query_dict",
        "FIRST_URL",
        "fitsfile",
        "first_file",
        "first_file",
        "hodge_file",
        "fits",
        "open",
        "fitsfile",
        "mode",
        "HF_fits",
        "header",
        "key",
        "remove_list",
        "HF_header",
        "remove",
        "key",
        "HF_fits",
        "close",
        "fits",
        "open",
        "fitsfile",
        "fitsimage",
        "data",
        "np",
        "sqrt",
        "get_background_variance",
        "data",
        "flatten",
        "np",
        "logspace",
        "np",
        "log10",
        "sigma",
        "np",
        "log10",
        "np",
        "nanmax",
        "data",
        "num",
        "f",
        "show_contour",
        "fitsfile",
        "levels",
        "HF_levels",
        "colors",
        "overlap",
        "smooth",
        "os",
        "system",
        "format",
        "fitsfile",
        "format",
        "JVLA_DIR",
        "target_name",
        "f",
        "recenter",
        "ra",
        "dec",
        "radius",
        "CUTOUTSIZE",
        "fits",
        "open",
        "vla_fitsfile",
        "fitsimage",
        "data",
        "np",
        "sqrt",
        "get_background_variance",
        "data",
        "flatten",
        "np",
        "logspace",
        "np",
        "log10",
        "sigma",
        "np",
        "log10",
        "np",
        "nanmax",
        "data",
        "num",
        "f",
        "show_contour",
        "vla_fitsfile",
        "levels",
        "JVLA_levels",
        "colors",
        "overlap",
        "smooth",
        "f",
        "show_markers",
        "r_hodge",
        "d_hodge",
        "edgecolor",
        "marker",
        "s",
        "linewidths",
        "f",
        "show_markers",
        "r_vla",
        "d_vla",
        "edgecolor",
        "marker",
        "s",
        "linewidths",
        "np",
        "abs",
        "r_sdss",
        "ra",
        "CUTOUTSIZE_DEG",
        "np",
        "abs",
        "d_sdss",
        "dec",
        "CUTOUTSIZE_DEG",
        "r_sdss",
        "cutout_mask",
        "d_sdss",
        "cutout_mask",
        "np",
        "ones",
        "len",
        "r_cutout",
        "SDSS_CIRCLE_DEG",
        "f",
        "show_circles",
        "r_cutout",
        "d_cutout",
        "s",
        "edgecolor",
        "SDSS_INDEX",
        "index_sdss",
        "cutout_mask",
        "ri",
        "di",
        "index",
        "r_cutout",
        "d_cutout",
        "indices",
        "f",
        "add_label",
        "ri",
        "SDSS_OFFSET_DEG",
        "di",
        "index",
        "color",
        "size",
        "np",
        "abs",
        "r_quasar",
        "ra",
        "CUTOUTSIZE_DEG",
        "np",
        "abs",
        "d_quasar",
        "dec",
        "CUTOUTSIZE_DEG",
        "r_quasar",
        "cutout_mask",
        "d_quasar",
        "cutout_mask",
        "len",
        "r_cutout",
        "np",
        "ones",
        "len",
        "r_cutout",
        "QUASAR_CIRCLE_DEG",
        "f",
        "show_circles",
        "r_cutout",
        "d_cutout",
        "s",
        "edgecolor",
        "QUASAR_INDEX",
        "index_quasar",
        "cutout_mask",
        "ri",
        "di",
        "index",
        "r_cutout",
        "d_cutout",
        "indices",
        "f",
        "add_label",
        "ri",
        "di",
        "QUASAR_OFFSET_DEG",
        "index",
        "color",
        "size",
        "plt",
        "savefig",
        "format",
        "target_name",
        "SUFFIX",
        "plt",
        "close",
        "parse",
        "format",
        "BASEDIR",
        "CATALOGUE1",
        "cat",
        "get_first_table",
        "table",
        "array",
        "table",
        "array",
        "parse",
        "format",
        "BASEDIR",
        "CATALOGUE2",
        "cat",
        "get_first_table",
        "table",
        "array",
        "table",
        "array",
        "parse",
        "format",
        "BASEDIR",
        "CATALOGUE3",
        "cat",
        "get_first_table",
        "table",
        "array",
        "table",
        "array",
        "table",
        "array",
        "parse",
        "format",
        "BASEDIR",
        "CATALOGUE4",
        "cat",
        "get_first_table",
        "table",
        "array",
        "table",
        "array",
        "table",
        "array",
        "CUTOUTSIZEVLA",
        "np",
        "loadtxt",
        "posfile",
        "dtype",
        "NPROCESSES",
        "format",
        "NPROCESSES",
        "multiprocessing",
        "Pool",
        "Pool",
        "processes",
        "NPROCESSES",
        "pool",
        "make_cutout",
        "target_array",
        "line",
        "target_array",
        "make_cutout",
        "line"
    ],
    "literals": [
        "'Agg'",
        "'/data2/matt/Overlaycode'",
        "'JVLAsdssfilenameWEST.dat'",
        "'{0}/{1}'",
        "'/data2/matt/attempt_2_unnested'",
        "'/data2/matt/JVLAcutouts/Westcutoutslarger'",
        "'Hodge.vot'",
        "'West.vot'",
        "'MATCHESWITHIN40.vot'",
        "'DR7QuasarsBEST.vot'",
        "''",
        "'No data is available'",
        "'wb'",
        "'rm {0}'",
        "'No Stripe 82 data is available'",
        "'No FIRST data is available'",
        "' -- '",
        "'{0}/{1}'",
        "'{0} {1}'",
        "'RA'",
        "'{0}_stripe82_cutout.fits'",
        "'Using FIRST rather than Hodges for Stripe82 cutout'",
        "'Neither Hodge nor FIRST data available for this field'",
        "'update'",
        "'CTYPE3'",
        "'CRVAL3'",
        "'CDELT3'",
        "'CRPIX3'",
        "'CROTA3'",
        "'CTYPE4'",
        "'CRVAL4'",
        "'CDELT4'",
        "'CRPIX4'",
        "'CROTA4'",
        "'b'",
        "'rm {0}'",
        "'{0}/{1}.fits'",
        "'g'",
        "'b'",
        "'+'",
        "'g'",
        "'+'",
        "'r'",
        "'r'",
        "'c'",
        "'c'",
        "'{0}{1}.png'",
        "'{0}/{1}'",
        "'RA'",
        "'DEC'",
        "'{0}/{1}'",
        "'RA'",
        "'DEC'",
        "'{0}/{1}'",
        "'RA'",
        "'DEC'",
        "'INDEX'",
        "'{0}/{1}'",
        "'RA'",
        "'DEC'",
        "'INDEX'",
        "'http://third.ucllnl.org/cgi-bin/stripe82image'",
        "'http://third.ucllnl.org/cgi-bin/firstimage'",
        "'DEC'",
        "''",
        "'Equinox'",
        "'J2000'",
        "'ImageSize'",
        "'MaxInt'",
        "'Survey'",
        "'stripe82'",
        "'FITS'",
        "'string'",
        "'Using multiprocessing: {0} cores'",
        "'Not using multiprocessing'"
    ],
    "variables": [
        "NPROCESSES",
        "BASEDIR",
        "POSNSFILE",
        "posfile",
        "SDSS_DIR",
        "JVLA_DIR",
        "CATALOGUE1",
        "CATALOGUE2",
        "CATALOGUE3",
        "CATALOGUE4",
        "SUFFIX",
        "CUTOUTSIZE",
        "CUTOUTSIZEVLA",
        "CUTOUTSIZE_DEG",
        "SDSS_CIRCLE",
        "SDSS_INDEX",
        "SDSS_OFFSET",
        "SDSS_CIRCLE_DEG",
        "SDSS_OFFSET_DEG",
        "QUASAR_CIRCLE",
        "QUASAR_INDEX",
        "QUASAR_OFFSET",
        "QUASAR_CIRCLE_DEG",
        "QUASAR_OFFSET_DEG",
        "req",
        "response",
        "line",
        "diff",
        "mean",
        "data_clip",
        "data_clip",
        "newmean",
        "diff",
        "mean",
        "target_name",
        "ra_string",
        "dec_string",
        "field",
        "ra",
        "dec",
        "fig",
        "sdss_fitsfile",
        "f",
        "hodge_file",
        "first_file",
        "ra_hours",
        "pos_string",
        "query_dict",
        "fitsfile",
        "hodge_file",
        "first_file",
        "HF_fits",
        "HF_header",
        "remove_list",
        "fitsimage",
        "data",
        "sigma",
        "HF_levels",
        "vla_fitsfile",
        "fitsimage",
        "data",
        "sigma",
        "JVLA_levels",
        "cutout_mask",
        "r_cutout",
        "d_cutout",
        "s",
        "indices",
        "cutout_mask",
        "r_cutout",
        "d_cutout",
        "s",
        "indices",
        "cat",
        "table",
        "r_hodge",
        "d_hodge",
        "cat",
        "table",
        "r_vla",
        "d_vla",
        "cat",
        "table",
        "r_sdss",
        "d_sdss",
        "index_sdss",
        "cat",
        "table",
        "r_quasar",
        "d_quasar",
        "index_quasar",
        "HODGE_URL",
        "FIRST_URL",
        "query_dict",
        "query_dict",
        "query_dict",
        "query_dict",
        "query_dict",
        "query_dict",
        "query_dict",
        "target_array",
        "pool"
    ],
    "comments": [
        "---------------------------------------------------------------------------------------------",
        "Script to make overlay cutouts:",
        "",
        "-- SDSS:          greyscale, red circles for positions, optionally plot index numbers",
        "-- Hodge/FIRST:   blue contour, blue + for positions",
        "-- JVLA Stripe82: green contour, green + for positions",
        "-- DR7 Quasars:   cyan circles for positions, optionally plot index numbers",
        "",
        "---------------------------------------------------------------------------------------------",
        "use backend Agg so we can run this script without X",
        "to disable the aplpy logging - its too much! - take this out if you want to debug",
        "supress annoying unicode warnings - take this out if you want to debug",
        "---------------------------------------------------------------------------------------------",
        "Parameters",
        "Numer of processes to parallelise over",
        "integer. set this to zero if you don't want to use multiprocessing",
        "base directory",
        "source positions",
        "FITS file locations",
        "catalogue files",
        "suffix for the files names (if desired)",
        "cutout sizes",
        "arcminutes",
        "Needs to be about 2 arcminutes bigger than CUTOUTSIZE",
        "SDSS circle and index name parameters",
        "arcseconds",
        "display index names?",
        "offset of index names from positions",
        "Quasar circle parameters",
        "arcseconds",
        "display index names?",
        "offset of index names from positions",
        "---------------------------------------------------------------------------------------------",
        "Functions",
        "get FITS cutout from given survey url",
        "query url",
        "put result into file, line by line",
        "if there is no data available, return False",
        "Initialise diff and data_clip and mean and std",
        "---------------------------------------------------------------------------------------------",
        "main cutout function",
        "---------------------------------------------------------------------------------------------",
        "set up figure",
        "---------------------------------------------------------------------------------------------",
        "sdss greyscale",
        "---------------------------------------------------------------------------------------------",
        "Hodge/FIRST contour",
        "download fits file",
        "- first try Hodge, then FIRST if Hodges is not available",
        "quirk of the interface is that the full position string goes into the RA field",
        "cutout name",
        "query for Hodge cutout",
        "if Hodge cutout unavailable, query for FIRST cutout",
        "search for FIRST cutout",
        "if we have either Hodge of FIRST cutout downloaded, plot contours for it",
        "get rid of vestigial image header parameters",
        "get data variance for calculating contour levels",
        "plot Hodge/FIRST contours",
        "delete the temporary cutout file",
        "---------------------------------------------------------------------------------------------",
        "JVLA contour",
        "radius is in degrees",
        "get data varience for calculating contour levels",
        "---------------------------------------------------------------------------------------------",
        "catalogue 1 - Hodge source locations",
        "---------------------------------------------------------------------------------------------",
        "catalogue 2 - JVLA source locations",
        "---------------------------------------------------------------------------------------------",
        "catalogue 3 - SDSS source circles",
        "only extract data in the cutout area",
        "takes too long otherwise - the SDSS vot is huge!",
        "---------------------------------------------------------------------------------------------",
        "catalogue 4 - Quasar source circles",
        "if there are quasars in this cutout, plot them",
        "---------------------------------------------------------------------------------------------",
        "closing the plot is necessary to relase the memory",
        "(this is a pylab issue)",
        "---------------------------------------------------------------------------------------------",
        "parse vot files",
        "catalogue 1 - Hodge source locations",
        "catalogue 2 - JVLA source locations",
        "catalogue 3 - SDSS source circles",
        "catalogue 4 - Quasar source circles",
        "---------------------------------------------------------------------------------------------",
        "set image download parameters",
        "quirk with this is that the Ra and DEC request are in the RA field",
        "---------------------------------------------------------------------------------------------",
        "get array of targets",
        "divy out the list to multiple processes and make cutouts",
        "or if you don't want to use multiprocessing, just loop through the list and make cutouts"
    ],
    "docstrings": [
        "\"\"\"Compute the variance by iteratively removing outliers greater than a given sigma\n    until the mean changes by no more than tolerance.\n    (function stolen from TomM)\n\n    Inputs\n    ------\n    data - 1d numpy array of data to compute variance\n    sigma_clip - the amount of sigma to clip the data before the next iteration\n    tolerance - the fractional change in the mean to stop iterating\n\n    Outputs\n    -------\n    variance - the final background variance in the sigma clipped image\n    \"\"\"",
        "\"\"\"\n\tMake a png cutout of the various images, in greyscale and contour, and catalogue position markers.\n\n\tInputs\n\t------\n\ttarget parameters - list containing parameters for the cutout\n\t   target_nname - name of the target source, string\n\t   ra_string - Right Ascension of the target, string\n\t   dec_string - Declination of the target, string\n\t   field - SDSS field to use at the target position\n\t\"\"\""
    ],
    "functions": [
        "get_url_fits",
        "get_hodge",
        "get_first",
        "get_background_variance",
        "make_cutout"
    ],
    "classes": []
}