{
    "identifiers": [
        "gc",
        "traceback",
        "queue",
        "threading",
        "torch",
        "transformers",
        "transformers",
        "StoppingCriteria",
        "callback_func",
        "callback_func",
        "input_ids",
        "scores",
        "callback_func",
        "callback_func",
        "input_ids",
        "func",
        "kwargs",
        "callback",
        "func",
        "callback",
        "kwargs",
        "val",
        "stop_now",
        "ValueError",
        "q",
        "put",
        "val",
        "mfunc",
        "callback",
        "_callback",
        "kwargs",
        "ValueError",
        "traceback",
        "print_exc",
        "q",
        "put",
        "sentinel",
        "c_callback",
        "c_callback",
        "ret",
        "target",
        "gentask",
        "thread",
        "start",
        "q",
        "get",
        "obj",
        "sentinel",
        "StopIteration",
        "obj",
        "exc_type",
        "exc_val",
        "exc_tb"
    ],
    "literals": [],
    "variables": [
        "callback_func",
        "mfunc",
        "c_callback",
        "q",
        "sentinel",
        "kwargs",
        "stop_now",
        "ret",
        "thread",
        "obj",
        "stop_now"
    ],
    "comments": [],
    "docstrings": [
        "\"\"\"\nHelpers to support streaming generate output.\nBorrowed from https://github.com/oobabooga/text-generation-webui/blob/ad37f396fc8bcbab90e11ecf17c56c97bfbd4a9c/modules/callbacks.py\n\"\"\"",
        "\"\"\"\n    Transforms a function that takes a callback\n    into a lazy iterator (generator).\n    \"\"\""
    ],
    "functions": [
        "__call__",
        "_callback",
        "gentask",
        "__iter__",
        "__next__",
        "__enter__",
        "__exit__"
    ],
    "classes": [
        "Stream",
        "Iteratorize"
    ]
}