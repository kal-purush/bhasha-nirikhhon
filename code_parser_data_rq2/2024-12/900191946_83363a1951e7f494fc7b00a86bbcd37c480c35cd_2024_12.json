{
    "identifiers": [
        "logging",
        "os",
        "logging",
        "handlers",
        "RotatingFileHandler",
        "httpx",
        "yaml",
        "fastapi",
        "FastAPI",
        "Request",
        "tenacity",
        "retry",
        "stop_after_attempt",
        "wait_fixed",
        "os",
        "makedirs",
        "exist_ok",
        "RotatingFileHandler",
        "maxBytes",
        "backupCount",
        "encoding",
        "file_handler",
        "setFormatter",
        "logging",
        "Formatter",
        "logging",
        "getLogger",
        "logger",
        "setLevel",
        "logging",
        "INFO",
        "logger",
        "addHandler",
        "file_handler",
        "logging",
        "getLogger",
        "tenacity_logger",
        "setLevel",
        "logging",
        "WARNING",
        "tenacity_logger",
        "addHandler",
        "file_handler",
        "FastAPI",
        "open",
        "encoding",
        "f",
        "yaml",
        "safe_load",
        "f",
        "app_id",
        "pair",
        "config",
        "pair",
        "app_id",
        "pair",
        "record",
        "field_code",
        "record",
        "get",
        "field_code",
        "field_data",
        "field_data",
        "field_data",
        "record",
        "mapping",
        "dify_key",
        "field_code",
        "mapping",
        "items",
        "get_kintone_field_value",
        "record",
        "field_code",
        "value",
        "input_fields",
        "dify_input",
        "retry",
        "stop",
        "stop_after_attempt",
        "wait",
        "wait_fixed",
        "endpoint",
        "api_key",
        "payload",
        "httpx",
        "AsyncClient",
        "timeout",
        "client",
        "api_key",
        "client",
        "post",
        "endpoint",
        "json",
        "payload",
        "headers",
        "headers",
        "response",
        "raise_for_status",
        "response",
        "json",
        "httpx",
        "HTTPError",
        "e",
        "e",
        "response",
        "text",
        "hasattr",
        "e",
        "e",
        "WebhookProcessingError",
        "error_detail",
        "e",
        "WebhookProcessingError",
        "e",
        "retry",
        "stop",
        "stop_after_attempt",
        "wait",
        "wait_fixed",
        "app_id",
        "record_id",
        "fields",
        "token",
        "kintone_base_url",
        "kintone_base_url",
        "token",
        "app_id",
        "record_id",
        "k",
        "v",
        "k",
        "v",
        "fields",
        "items",
        "v",
        "httpx",
        "AsyncClient",
        "timeout",
        "client",
        "client",
        "put",
        "url",
        "headers",
        "headers",
        "json",
        "body",
        "r",
        "raise_for_status",
        "r",
        "json",
        "e",
        "WebhookProcessingError",
        "e",
        "app",
        "post",
        "request",
        "Request",
        "request",
        "json",
        "data",
        "get",
        "logging",
        "LoggerAdapter",
        "logger",
        "session_id",
        "session_logger",
        "info",
        "data",
        "data",
        "get",
        "get",
        "get",
        "get",
        "modifier",
        "session_logger",
        "info",
        "data",
        "get",
        "get",
        "data",
        "get",
        "record",
        "get",
        "get",
        "app_id",
        "record_id",
        "WebhookProcessingError",
        "find_pair_by_app_id",
        "app_id",
        "pair",
        "WebhookProcessingError",
        "app_id",
        "pair",
        "pair",
        "build_dify_input",
        "record",
        "kintone_to_dify_map",
        "session_logger",
        "info",
        "dify_input",
        "session_logger",
        "info",
        "call_dify_workflow",
        "DIFY_ENDPOINT",
        "pair",
        "dify_input",
        "session_logger",
        "info",
        "dify_response",
        "dify_response",
        "get",
        "get",
        "k",
        "dify_outputs",
        "v",
        "k",
        "v",
        "dify_to_kintone_map",
        "items",
        "v",
        "dify_outputs",
        "kintone_update_fields",
        "kintone_update",
        "pair",
        "record_id",
        "kintone_update_fields",
        "pair",
        "config",
        "session_logger",
        "info",
        "kintone_update_fields",
        "result_status",
        "WebhookProcessingError",
        "e",
        "session_logger",
        "error",
        "e",
        "e",
        "e",
        "session_logger",
        "error",
        "e"
    ],
    "literals": [
        "\"logs\"",
        "\"logs/application.log\"",
        "\"utf-8\"",
        "\"%(asctime)s - %(levelname)s - [%(session_id)s] - %(message)s\"",
        "\"tenacity\"",
        "\"config.yaml\"",
        "\"r\"",
        "\"utf-8\"",
        "\"https://api.dify.ai/v1/workflows/run\"",
        "\"pairs\"",
        "\"kintone_app_id\"",
        "\"value\"",
        "\"value\"",
        "\"inputs\"",
        "\"response_mode\"",
        "\"blocking\"",
        "\"user\"",
        "\"kintone-dify-webhook\"",
        "\"Authorization\"",
        "f\"Bearer {api_key}\"",
        "\"Content-Type\"",
        "\"application/json\"",
        "\"response\"",
        "f\"Dify APIエラー: {error_detail}\"",
        "f\"Dify API接続エラー: {str(e)}\"",
        "f\"{kintone_base_url}/k/v1/record.json\"",
        "\"X-Cybozu-API-Token\"",
        "\"Content-Type\"",
        "\"application/json\"",
        "\"app\"",
        "\"id\"",
        "\"record\"",
        "\"value\"",
        "f\"Kintone更新エラー: {str(e)}\"",
        "\"/webhook\"",
        "\"id\"",
        "\"unknown\"",
        "\"session_id\"",
        "f\"Webhook received with payload: {data}\"",
        "\"record\"",
        "\"更新者\"",
        "\"value\"",
        "\"code\"",
        "\"\"",
        "\"Administrator\"",
        "\"Skipping Administrator update\"",
        "\"status\"",
        "\"skipped\"",
        "\"message\"",
        "\"Administrator update\"",
        "\"app\"",
        "\"id\"",
        "\"record\"",
        "\"$id\"",
        "\"value\"",
        "\"無効なペイロード: app_idまたはrecord_idが見つかりません\"",
        "f\"app_id {app_id} に対応する設定が見つかりません\"",
        "\"kintone_to_dify\"",
        "\"dify_to_kintone\"",
        "f\"Built Dify input: {dify_input}\"",
        "\"Calling Dify workflow...\"",
        "\"dify_api_key\"",
        "f\"Dify workflow response received: {dify_response}\"",
        "\"data\"",
        "\"outputs\"",
        "\"kintone_app_id\"",
        "\"kintone_token\"",
        "\"kintone\"",
        "\"base_url\"",
        "\"Kintone record updated successfully\"",
        "\"done\"",
        "\"no_update_needed\"",
        "\"status\"",
        "\"error\"",
        "\"status\"",
        "\"error\"",
        "f\"予期せぬエラー: {str(e)}\"",
        "\"error\"",
        "\"内部サーバーエラー\"",
        "\"status\"",
        "\"error\""
    ],
    "variables": [
        "file_handler",
        "logger",
        "tenacity_logger",
        "app",
        "config",
        "DIFY_ENDPOINT",
        "field_data",
        "input_fields",
        "value",
        "input_fields",
        "dify_key",
        "dify_input",
        "headers",
        "response",
        "error_detail",
        "url",
        "headers",
        "body",
        "r",
        "data",
        "session_id",
        "session_logger",
        "modifier",
        "app_id",
        "record",
        "record_id",
        "pair",
        "kintone_to_dify_map",
        "dify_to_kintone_map",
        "dify_input",
        "dify_response",
        "dify_outputs",
        "kintone_update_fields",
        "result_status"
    ],
    "comments": [
        "logsディレクトリが存在しない場合は作成",
        "ログハンドラーの設定",
        "1MB",
        "ルートロガーの設定",
        "tenacityのログレベルを警告（WARNING）に設定",
        "設定読み込み",
        "Difyのエンドポイント",
        "新しいカスタムエラークラスを追加",
        "kintoneフィールドコードのみで値を取得",
        "kintone_to_difyマッピングに従い、recordからDify入力用JSONを生成",
        "webhookイベントIDをセッションIDとして取得",
        "LoggerAdapterを使用してセッションIDをログに含める",
        "更新者による更新をチェック",
        "Difyワークフロー呼び出し",
        "Difyレスポンスから'outputs'を取得",
        "Kintone更新処理"
    ],
    "docstrings": [],
    "functions": [
        "find_pair_by_app_id",
        "get_kintone_field_value",
        "build_dify_input",
        "call_dify_workflow",
        "kintone_update",
        "webhook"
    ],
    "classes": [
        "WebhookProcessingError"
    ]
}