{
    "identifiers": [
        "tensorflow",
        "tf",
        "sklearn",
        "metrics",
        "roc_auc_score",
        "log_loss",
        "time",
        "time",
        "numpy",
        "np",
        "feature_size",
        "field_size",
        "lr_l2_reg",
        "dm_l2_reg",
        "epoch",
        "learning_rate",
        "batch_size",
        "optimizer_type",
        "greater_is_better",
        "feature_size",
        "field_size",
        "lr_l2_reg",
        "dm_l2_reg",
        "epoch",
        "learning_rate",
        "optimizer_type",
        "batch_size",
        "greater_is_better",
        "train_result",
        "valid_result",
        "_init_graph",
        "tf",
        "Graph",
        "graph",
        "as_default",
        "tf",
        "set_random_seed",
        "tf",
        "placeholder",
        "tf",
        "int32",
        "shape",
        "name",
        "tf",
        "placeholder",
        "tf",
        "float32",
        "shape",
        "name",
        "tf",
        "placeholder",
        "tf",
        "float32",
        "shape",
        "name",
        "tf",
        "placeholder",
        "tf",
        "float32",
        "shape",
        "name",
        "tf",
        "Variable",
        "tf",
        "random_normal",
        "feature_size",
        "stddev",
        "name",
        "tf",
        "Variable",
        "tf",
        "random_normal",
        "feature_size",
        "stddev",
        "name",
        "tf",
        "reshape",
        "fea_value",
        "shape",
        "field_size",
        "tf",
        "reduce_sum",
        "tf",
        "multiply",
        "tf",
        "nn",
        "embedding_lookup",
        "wc",
        "fea_index",
        "fea_value",
        "axis",
        "tf",
        "reduce_sum",
        "tf",
        "multiply",
        "tf",
        "nn",
        "embedding_lookup",
        "wd",
        "fea_index",
        "fea_value",
        "axis",
        "tf",
        "nn",
        "sigmoid",
        "wc_x",
        "tf",
        "exp",
        "wd_x",
        "label",
        "tf",
        "log",
        "p_x",
        "tf",
        "log",
        "lamb_x",
        "delay_time",
        "lamb_x",
        "label",
        "tf",
        "log",
        "p_x",
        "p_x",
        "tf",
        "exp",
        "lamb_x",
        "delay_time",
        "tf",
        "reduce_mean",
        "nll",
        "axis",
        "loss",
        "tf",
        "contrib",
        "layers",
        "l2_regularizer",
        "lr_l2_reg",
        "wc",
        "loss",
        "tf",
        "contrib",
        "layers",
        "l2_regularizer",
        "dm_l2_reg",
        "wd",
        "optimizer_type",
        "tf",
        "train",
        "AdamOptimizer",
        "learning_rate",
        "learning_rate",
        "beta1",
        "beta2",
        "epsilon",
        "minimize",
        "loss",
        "optimizer_type",
        "tf",
        "train",
        "AdagradOptimizer",
        "learning_rate",
        "learning_rate",
        "initial_accumulator_value",
        "minimize",
        "loss",
        "optimizer_type",
        "tf",
        "train",
        "GradientDescentOptimizer",
        "learning_rate",
        "learning_rate",
        "minimize",
        "loss",
        "optimizer_type",
        "tf",
        "train",
        "MomentumOptimizer",
        "learning_rate",
        "learning_rate",
        "momentum",
        "minimize",
        "loss",
        "tf",
        "global_variables_initializer",
        "_init_session",
        "sess",
        "run",
        "init",
        "tf",
        "ConfigProto",
        "device_count",
        "config",
        "gpu_options",
        "tf",
        "Session",
        "config",
        "config",
        "Xi",
        "Xv",
        "y",
        "y_dt",
        "batch_size",
        "index",
        "index",
        "batch_size",
        "index",
        "batch_size",
        "end",
        "end",
        "len",
        "y",
        "len",
        "y",
        "y_dt",
        "Xi",
        "start",
        "end",
        "Xv",
        "start",
        "end",
        "y_",
        "y_",
        "y",
        "start",
        "end",
        "y_dt_",
        "y_dt_",
        "y_dt",
        "start",
        "end",
        "Xi",
        "start",
        "end",
        "Xv",
        "start",
        "end",
        "y_",
        "y_",
        "y",
        "start",
        "end",
        "a",
        "b",
        "c",
        "d",
        "np",
        "random",
        "get_state",
        "np",
        "random",
        "shuffle",
        "a",
        "np",
        "random",
        "set_state",
        "rng_state",
        "np",
        "random",
        "shuffle",
        "b",
        "np",
        "random",
        "set_state",
        "rng_state",
        "np",
        "random",
        "shuffle",
        "c",
        "np",
        "random",
        "set_state",
        "rng_state",
        "np",
        "random",
        "shuffle",
        "d",
        "Xi",
        "Xv",
        "y",
        "dt",
        "fea_index",
        "Xi",
        "fea_value",
        "Xv",
        "label",
        "y",
        "delay_time",
        "dt",
        "sess",
        "run",
        "loss",
        "optimizer",
        "p_x",
        "lamb_x",
        "nll",
        "feed_dict",
        "feed_dict",
        "loss",
        "Xi_train",
        "Xv_train",
        "y_train",
        "y_dt",
        "Xi_valid",
        "Xv_valid",
        "y_valid",
        "early_stopping",
        "refit",
        "Xv_valid",
        "epoch",
        "epoch",
        "time",
        "shuffle_in_unison_scary",
        "Xi_train",
        "Xv_train",
        "y_train",
        "y_dt",
        "len",
        "y_train",
        "batch_size",
        "i",
        "total_batch",
        "get_batch",
        "Xi_train",
        "Xv_train",
        "y_train",
        "y_dt",
        "batch_size",
        "i",
        "evaluate",
        "Xi_train",
        "Xv_train",
        "y_train",
        "train_result",
        "append",
        "train_result",
        "has_valid",
        "evaluate",
        "Xi_valid",
        "Xv_valid",
        "y_valid",
        "valid_result",
        "append",
        "valid_result",
        "verbose",
        "epoch",
        "verbose",
        "has_valid",
        "epoch",
        "train_result",
        "valid_result",
        "time",
        "t1",
        "epoch",
        "train_result",
        "time",
        "t1",
        "has_valid",
        "early_stopping",
        "training_termination",
        "valid_result",
        "valid_result",
        "len",
        "valid_result",
        "greater_is_better",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "valid_result",
        "Xi",
        "Xv",
        "y",
        "predict",
        "Xi",
        "Xv",
        "roc_auc_score",
        "y",
        "y_pred",
        "Xi",
        "Xv",
        "len",
        "Xi",
        "get_batch",
        "Xi",
        "Xv",
        "dummy_y",
        "batch_size",
        "batch_index",
        "len",
        "Xi_batch",
        "len",
        "y_batch",
        "fea_index",
        "Xi_batch",
        "fea_value",
        "Xv_batch",
        "label",
        "y_batch",
        "sess",
        "run",
        "p_x",
        "feed_dict",
        "feed_dict",
        "batch_index",
        "np",
        "reshape",
        "batch_out",
        "num_batch",
        "np",
        "concatenate",
        "y_pred",
        "np",
        "reshape",
        "batch_out",
        "num_batch",
        "batch_index",
        "get_batch",
        "Xi",
        "Xv",
        "dummy_y",
        "batch_size",
        "batch_index",
        "y_pred"
    ],
    "literals": [
        "\"adam\"",
        "'fea_index'",
        "'fea_value'",
        "'label'",
        "'delay_time'",
        "'wc'",
        "'wd'",
        "\"adam\"",
        "\"adagrad\"",
        "\"gd\"",
        "\"momentum\"",
        "\"gpu\"",
        "\"[%d] train-result=%.4f, valid-result=%.4f [%.1f s]\"",
        "\"[%d] train-result=%.4f [%.1f s]\""
    ],
    "variables": [
        "sess",
        "loss",
        "optimizer",
        "feature_size",
        "field_size",
        "lr_l2_reg",
        "dm_l2_reg",
        "epoch",
        "learning_rate",
        "optimizer_type",
        "batch_size",
        "greater_is_better",
        "graph",
        "fea_index",
        "fea_value",
        "label",
        "delay_time",
        "wc",
        "wd",
        "fea_value",
        "wc_x",
        "wd_x",
        "p_x",
        "lamb_x",
        "nll",
        "loss",
        "optimizer",
        "optimizer",
        "optimizer",
        "optimizer",
        "init",
        "sess",
        "config",
        "allow_growth",
        "start",
        "end",
        "end",
        "rng_state",
        "feed_dict",
        "loss",
        "opt",
        "p",
        "l",
        "nill",
        "has_valid",
        "t1",
        "total_batch",
        "Xi_batch",
        "Xv_batch",
        "y_batch",
        "y_dt_batch",
        "train_result",
        "valid_result",
        "verbose",
        "y_pred",
        "dummy_y",
        "batch_index",
        "Xi_batch",
        "Xv_batch",
        "y_batch",
        "y_pred",
        "num_batch",
        "feed_dict",
        "batch_out",
        "y_pred",
        "y_pred",
        "Xi_batch",
        "Xv_batch",
        "y_batch"
    ],
    "comments": [
        "logistic regression l2 norm",
        "delay model l2 nore",
        "logitic regression paramter",
        "delay model paramter",
        "optimizer",
        "shuffle three lists simutaneously",
        "print \"label=%s\\n, dt=%s\\n, p_x=%s\\n, lamb_x=%s\\n, nill=%s\\n\" % (y, dt, p, l, nill)",
        "print \"train loss: %s \" % self.fit_on_batch(Xi_batch, Xv_batch, y_batch, y_dt_batch)",
        "evaluate training and validation datasets"
    ],
    "docstrings": [
        "\"\"\"\n        :param Xi: list of list of feature indices of each sample in the dataset\n        :param Xv: list of list of feature values of each sample in the dataset\n        :param y: label of each sample in the dataset\n        :return: metric of the evaluation\n        \"\"\""
    ],
    "functions": [
        "_init_graph",
        "_init_session",
        "get_batch",
        "shuffle_in_unison_scary",
        "fit_on_batch",
        "fit",
        "training_termination",
        "evaluate",
        "predict"
    ],
    "classes": [
        "DFM"
    ]
}