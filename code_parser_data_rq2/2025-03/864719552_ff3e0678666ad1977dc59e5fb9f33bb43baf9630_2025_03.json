{
    "identifiers": [
        "BackupSchedule",
        "execAsync",
        "getS3Credentials",
        "findDestinationById",
        "paths",
        "runWebServerBackup",
        "backup",
        "findDestinationById",
        "backup",
        "getS3Credentials",
        "destination",
        "paths",
        "BASE_PATH",
        "timestamp",
        "timestamp",
        "destination",
        "backup",
        "backupFileName",
        "execAsync",
        "tempDir",
        "tempDir",
        "execAsync",
        "postgresCommand",
        "execAsync",
        "BASE_PATH",
        "tempDir",
        "execAsync",
        "tempDir",
        "backupFileName",
        "rcloneFlags",
        "tempDir",
        "backupFileName",
        "s3Path",
        "execAsync",
        "uploadCommand",
        "execAsync",
        "tempDir",
        "error",
        "error",
        "error"
    ],
    "literals": [
        "\"@dokploy/server/services/backup\"",
        "\"../process/execAsync\"",
        "\"./utils\"",
        "\"@dokploy/server/services/destination\"",
        "\"@dokploy/server/constants\"",
        "\"-\"",
        "${BASE_PATH}/temp-backup-${timestamp}",
        "webserver-backup-${timestamp}.zip",
        ":s3:${destination.bucket}/${backup.prefix}${backupFileName}",
        "mkdir -p ${tempDir}/filesystem",
        "docker exec $(docker ps --filter \"name=dokploy-postgres\" -q) pg_dump -v -Fc -U dokploy -d dokploy > ${tempDir}/database.sql",
        "cp -r ${BASE_PATH}/* ${tempDir}/filesystem/",
        "cd ${tempDir} && zip -r ${backupFileName} database.sql filesystem/",
        "rclone copyto ${rcloneFlags.join(\" \")} \"${tempDir}/${backupFileName}\" \"${s3Path}\"",
        "\" \"",
        "rm -rf ${tempDir}",
        "\"Backup error:\""
    ],
    "variables": [
        "runWebServerBackup",
        "destination",
        "rcloneFlags",
        "timestamp",
        "tempDir",
        "backupFileName",
        "s3Path",
        "postgresCommand",
        "uploadCommand"
    ],
    "comments": [],
    "docstrings": [],
    "functions": [],
    "classes": []
}