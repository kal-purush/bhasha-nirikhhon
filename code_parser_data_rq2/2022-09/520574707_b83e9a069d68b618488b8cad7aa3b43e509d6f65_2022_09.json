{
    "identifiers": [
        "require",
        "likePhoto",
        "req",
        "res",
        "next",
        "connection",
        "getConnection",
        "req",
        "req",
        "connection",
        "id",
        "current",
        "req",
        "error",
        "error",
        "connection",
        "req",
        "id",
        "existingVote",
        "connection",
        "vote",
        "id",
        "req",
        "error",
        "next",
        "error",
        "connection",
        "connection",
        "likePhoto"
    ],
    "literals": [
        "'use strict'",
        "'../db/db'",
        "SELECT user_id \n      FROM photo\n      WHERE id=?",
        "'No puedes votar tu propio post'",
        "SELECT id\n      FROM photo_votes\n      WHERE user_id=? AND photo_id=?",
        "DELETE INTO likes(date, vote, photo_id, user_id)\n      VALUES(?,?,?,?)",
        "INSERT INTO likes(date, vote, photo_id, user_id)\n      VALUES(?,?,?,?)"
    ],
    "variables": [
        "likePhoto",
        "connection",
        "current",
        "error",
        "existingVote"
    ],
    "comments": [
        "Recojo los parámetros",
        "Compruebo el usuario no sea el creador de la entrada",
        "Compruebo que el usuario no votara anteriormente la entrada",
        "Añado el voto a la tabla",
        "Saco la nueva media de votos (por implementar)",
        "res.send({",
        "status: 'ok',",
        "data: {",
        "likes:",
        "},",
        "});"
    ],
    "docstrings": [],
    "functions": [],
    "classes": []
}