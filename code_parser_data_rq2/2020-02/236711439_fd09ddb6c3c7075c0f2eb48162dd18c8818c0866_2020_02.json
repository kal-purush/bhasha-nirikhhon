{
    "identifiers": [
        "cdk",
        "Certificate",
        "Vpc",
        "Repository",
        "FargateCluster",
        "KubernetesResource",
        "ContainerImage",
        "AccountRootPrincipal",
        "Effect",
        "FederatedPrincipal",
        "ManagedPolicy",
        "PolicyStatement",
        "Role",
        "StringParameter",
        "ReinventTriviaResource",
        "AlbIngressControllerPolicy",
        "HostedZone",
        "cdk",
        "cdk",
        "parent",
        "cdk",
        "name",
        "props",
        "parent",
        "name",
        "props",
        "Vpc",
        "FargateCluster",
        "props",
        "vpc",
        "Role",
        "AccountRootPrincipal",
        "cluster",
        "Repository",
        "process",
        "process",
        "ContainerImage",
        "imageRepo",
        "tag",
        "StringParameter",
        "props",
        "Certificate",
        "certificateArn",
        "ReinventTriviaResource",
        "props",
        "reinventTrivia",
        "fargateProfile",
        "cluster",
        "metricsServerChart",
        "fargateProfile",
        "cdk",
        "parent",
        "cdk",
        "name",
        "parent",
        "name",
        "props",
        "props",
        "Role",
        "FederatedPrincipal",
        "cdk",
        "props",
        "OIDC_PROVIDER",
        "AlbIngressControllerPolicy",
        "cluster",
        "cdk",
        "cluster",
        "cluster",
        "cluster",
        "albIngressControllerRole",
        "albIngressChart",
        "metricsServerChart",
        "KubernetesResource",
        "props",
        "HostedZone",
        "props",
        "Role",
        "FederatedPrincipal",
        "cdk",
        "props",
        "OIDC_PROVIDER",
        "ManagedPolicy",
        "PolicyStatement",
        "hostedZoneId",
        "Effect",
        "PolicyStatement",
        "Effect",
        "cluster",
        "props",
        "externalDnsRole",
        "externalDnsChart",
        "metricsServerChart",
        "reinventTrivia",
        "cdk",
        "TriviaBackendStack",
        "app",
        "process",
        "app"
    ],
    "literals": [
        "'@aws-cdk/core'",
        "'@aws-cdk/aws-certificatemanager'",
        "'@aws-cdk/aws-ec2'",
        "'@aws-cdk/aws-ecr'",
        "'@aws-cdk/aws-eks'",
        "'@aws-cdk/aws-ecs'",
        "'@aws-cdk/aws-iam'",
        "'@aws-cdk/aws-ssm'",
        "'./eks/kubernetes-resources/reinvent-trivia'",
        "'./eks/alb-ingress-controller-policy'",
        "'@aws-cdk/aws-route53'",
        "string",
        "string",
        "string",
        "string",
        "'VPC'",
        "'FargateCluster'",
        "'-'",
        "'reinvent-trivia'",
        "'default'",
        "'kube-system'",
        "'reinvent-trivia'",
        "'ClusterAdminRole'",
        "'fargate-profile-reinvent-trivia'",
        "'Repo'",
        "'reinvent-trivia-backend'",
        "'latest'",
        "'CertArnParameter'",
        "'CertificateArn-'",
        "'Cert'",
        "'ReinventTrivia'",
        "'MetricsServer'",
        "'metrics-server'",
        "'metrics-server-rt'",
        "'https://kubernetes-charts.storage.googleapis.com'",
        "'2.9.0'",
        "'kube-system'",
        "string",
        "'AlbIngressControllerRole'",
        "'arn:aws:iam::'",
        "':oidc-provider/'",
        "'StringEquals'",
        "${OIDC_PROVIDER + ':sub'}",
        "':sub'",
        "'system:serviceaccount:kube-system:aws-alb-ingress-controller'",
        "'sts:AssumeRoleWithWebIdentity'",
        "'ReinventTriviaAlbIngressControllerRole'",
        "'AlbIngressControllerPolicy'",
        "'AlbIngress'",
        "'aws-alb-ingress-controller'",
        "'alb-ingress-controller-rt'",
        "'https://kubernetes-charts-incubator.storage.googleapis.com'",
        "'0.1.13'",
        "'kube-system'",
        "'aws-alb-ingress-controller'",
        "'eks.amazonaws.com/role-arn'",
        "'reinvent-trivia'",
        "'HorizontalPodAutoscaler'",
        "'autoscaling/v1'",
        "'HorizontalPodAutoscaler'",
        "'api'",
        "'reinvent-trivia'",
        "'apps/v1'",
        "'Deployment'",
        "'api'",
        "'ApiDomainHostedZone'",
        "'ExternalDnsRole'",
        "'arn:aws:iam::'",
        "':oidc-provider/'",
        "'StringEquals'",
        "${OIDC_PROVIDER + ':sub'}",
        "':sub'",
        "'system:serviceaccount:kube-system:external-dns-rt'",
        "'sts:AssumeRoleWithWebIdentity'",
        "'ReinventTriviaExternalDnsRole'",
        "'ExternalDnsPolicy'",
        "'ExternalDnsPolicy'",
        "'Used by the ExternalDNS pod to make AWS API calls for updating DNS'",
        "'arn:aws:route53:::hostedzone/'",
        "\"route53:ChangeResourceRecordSets\"",
        "'*'",
        "'route53:ListHostedZones'",
        "'route53:ListResourceRecordSets'",
        "'ExternalDns'",
        "'external-dns'",
        "'external-dns-rt'",
        "'https://kubernetes-charts.storage.googleapis.com'",
        "'2.16.2'",
        "'kube-system'",
        "'reinvent-trivia'",
        "'aws'",
        "'eks.amazonaws.com/role-arn'",
        "'KubernetesResources'",
        "'TriviaBackendProd'",
        "'api.reinvent-trivia.com'",
        "'reinvent-trivia.com'",
        "'CDK_DEFAULT_ACCOUNT'",
        "'us-east-1'"
    ],
    "variables": [
        "vpc",
        "cluster",
        "fargateProfile",
        "imageRepo",
        "tag",
        "image",
        "certificateArn",
        "certificate",
        "reinventTrivia",
        "metricsServerChart",
        "OIDC_PROVIDER",
        "albIngressControllerRole",
        "albIngressChart",
        "hostedZoneId",
        "externalDnsRole",
        "externalDnsChart",
        "app"
    ],
    "comments": [
        "Network infrastructure",
        "Initial creation of the cluster",
        "Configuration parameters",
        "Lookup pre-existing TLS certificate",
        "Kubernetes resources for the ReinventTrivia namespace, deployment, service, etc.",
        "This \"new class extends cdk.Construct {\" convention wraps the resources created within and allows",
        "us make all of them dependent on the EKS Cluster's Fargate Profile resource in one fell swoop. This",
        "will prevent pods from being stuck in a \"Pending\" state forever after initial creation if Kubernetes",
        "attempts to schedule them before the Fargate Profile is ready.",
        "This block creates the ALB Ingress Controller resources, but requires an OIDC provider in order",
        "to function, which will not exist until the cluster creation is completed. After the initial",
        "`cdk deploy` is complete, follow the README instructions on how to associate the OIDC provider",
        "and complete the initial setup.",
        "NOTE: `domainZone` must already exist in Route 53.",
        "oidcProvider: 'oidc.eks.<region>.amazonaws.com/id/<hexadecimal string>',"
    ],
    "docstrings": [
        "* NOTE: `oidcProvider` will not be available until after the cluster is deployed for the first\n   * time. Leave the line below commented out for the initial `cdk deploy`. See README for details."
    ],
    "functions": [],
    "classes": [
        "TriviaBackendStack"
    ]
}