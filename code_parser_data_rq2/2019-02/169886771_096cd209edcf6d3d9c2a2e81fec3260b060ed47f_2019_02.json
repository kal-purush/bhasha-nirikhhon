{
    "identifiers": [
        "options",
        "options",
        "options",
        "options",
        "options",
        "options",
        "options",
        "options",
        "attachment",
        "options",
        "options",
        "superUrl",
        "attachment",
        "options",
        "options",
        "options",
        "superUrl",
        "attachment",
        "options",
        "path",
        "req",
        "res",
        "req",
        "res",
        "req",
        "res",
        "next",
        "req",
        "path",
        "next",
        "req",
        "slashAt",
        "req",
        "slashAt",
        "path",
        "hyphenAt",
        "path",
        "hyphenAt",
        "_id",
        "attachment",
        "attachment",
        "attachment",
        "req",
        "attachment",
        "doc",
        "next",
        "e",
        "e",
        "res",
        "e",
        "res",
        "e",
        "res",
        "req",
        "res",
        "req",
        "path",
        "path",
        "res",
        "require",
        "path"
    ],
    "literals": [
        "'lib/modules'",
        "'apostrophe-secure-attachments-images'",
        "'apostrophe-secure-attachments-files'",
        "'apostrophe-attachments'",
        "'/data/secured'",
        "''",
        "'/modules/apostrophe-attachments/view'",
        "'/view/'",
        "'get'",
        "'view/*'",
        "'attachments/'",
        "'/'",
        "'notfound'",
        "'-'",
        "'notfound'",
        "'notfound'",
        "'forbidden'",
        "'forbidden'",
        "'notfound'",
        "'not found'",
        "'forbidden'",
        "'forbidden'",
        "'error'",
        "'/'",
        "''",
        "'path'"
    ],
    "variables": [
        "superUrl",
        "path",
        "path",
        "slashAt",
        "path",
        "hyphenAt",
        "_id",
        "attachment",
        "doc",
        "path"
    ],
    "comments": [
        "after \"attachments...\"",
        "comes the path to the file...",
        "the _id is everything up to the first -",
        "Once an attachment is attached to its first doc, the permissions",
        "of its docs become its permissions - we have to be able to view",
        "at least one of them as this user",
        "We are not cool enough to view any of the docs that",
        "contain this attachment (there can be more than one",
        "due to page copying, piece copying and workflow)",
        "OK to let it through",
        "TODO standard apostrophe 404 page would be nicer",
        "TODO Compatibility with apostrophe-second-chance-login would",
        "be better here",
        "TODO standard apostrophe 500 page would be better",
        "Send the file at the uploadfs path specified by req.params[0]",
        "to the browser. Assumes local uploadfs backend. Streaming",
        "securely from other backends would be expensive and slow.",
        "Perhaps it could be implemented with local caching, but we",
        "would also have to change the paths to not contain an _id",
        "that is visible in the URL so folks don't just go straight",
        "to the bucket, etc.",
        "No sneakiness"
    ],
    "docstrings": [],
    "functions": [],
    "classes": []
}