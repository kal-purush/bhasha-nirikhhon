{
    "identifiers": [
        "dataclasses",
        "json",
        "os",
        "absl",
        "logging",
        "dataclasses",
        "dataclass",
        "iter",
        "dataclasses",
        "astuple",
        "ClusterInfo",
        "os",
        "getenv",
        "cluster_spec",
        "ClusterInfo",
        "primary_node_addr",
        "os",
        "getenv",
        "primary_node_port",
        "os",
        "getenv",
        "node_rank",
        "os",
        "getenv",
        "num_nodes",
        "os",
        "getenv",
        "cluster_info",
        "json",
        "loads",
        "cluster_spec",
        "cluster_data",
        "logging",
        "info",
        "primary_node",
        "primary_node",
        "split",
        "logging",
        "info",
        "primary_node_addr",
        "logging",
        "info",
        "primary_node_port",
        "cluster_data",
        "workerpool",
        "workerpool",
        "cluster_data",
        "ValueError",
        "workerpool",
        "logging",
        "info",
        "node_rank",
        "cluster_data",
        "num_nodes",
        "len",
        "cluster_data",
        "logging",
        "info",
        "num_nodes",
        "ClusterInfo",
        "primary_node_addr",
        "primary_node_port",
        "node_rank",
        "num_nodes"
    ],
    "literals": [
        "'CLUSTER_SPEC'",
        "'MASTER_ADDR'",
        "'MASTER_PORT'",
        "'RANK'",
        "'0'",
        "'NNODES'",
        "'1'",
        "'cluster'",
        "'workerpool0'",
        "'primary node: %s'",
        "':'",
        "'primary node address: %s'",
        "'primary node port: %s'",
        "'task'",
        "'type'",
        "'workerpool0'",
        "'workerpool1'",
        "'task'",
        "'index'",
        "'Only workerpool0 and workerpool1 are supported. Unknown workerpool:'",
        "f' {workerpool}'",
        "'node rank: %s'",
        "'workerpool1'",
        "'cluster'",
        "'cluster'",
        "'workerpool1'",
        "'num nodes: %s'"
    ],
    "variables": [
        "primary_node_addr",
        "primary_node_port",
        "node_rank",
        "num_nodes",
        "cluster_spec",
        "cluster_info",
        "cluster_data",
        "primary_node",
        "primary_node_addr",
        "primary_node_port",
        "workerpool",
        "node_rank",
        "node_rank",
        "num_nodes"
    ],
    "comments": [
        "Allows unpacking operation like",
        "primary_node_addr, primary_node_port, _, _ = ClusterInfo()",
        "See https://stackoverflow.com/a/70753113",
        "If CLUSTER_SPEC is not set, use individual vars to construct cluster info.",
        "Get primary node info",
        "Determine node rank of this machine",
        "Add 1 for the primary node, since `index` is the index of workerpool1.",
        "Calculate total nodes.",
        "For the primary node."
    ],
    "docstrings": [
        "\"\"\"Get cluster info from environment variables.\"\"\"",
        "\"\"\"Contains information about the cluster.\n\n  Attributes:\n    primary_node_addr: The address of the primary node.\n    primary_node_port: The port of the primary node.\n    node_rank: The rank of the node.\n    num_nodes: The number of nodes in the cluster.\n  \"\"\"",
        "\"\"\"Parses CLUSTER_SPEC environment variable and returns the cluster info.\n\n  Returns:\n    A ClusterInfo object.\n  \"\"\""
    ],
    "functions": [
        "__iter__",
        "get_cluster_spec"
    ],
    "classes": [
        "ClusterInfo"
    ]
}