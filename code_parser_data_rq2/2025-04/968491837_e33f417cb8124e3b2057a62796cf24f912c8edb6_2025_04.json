{
    "identifiers": [
        "os",
        "json",
        "io",
        "logging",
        "typing",
        "Optional",
        "pathlib",
        "Path",
        "fastapi",
        "FastAPI",
        "UploadFile",
        "File",
        "HTTPException",
        "status",
        "Request",
        "fastapi",
        "middleware",
        "cors",
        "CORSMiddleware",
        "fastapi",
        "responses",
        "JSONResponse",
        "pydantic",
        "BaseModel",
        "dotenv",
        "load_dotenv",
        "google",
        "oauth2",
        "service_account",
        "googleapiclient",
        "discovery",
        "build",
        "googleapiclient",
        "http",
        "MediaIoBaseUpload",
        "googleapiclient",
        "errors",
        "HttpError",
        "time",
        "logging",
        "basicConfig",
        "level",
        "logging",
        "INFO",
        "format",
        "logging",
        "getLogger",
        "load_dotenv",
        "FastAPI",
        "title",
        "description",
        "version",
        "app",
        "add_middleware",
        "CORSMiddleware",
        "allow_origins",
        "allow_credentials",
        "allow_methods",
        "allow_headers",
        "BaseModel",
        "BaseModel",
        "Optional",
        "app",
        "exception_handler",
        "HTTPException",
        "request",
        "Request",
        "exc",
        "HTTPException",
        "JSONResponse",
        "status_code",
        "exc",
        "status_code",
        "content",
        "exc",
        "detail",
        "os",
        "getenv",
        "service_account_path",
        "os",
        "path",
        "exists",
        "service_account_path",
        "service_account",
        "Credentials",
        "from_service_account_file",
        "service_account_path",
        "scopes",
        "logger",
        "info",
        "service_account_path",
        "os",
        "getenv",
        "service_account_info",
        "os",
        "getenv",
        "creds_from_env",
        "Path",
        "temp_creds_path",
        "write_text",
        "creds_from_env",
        "service_account",
        "Credentials",
        "from_service_account_file",
        "temp_creds_path",
        "scopes",
        "logger",
        "info",
        "ValueError",
        "json",
        "loads",
        "service_account_info",
        "service_account",
        "Credentials",
        "from_service_account_info",
        "service_account_dict",
        "scopes",
        "logger",
        "info",
        "json",
        "JSONDecodeError",
        "ValueError",
        "build",
        "credentials",
        "credentials",
        "drive_service",
        "e",
        "logger",
        "error",
        "e",
        "app",
        "get",
        "app",
        "post",
        "response_model",
        "UploadResponse",
        "responses",
        "ErrorResponse",
        "ErrorResponse",
        "file",
        "UploadFile",
        "File",
        "logger",
        "info",
        "file",
        "filename",
        "time",
        "time",
        "get_drive_service",
        "os",
        "getenv",
        "folder_id",
        "ValueError",
        "file",
        "read",
        "len",
        "file_content",
        "logger",
        "info",
        "file_size",
        "os",
        "path",
        "basename",
        "file",
        "filename",
        "time",
        "time",
        "original_name",
        "safe_filename",
        "folder_id",
        "MediaIoBaseUpload",
        "io",
        "BytesIO",
        "file_content",
        "mimetype",
        "file",
        "content_type",
        "resumable",
        "logger",
        "info",
        "folder_id",
        "drive_service",
        "files",
        "create",
        "body",
        "file_metadata",
        "media_body",
        "media",
        "fields",
        "execute",
        "time",
        "time",
        "start_time",
        "logger",
        "info",
        "uploaded_file",
        "get",
        "uploaded_file",
        "get",
        "uploaded_file",
        "get",
        "uploaded_file",
        "get",
        "uploaded_file",
        "get",
        "file_size",
        "uploaded_file",
        "get",
        "file",
        "content_type",
        "round",
        "upload_time",
        "ValueError",
        "e",
        "logger",
        "error",
        "e",
        "HTTPException",
        "status_code",
        "status",
        "HTTP_500_INTERNAL_SERVER_ERROR",
        "detail",
        "e",
        "HttpError",
        "e",
        "logger",
        "error",
        "e",
        "HTTPException",
        "status_code",
        "status",
        "HTTP_500_INTERNAL_SERVER_ERROR",
        "detail",
        "e",
        "e",
        "logger",
        "error",
        "e",
        "exc_info",
        "HTTPException",
        "status_code",
        "status",
        "HTTP_500_INTERNAL_SERVER_ERROR",
        "detail",
        "e",
        "app",
        "get",
        "time",
        "time",
        "uvicorn",
        "os",
        "getenv",
        "uvicorn",
        "run",
        "app",
        "host",
        "port",
        "port"
    ],
    "literals": [
        "\"%(asctime)s - %(name)s - %(levelname)s - %(message)s\"",
        "\"Google Drive File Uploader\"",
        "\"API for securely uploading files to Google Drive\"",
        "\"1.0.0\"",
        "\"*\"",
        "\"*\"",
        "\"*\"",
        "\"error\"",
        "\"GOOGLE_SERVICE_ACCOUNT_PATH\"",
        "\"https://www.googleapis.com/auth/drive\"",
        "f\"Loaded credentials from file: {service_account_path}\"",
        "\"GOOGLE_SERVICE_ACCOUNT_KEY\"",
        "\"GOOGLE_SERVICE_ACCOUNT_CONTENT\"",
        "\"temp_credentials.json\"",
        "\"https://www.googleapis.com/auth/drive\"",
        "\"Created and loaded temporary credentials file\"",
        "\"No Google credentials found. Please set GOOGLE_SERVICE_ACCOUNT_PATH or GOOGLE_SERVICE_ACCOUNT_KEY\"",
        "\"https://www.googleapis.com/auth/drive\"",
        "\"Loaded credentials from environment variable\"",
        "\"Invalid JSON in GOOGLE_SERVICE_ACCOUNT_KEY\"",
        "\"drive\"",
        "\"v3\"",
        "f\"Failed to initialize Google Drive: {str(e)}\"",
        "\"/test\"",
        "\"status\"",
        "\"ok\"",
        "\"message\"",
        "\"API is working\"",
        "\"/upload\"",
        "\"model\"",
        "\"model\"",
        "f\"Received upload request for file: {file.filename}\"",
        "\"GOOGLE_DRIVE_FOLDER_ID\"",
        "\"GOOGLE_DRIVE_FOLDER_ID environment variable is not set\"",
        "f\"File size: {file_size} bytes\"",
        "f\"{int(time.time())}_{original_name}\"",
        "\"name\"",
        "\"parents\"",
        "f\"Uploading file to Google Drive folder: {folder_id}\"",
        "\"id, name, size, mimeType, webViewLink\"",
        "f\"File uploaded successfully: {uploaded_file.get('name')} (ID: {uploaded_file.get('id')})\"",
        "'name'",
        "'id'",
        "\"message\"",
        "\"File uploaded successfully!\"",
        "\"file_id\"",
        "\"id\"",
        "\"file_name\"",
        "\"name\"",
        "\"file_size\"",
        "\"size\"",
        "\"mime_type\"",
        "\"mimeType\"",
        "\"upload_time\"",
        "f\"Configuration error: {str(e)}\"",
        "f\"Server configuration error: {str(e)}\"",
        "f\"Google Drive API error: {str(e)}\"",
        "f\"Google Drive API error: {str(e)}\"",
        "f\"Unexpected error during file upload: {str(e)}\"",
        "f\"Upload failed: {str(e)}\"",
        "\"/health\"",
        "\"status\"",
        "\"healthy\"",
        "\"timestamp\"",
        "\"__main__\"",
        "\"PORT\"",
        "\"0.0.0.0\""
    ],
    "variables": [
        "logger",
        "app",
        "message",
        "file_id",
        "file_name",
        "file_size",
        "mime_type",
        "upload_time",
        "error",
        "details",
        "service_account_path",
        "credentials",
        "service_account_info",
        "creds_from_env",
        "temp_creds_path",
        "credentials",
        "service_account_dict",
        "credentials",
        "drive_service",
        "start_time",
        "drive_service",
        "folder_id",
        "file_content",
        "file_size",
        "original_name",
        "safe_filename",
        "file_metadata",
        "media",
        "uploaded_file",
        "upload_time",
        "port"
    ],
    "comments": [
        "Configure logging",
        "Load environment variables",
        "Initialize FastAPI app",
        "credintials",
        "Add CORS middleware - CRITICAL for frontend connections",
        "Allow all origins for testing",
        "Response models",
        "Custom exception handler",
        "Global service account config function",
        "First try to use a JSON file if it exists",
        "Try to use the environment variable",
        "For testing/development: create a temporary credentials file",
        "Parse the JSON from environment variable",
        "Build and return the service",
        "Simple test endpoint to verify API is working",
        "Initialize Drive service",
        "Read file content",
        "For security, generate a clean filename",
        "Prepare file metadata",
        "Upload to Google Drive",
        "Calculate upload time"
    ],
    "docstrings": [
        "\"\"\"Initializes and returns Google Drive service\"\"\"",
        "\"\"\"Simple endpoint to test if the API is working\"\"\"",
        "\"\"\"Upload a file to Google Drive\"\"\"",
        "\"\"\"Health check endpoint for monitoring\"\"\""
    ],
    "functions": [
        "http_exception_handler",
        "get_drive_service",
        "test_endpoint",
        "upload_file",
        "health_check"
    ],
    "classes": [
        "UploadResponse",
        "ErrorResponse"
    ]
}