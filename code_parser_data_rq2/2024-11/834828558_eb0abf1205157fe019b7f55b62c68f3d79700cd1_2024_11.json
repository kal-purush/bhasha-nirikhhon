{
    "identifiers": [
        "NextResponse",
        "cookies",
        "code",
        "fetch",
        "URLSearchParams",
        "process",
        "process",
        "process",
        "response",
        "response",
        "token",
        "process",
        "fetch",
        "url",
        "token",
        "response",
        "response",
        "req",
        "req",
        "code",
        "NextResponse",
        "exchangeCodeForToken",
        "code",
        "tokenData",
        "token",
        "token",
        "getMe",
        "token",
        "NextResponse",
        "cookies",
        "cookieStore",
        "token",
        "process",
        "tokenData",
        "cookieStore",
        "userProfile",
        "process",
        "cookieStore",
        "process",
        "NextResponse",
        "process",
        "error",
        "error"
    ],
    "literals": [
        "'next/server'",
        "'next/headers'",
        "string",
        "'https://cedtintern.cp.eng.chula.ac.th/api/oauth/token'",
        "'POST'",
        "'Content-Type'",
        "'application/x-www-form-urlencoded'",
        "${process.env.IDP_CLIENT_ID}",
        "${process.env.IDP_CLIENT_SECRET}",
        "'authorization_code'",
        "${process.env.REDIRECT_URI}",
        "'profile student_contact_info student_academic_badge student_activity_badge'",
        "'Failed to exchange code for token'",
        "string",
        "${process.env.IDP_URL}/api/oauth/v1/profile",
        "'GET'",
        "'Content-Type'",
        "'application/json'",
        "Bearer ${token}",
        "'Failed to get profile data'",
        "'Code not provided'",
        "'Token not found'",
        "'access_token'",
        "'production'",
        "'/'",
        "'user_profile'",
        "'production'",
        "'/'",
        "'is_logged_in'",
        "'true'",
        "'production'",
        "'/'",
        "${process.env.NEXTAUTH_URL}/",
        "'Error in callback handler:'",
        "'error'"
    ],
    "variables": [
        "response",
        "url",
        "response",
        "tokenData",
        "token",
        "userProfile",
        "response",
        "cookieStore"
    ],
    "comments": [
        "function to exchange code for token",
        "function to get user profile data",
        "POST request handler",
        "Exchange code for token",
        "Fetch user profile data",
        "console.log(userProfile)",
        "Store data in cookies",
        "Store the token",
        "Store user profile data",
        "Store login state",
        "Redirect user to the homepage"
    ],
    "docstrings": [],
    "functions": [
        "exchangeCodeForToken",
        "getMe",
        "POST"
    ],
    "classes": []
}