{
    "identifiers": [
        "logging",
        "datetime",
        "timedelta",
        "stripe",
        "django",
        "utils",
        "timezone",
        "django",
        "conf",
        "settings",
        "django",
        "core",
        "mail",
        "send_mail",
        "django",
        "template",
        "loader",
        "get_template",
        "django",
        "core",
        "management",
        "BaseCommand",
        "booking",
        "models",
        "UserMembership",
        "StripeSubscriptionVoucher",
        "booking",
        "views",
        "membership_views",
        "ensure_subscription_up_to_date",
        "activitylog",
        "models",
        "ActivityLog",
        "stripe_payments",
        "utils",
        "StripeConnector",
        "logging",
        "getLogger",
        "BaseCommand",
        "args",
        "options",
        "StripeConnector",
        "UserMembership",
        "objects",
        "subscription_status",
        "user_membership",
        "active",
        "client",
        "get_subscription",
        "user_membership",
        "subscription_id",
        "stripe_subscription",
        "discounts",
        "stripe_subscription",
        "discounts",
        "StripeSubscriptionVoucher",
        "objects",
        "get",
        "promo_code_id",
        "discount",
        "promotion_code",
        "voucher",
        "expires_before_next_payment_date",
        "client",
        "remove_discount_from_subscription",
        "stripe_subscription",
        "id",
        "stdout",
        "write",
        "voucher",
        "code",
        "user_membership",
        "username"
    ],
    "literals": [
        "'Remove expired discounts'",
        "\"active\"",
        "f\"Expired discount code {voucher.code} removed from subscription from user {user_membership.username}\""
    ],
    "variables": [
        "logger",
        "help",
        "client",
        "active",
        "stripe_subscription",
        "discount",
        "voucher"
    ],
    "comments": [],
    "docstrings": [
        "'''\nFind all subscriptions with discounts applied.\nCheck if discount voucher code expires before next payment date\nRemove discount if necessary\n'''"
    ],
    "functions": [
        "handle"
    ],
    "classes": [
        "Command"
    ]
}