{
    "identifiers": [
        "require",
        "require",
        "express",
        "require",
        "require",
        "require",
        "Router",
        "ensureToken",
        "req",
        "res",
        "req",
        "req",
        "Joi",
        "Joi",
        "schema",
        "req",
        "result",
        "res",
        "result",
        "device_id",
        "jwt",
        "req",
        "error",
        "data",
        "error",
        "res",
        "mysqlConnection",
        "sql",
        "device_id",
        "error",
        "result",
        "error",
        "error",
        "result",
        "res",
        "res",
        "Router"
    ],
    "literals": [
        "'express'",
        "'joi'",
        "'../connection/connection'",
        "'jsonwebtoken'",
        "'../middleware/authenticate'",
        "'/'",
        "SELECT * from DEVICE WHERE device_id = ${device_id}",
        "'my_secret_key'",
        "'Checking the Room tempereature....'",
        "\"Checking the Room temperature...\"",
        "'Wrong Device ID'"
    ],
    "variables": [
        "express",
        "Joi",
        "Router",
        "mysqlConnection",
        "jwt",
        "ensureToken",
        "schema",
        "result",
        "sql"
    ],
    "comments": [
        "const bcrypt = require('bcrypt')",
        "console.log(state);",
        "console.log(max_temp);",
        "console.log(speed);",
        "server side validation",
        "state:Joi.string().min(2).max(3).required(),",
        "max_temp:Joi.string().min(2).max(3).required(),",
        "==",
        "})",
        "==",
        "mysqlConnection.query(sql,\n        [device_id],(error, result) => {\n\n            if(error){\n\n                console.log(error);\n\n            }\n\n            if(result.length > 0){\n                //==\n                if(fan=='on'){\n                    mysqlConnection.query(`UPDATE DEVICE set fan=1  WHERE device_id=${device_id};`,\n                    [fan],(error,rows,fileds)=>{\n                            if(!error){\n                                res.json({Status:'Successful'});\n                            }else{\n                                console.log(error);\n                            }\n\n    \n                    })\n                }\n                else if(fan=='off'){\n                    //==\n                    mysqlConnection.query(`UPDATE DEVICE set fan=0  WHERE device_id=${device_id};`,\n                    [fan],(error,rows,fileds)=>{\n                            if(!error){\n                                res.json({Status:'Successful'});\n                            }else{\n                                console.log(error);\n                            }\n\n    \n                    })\n                    //==\n                }\n                \n                //==\n            }\n            else{\n                res.json({Status:'Wrong Device ID'});\n            }\n        });"
    ],
    "docstrings": [],
    "functions": [],
    "classes": []
}