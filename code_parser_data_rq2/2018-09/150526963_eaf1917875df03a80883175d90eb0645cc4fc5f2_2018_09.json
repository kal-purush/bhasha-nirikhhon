{
    "identifiers": [
        "matplotlib",
        "pyplot",
        "plt",
        "pandas",
        "pd",
        "numpy",
        "np",
        "mpl_toolkits",
        "axes_grid1",
        "make_axes_locatable",
        "sklearn",
        "cluster",
        "KMeans",
        "sklearn",
        "metrics",
        "mean_squared_error",
        "itertools",
        "sklearn",
        "metrics",
        "silhouette_samples",
        "silhouette_score",
        "x_data",
        "x_label",
        "y_data",
        "y_label",
        "plt",
        "figure",
        "figsize",
        "fig",
        "add_subplot",
        "plt",
        "xlim",
        "plt",
        "ylim",
        "ax",
        "set_xlabel",
        "x_label",
        "ax",
        "set_ylabel",
        "y_label",
        "ax",
        "scatter",
        "x_data",
        "y_data",
        "s",
        "biased_dataset",
        "predictions",
        "cmap",
        "plt",
        "figure",
        "figsize",
        "fig",
        "add_subplot",
        "plt",
        "xlim",
        "plt",
        "ylim",
        "ax",
        "set_xlabel",
        "ax",
        "set_ylabel",
        "pd",
        "concat",
        "biased_dataset",
        "reset_index",
        "pd",
        "DataFrame",
        "predictions",
        "axis",
        "plt",
        "scatter",
        "clustered",
        "clustered",
        "c",
        "clustered",
        "s",
        "cmap",
        "cmap",
        "k",
        "data",
        "KMeans",
        "n_clusters",
        "k",
        "fit",
        "data",
        "kmeans",
        "predict",
        "data",
        "silhouette_score",
        "data",
        "predictions",
        "silhouette_avg",
        "k",
        "data",
        "KMeans",
        "n_clusters",
        "k",
        "fit",
        "data",
        "kmeans",
        "predict",
        "data",
        "kmeans",
        "cluster_centers_",
        "mean_squared_error",
        "row",
        "cluster_centers",
        "cluster",
        "row",
        "cluster",
        "data",
        "predictions",
        "sum",
        "errors",
        "ratings",
        "movies",
        "genres",
        "column_names",
        "pd",
        "DataFrame",
        "genre",
        "genres",
        "movies",
        "movies",
        "contains",
        "genre",
        "ratings",
        "ratings",
        "isin",
        "genre_movies",
        "loc",
        "groupby",
        "mean",
        "round",
        "pd",
        "concat",
        "genre_ratings",
        "avg_genre_votes_per_user",
        "axis",
        "column_names",
        "genre_ratings",
        "movies",
        "ratings",
        "genre_ratings",
        "movies",
        "movies",
        "contains",
        "ratings",
        "ratings",
        "isin",
        "action_movies",
        "loc",
        "groupby",
        "mean",
        "round",
        "pd",
        "concat",
        "genre_ratings",
        "avg_action_votes_per_user",
        "axis",
        "genre_ratings_3",
        "genre_ratings_3",
        "b1",
        "genre_ratings_3",
        "b2",
        "genre_ratings_3",
        "b1",
        "genre_ratings_3",
        "b2",
        "pd",
        "concat",
        "biased_dataset_3",
        "genre_ratings_3",
        "pd",
        "DataFrame",
        "biased_dataset_3",
        "to_records",
        "biased_dataset_3",
        "biased_dataset_3",
        "predictions",
        "plt",
        "figure",
        "figsize",
        "fig",
        "add_subplot",
        "plt",
        "xlim",
        "plt",
        "ylim",
        "ax",
        "set_xlabel",
        "ax",
        "set_ylabel",
        "pd",
        "concat",
        "biased_dataset_3",
        "reset_index",
        "pd",
        "DataFrame",
        "predictions",
        "axis",
        "itertools",
        "cycle",
        "plt",
        "rcParams",
        "by_key",
        "g",
        "clustered",
        "group",
        "unique",
        "next",
        "colors",
        "index",
        "point",
        "clustered",
        "clustered",
        "group",
        "g",
        "iterrows",
        "point",
        "astype",
        "plt",
        "scatter",
        "point",
        "point",
        "s",
        "size",
        "color",
        "color",
        "clustered",
        "max_users",
        "max_movies",
        "cluster_id",
        "clustered",
        "group",
        "unique",
        "clustered",
        "clustered",
        "group",
        "cluster_id",
        "drop",
        "axis",
        "d",
        "shape",
        "sort_by_rating_density",
        "d",
        "max_movies",
        "max_users",
        "d",
        "reindex_axis",
        "d",
        "mean",
        "sort_values",
        "ascending",
        "index",
        "axis",
        "d",
        "reindex_axis",
        "d",
        "count",
        "axis",
        "sort_values",
        "ascending",
        "index",
        "d",
        "iloc",
        "max_users",
        "max_movies",
        "d",
        "shape",
        "len",
        "d",
        "format",
        "cluster_id",
        "format",
        "n_users_in_cluster",
        "format",
        "n_users_in_plot",
        "plt",
        "figure",
        "figsize",
        "plt",
        "gca",
        "ax",
        "invert_yaxis",
        "ax",
        "xaxis",
        "tick_top",
        "d",
        "columns",
        "ax",
        "set_yticks",
        "np",
        "arange",
        "d",
        "shape",
        "minor",
        "ax",
        "set_xticks",
        "np",
        "arange",
        "d",
        "shape",
        "minor",
        "ax",
        "set_xticklabels",
        "labels",
        "minor",
        "ax",
        "get_yaxis",
        "set_visible",
        "plt",
        "imshow",
        "d",
        "vmin",
        "vmax",
        "aspect",
        "ax",
        "set_xlabel",
        "ax",
        "set_ylabel",
        "make_axes_locatable",
        "ax",
        "divider",
        "append_axes",
        "size",
        "pad",
        "fig",
        "colorbar",
        "heatmap",
        "ticks",
        "cax",
        "cax",
        "cbar",
        "ax",
        "set_yticklabels",
        "plt",
        "setp",
        "ax",
        "get_xticklabels",
        "rotation",
        "fontsize",
        "plt",
        "tick_params",
        "axis",
        "which",
        "bottom",
        "top",
        "left",
        "labelbottom",
        "labelleft",
        "plt",
        "show",
        "user_movie_ratings",
        "max_number_of_movies",
        "user_movie_ratings",
        "append",
        "user_movie_ratings",
        "count",
        "ignore_index",
        "user_movie_ratings",
        "sort_values",
        "len",
        "user_movie_ratings",
        "axis",
        "ascending",
        "user_movie_ratings_sorted",
        "drop",
        "user_movie_ratings_sorted",
        "tail",
        "index",
        "user_movie_ratings_sorted",
        "iloc",
        "max_number_of_movies",
        "most_rated_movies",
        "most_rated_movies",
        "max_number_of_movies",
        "pd",
        "Series",
        "most_rated_movies",
        "count",
        "axis",
        "most_rated_movies",
        "sort_values",
        "ascending",
        "most_rated_movies_users",
        "iloc",
        "max_number_of_movies",
        "most_rated_movies_users_selection",
        "drop",
        "axis",
        "most_rated_movies_users_selection",
        "user_movie_ratings",
        "n_movies",
        "n_users",
        "get_most_rated_movies",
        "user_movie_ratings",
        "n_movies",
        "get_users_who_rate_the_most",
        "most_rated_movies",
        "n_users",
        "most_rated_movies",
        "most_rated_movies_users_selection",
        "axis_labels",
        "plt",
        "figure",
        "figsize",
        "plt",
        "gca",
        "ax",
        "imshow",
        "most_rated_movies_users_selection",
        "interpolation",
        "vmin",
        "vmax",
        "aspect",
        "axis_labels",
        "ax",
        "set_yticks",
        "np",
        "arange",
        "most_rated_movies_users_selection",
        "shape",
        "minor",
        "ax",
        "set_xticks",
        "np",
        "arange",
        "most_rated_movies_users_selection",
        "shape",
        "minor",
        "ax",
        "invert_yaxis",
        "ax",
        "xaxis",
        "tick_top",
        "most_rated_movies_users_selection",
        "columns",
        "ax",
        "set_xticklabels",
        "labels",
        "minor",
        "ax",
        "set_yticklabels",
        "most_rated_movies_users_selection",
        "index",
        "minor",
        "plt",
        "setp",
        "ax",
        "get_xticklabels",
        "rotation",
        "ax",
        "get_xaxis",
        "set_visible",
        "ax",
        "get_yaxis",
        "set_visible",
        "ax",
        "grid",
        "ax",
        "set_ylabel",
        "make_axes_locatable",
        "ax",
        "divider",
        "append_axes",
        "size",
        "pad",
        "fig",
        "colorbar",
        "heatmap",
        "ticks",
        "cax",
        "cax",
        "cbar",
        "ax",
        "set_yticklabels",
        "plt",
        "show",
        "genre_ratings",
        "score_limit_1",
        "score_limit_2",
        "genre_ratings",
        "genre_ratings",
        "score_limit_1",
        "genre_ratings",
        "score_limit_2",
        "genre_ratings",
        "score_limit_1",
        "genre_ratings",
        "score_limit_2",
        "pd",
        "concat",
        "biased_dataset",
        "genre_ratings",
        "pd",
        "DataFrame",
        "biased_dataset",
        "to_records",
        "biased_dataset"
    ],
    "literals": [
        "'viridis'",
        "'Avg scifi rating'",
        "'Avg romance rating'",
        "'group'",
        "'avg_scifi_rating'",
        "'avg_romance_rating'",
        "'group'",
        "'genres'",
        "'movieId'",
        "'movieId'",
        "'userId'",
        "'rating'",
        "'userId'",
        "'rating'",
        "'genres'",
        "'Action'",
        "'movieId'",
        "'movieId'",
        "'userId'",
        "'rating'",
        "'userId'",
        "'rating'",
        "'avg_romance_rating'",
        "'avg_scifi_rating'",
        "'avg_action_rating'",
        "'avg_romance_rating'",
        "'avg_scifi_rating'",
        "'avg_scifi_rating'",
        "'avg_romance_rating'",
        "'Avg scifi rating'",
        "'Avg romance rating'",
        "'group'",
        "\"axes.prop_cycle\"",
        "\"color\"",
        "'avg_action_rating'",
        "'avg_scifi_rating'",
        "'avg_romance_rating'",
        "'index'",
        "'group'",
        "'cluster # {}'",
        "'# of users in cluster: {}.'",
        "'# of users in plot: {}'",
        "'auto'",
        "'movies'",
        "'User id'",
        "\"right\"",
        "\"5%\"",
        "'5 stars'",
        "'4 stars'",
        "'3 stars'",
        "'2 stars'",
        "'1 stars'",
        "'0 stars'",
        "'both'",
        "'both'",
        "'off'",
        "'off'",
        "'off'",
        "'off'",
        "'off'",
        "'counts'",
        "'counts'",
        "'counts'",
        "'nearest'",
        "'auto'",
        "'User id'",
        "\"right\"",
        "\"5%\"",
        "'5 stars'",
        "'4 stars'",
        "'3 stars'",
        "'2 stars'",
        "'1 stars'",
        "'0 stars'",
        "'avg_romance_rating'",
        "'avg_scifi_rating'",
        "'avg_scifi_rating'",
        "'avg_romance_rating'"
    ],
    "variables": [
        "fig",
        "ax",
        "fig",
        "ax",
        "clustered",
        "kmeans",
        "predictions",
        "silhouette_avg",
        "kmeans",
        "predictions",
        "cluster_centers",
        "errors",
        "genre_ratings",
        "genre_movies",
        "avg_genre_votes_per_user",
        "genre_ratings",
        "genre_ratings",
        "columns",
        "action_movies",
        "avg_action_votes_per_user",
        "genre_ratings_3",
        "genre_ratings_3",
        "columns",
        "b1",
        "b2",
        "biased_dataset_3",
        "biased_dataset_3",
        "biased_dataset_3",
        "fig",
        "ax",
        "clustered",
        "colors",
        "color",
        "size",
        "size",
        "c",
        "d",
        "n_users_in_cluster",
        "d",
        "d",
        "d",
        "d",
        "n_users_in_plot",
        "fig",
        "ax",
        "labels",
        "heatmap",
        "divider",
        "cax",
        "cbar",
        "user_movie_ratings",
        "user_movie_ratings_sorted",
        "user_movie_ratings_sorted",
        "most_rated_movies",
        "most_rated_movies",
        "most_rated_movies_users",
        "most_rated_movies_users_selection",
        "most_rated_movies_users_selection",
        "most_rated_movies",
        "most_rated_movies",
        "fig",
        "ax",
        "heatmap",
        "labels",
        "divider",
        "cax",
        "cbar",
        "biased_dataset",
        "biased_dataset",
        "biased_dataset"
    ],
    "comments": [
        "cluster_centers = kmeans.cluster_centers_",
        "errors = [mean_squared_error(row, cluster_centers[cluster]) for row, cluster in zip(data.values, predictions)]",
        "return sum(errors)",
        "pandas str.contains https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.contains.html",
        "Extract action ratings from dataset",
        "Get average vote on action movies per user",
        "Add action ratings to romance and scifi in dataframe",
        "Let's bias the dataset a little so our clusters can separate scifi vs romance more easily",
        "To improve visibility, we're showing at most max_users users and max_movies movies per cluster.",
        "You can change these values to see more users & movies per cluster",
        "We're only selecting to show clusters that have more than 9 users, otherwise, they're less interesting",
        "Heatmap",
        "Color bar",
        "print('cluster # {} \\n(Showing at most {} users and {} movies)'.format(cluster_id, max_users, max_movies))",
        "Let's only show 5 clusters",
        "Remove the next three lines if you want to see all the clusters",
        "Contribution welcomed: Pythonic way of achieving this",
        "c = c+1",
        "if c > 6:",
        "break",
        "1- Count",
        "2- sort",
        "3- slice",
        "Get most voting users",
        "1- Count",
        "2- Sort",
        "3- Slice",
        "Reverse to match the order of the printed dataframe",
        "most_rated_movies_users_selection = most_rated_movies_users_selection.iloc[::-1]",
        "Draw heatmap",
        "Separate heatmap from color bar",
        "Color bar"
    ],
    "docstrings": [],
    "functions": [
        "draw_scatterplot",
        "draw_clusters",
        "clustering_errors",
        "sparse_clustering_errors",
        "get_genre_ratings",
        "get_dataset_3",
        "draw_clusters_3d",
        "draw_movie_clusters",
        "get_most_rated_movies",
        "get_users_who_rate_the_most",
        "sort_by_rating_density",
        "draw_movies_heatmap",
        "bias_genre_rating_dataset"
    ],
    "classes": []
}