{
    "identifiers": [
        "os",
        "structlog",
        "typing",
        "Optional",
        "Tuple",
        "Dict",
        "fastapi",
        "HTTPException",
        "UploadFile",
        "Request",
        "src",
        "models",
        "client_config",
        "ClientConfig",
        "src",
        "models",
        "file_upload",
        "FileUpload",
        "src",
        "services",
        "audit_service",
        "s3_service",
        "src",
        "utils",
        "operation_types",
        "OperationType",
        "src",
        "utils",
        "request_types",
        "RequestType",
        "src",
        "validation",
        "clam_av_validator",
        "client_configured_validator",
        "structlog",
        "get_logger",
        "request",
        "Request",
        "file",
        "Optional",
        "UploadFile",
        "body",
        "FileUpload",
        "client_config",
        "ClientConfig",
        "request_type",
        "RequestType",
        "Tuple",
        "Dict",
        "clam_av_validator",
        "scan_request",
        "request",
        "headers",
        "file",
        "validation_result",
        "status_code",
        "HTTPException",
        "status_code",
        "validation_result",
        "status_code",
        "detail",
        "validation_result",
        "message",
        "client_configured_validator",
        "validate_or_error",
        "file",
        "client_config",
        "file_validators",
        "body",
        "model_dump",
        "metadata",
        "pop",
        "bucket_name",
        "client_config",
        "bucket_name",
        "logger",
        "warning",
        "client_config",
        "azure_client_id",
        "bucket_name",
        "client_config",
        "bucket_name",
        "metadata",
        "pop",
        "os",
        "path",
        "join",
        "folder_prefix",
        "file",
        "filename",
        "folder_prefix",
        "file",
        "filename",
        "s3_service",
        "file_exists",
        "client_config",
        "full_filename",
        "request_type",
        "RequestType",
        "POST",
        "file_existed",
        "HTTPException",
        "status_code",
        "detail",
        "full_filename",
        "audit_service",
        "put_item",
        "client_config",
        "azure_display_name",
        "full_filename",
        "OperationType",
        "CREATE",
        "s3_service",
        "save",
        "client_config",
        "file",
        "file",
        "full_filename",
        "metadata",
        "success",
        "HTTPException",
        "status_code",
        "detail",
        "full_filename",
        "client_config",
        "bucket_name",
        "full_filename",
        "file_existed",
        "HTTPException",
        "e",
        "logger",
        "error",
        "e",
        "__class__",
        "e",
        "HTTPException",
        "status_code",
        "detail",
        "full_filename"
    ],
    "literals": [
        "\"bucketName\"",
        "f\"{client_config.azure_client_id} specified {bucket_name}, \"",
        "f\"not configured name {client_config.bucket_name}\"",
        "\"folder\"",
        "\"\"",
        "f\"File {full_filename} already exists and cannot be overwritten \"",
        "\"via the /upload_file endpoint. Use PUT endpoint /save_file to overwrite.\"",
        "f\"File {full_filename} failed to upload for an unknown reason.\"",
        "\"success\"",
        "f\"File saved successfully in {client_config.bucket_name} with key {full_filename}\"",
        "f\"An {e.__class__.__name__} occurred while uploading the file: {e}\"",
        "f\"The file {full_filename} could not be uploaded\""
    ],
    "variables": [
        "logger",
        "validation_result",
        "metadata",
        "bucket_name",
        "folder_prefix",
        "full_filename",
        "file_existed",
        "file_existed",
        "success"
    ],
    "comments": [
        "Antivirus scan",
        "Client-specific validation",
        "For compatibility we allow the bucket name to be specified in the request,",
        "but log a warning to help prevent confusion"
    ],
    "docstrings": [],
    "functions": [
        "handle_file_upload_logic"
    ],
    "classes": []
}