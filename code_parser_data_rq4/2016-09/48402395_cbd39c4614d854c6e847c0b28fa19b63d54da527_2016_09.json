{
    "identifiers": [
        "os",
        "sys",
        "fcntl",
        "signal",
        "logging",
        "config",
        "ConfigParser",
        "ConfigParser",
        "openprocurement",
        "search",
        "engine",
        "IndexEngine",
        "logger",
        "openprocurement",
        "search",
        "index",
        "orgs",
        "OrgsIndex",
        "openprocurement",
        "search",
        "source",
        "orgs",
        "OrgsSource",
        "openprocurement",
        "search",
        "source",
        "tender",
        "TenderSource",
        "openprocurement",
        "search",
        "source",
        "ocds",
        "OcdsSource",
        "openprocurement",
        "search",
        "source",
        "plan",
        "PlanSource",
        "munch",
        "munchify",
        "signo",
        "frame",
        "logger",
        "warning",
        "signo",
        "signal",
        "alarm",
        "sys",
        "exit",
        "IndexEngine",
        "config",
        "IndexOrgsEngine",
        "config",
        "entity",
        "entity",
        "get",
        "get",
        "code",
        "len",
        "code",
        "len",
        "code",
        "orgs_map",
        "code",
        "KeyError",
        "orgs_map",
        "source",
        "logger",
        "info",
        "source",
        "doc_type",
        "items_list",
        "should_exit",
        "source",
        "items",
        "meta",
        "items_list",
        "should_exit",
        "items_count",
        "source",
        "get",
        "meta",
        "source",
        "procuring_entity",
        "item",
        "entity",
        "process_entity",
        "entity",
        "logger",
        "info",
        "source",
        "doc_type",
        "items_count",
        "meta",
        "get",
        "len",
        "orgs_map",
        "get_current_indexes",
        "logger",
        "info",
        "index_name",
        "index_name",
        "index_list",
        "orgs_index",
        "source",
        "doc_type",
        "len",
        "orgs_map",
        "code",
        "rank",
        "orgs_map",
        "iteritems",
        "should_exit",
        "iter_count",
        "iter_count",
        "logger",
        "info",
        "index_name",
        "create_count",
        "update_count",
        "iter_count",
        "map_len",
        "code",
        "doc_type",
        "get_item",
        "index_name",
        "meta",
        "found",
        "found",
        "rank",
        "found",
        "found",
        "found",
        "found",
        "update_count",
        "create_count",
        "orgs_index",
        "source",
        "patch_item",
        "meta",
        "item",
        "item",
        "rank",
        "index_item",
        "index_name",
        "item",
        "len",
        "sys",
        "argv",
        "sys",
        "exit",
        "ConfigParser",
        "parser",
        "read",
        "sys",
        "argv",
        "parser",
        "items",
        "logging",
        "config",
        "fileConfig",
        "sys",
        "argv",
        "config",
        "get",
        "open",
        "lock_filename",
        "fcntl",
        "lockf",
        "lock_file",
        "fcntl",
        "LOCK_EX",
        "fcntl",
        "LOCK_NB",
        "lock_file",
        "write",
        "os",
        "getpid",
        "lock_file",
        "flush",
        "signal",
        "signal",
        "signal",
        "SIGTERM",
        "sigterm_handler",
        "engine",
        "IndexOrgsEngine",
        "config",
        "OrgsSource",
        "config",
        "OrgsIndex",
        "engine",
        "source",
        "config",
        "config",
        "get",
        "TenderSource",
        "config",
        "engine",
        "process_source",
        "source",
        "config",
        "get",
        "OcdsSource",
        "config",
        "engine",
        "process_source",
        "source",
        "config",
        "get",
        "PlanSource",
        "config",
        "engine",
        "process_source",
        "source",
        "engine",
        "flush_orgs_map",
        "e",
        "logger",
        "exception",
        "e",
        "lock_file",
        "close",
        "os",
        "remove",
        "lock_filename",
        "logger",
        "info",
        "main"
    ],
    "literals": [
        "'engine'",
        "\"Signal received %d\"",
        "'identifier'",
        "'id'",
        "\"Process source [%s]\"",
        "\"[%s] Processed %d last %s map_size %d\"",
        "'dateModified'",
        "\"Flush orgs to index [%s]\"",
        "\"[%s] Created %d updated %d orgs %d%%\"",
        "'id'",
        "'doc_type'",
        "'_source'",
        "'rank'",
        "'meta'",
        "'id'",
        "'_id'",
        "'doc_type'",
        "'_type'",
        "'version'",
        "'_version'",
        "'data'",
        "'_source'",
        "'version'",
        "'data'",
        "'name'",
        "'data'",
        "'rank'",
        "\"usage: update_orgs etc/search.ini\"",
        "'search_engine'",
        "'update_orgs'",
        "'update_orgs.pid'",
        "\"w\"",
        "\"\\n\"",
        "'api_url'",
        "'ocds_dir'",
        "'plan_api_url'",
        "\"Exception: %s\"",
        "\"Shutdown\"",
        "\"__main__\""
    ],
    "variables": [
        "engine",
        "engine",
        "should_exit",
        "orgs_map",
        "code",
        "code",
        "items_list",
        "items_count",
        "items_list",
        "item",
        "entity",
        "index_name",
        "iter_count",
        "create_count",
        "update_count",
        "orgs_index",
        "doc_type",
        "map_len",
        "meta",
        "found",
        "item",
        "meta",
        "item",
        "parser",
        "config",
        "lock_filename",
        "lock_file",
        "engine",
        "source",
        "source",
        "source",
        "source"
    ],
    "comments": [
        "-*- coding: utf-8 -*-",
        "get item",
        "if not found - create",
        "if rank not changed - ignore",
        "logger.warning(\"Noname for %s\", item['meta']['id'])",
        "try get exclusive lock to prevent second start",
        "signal.signal(signal.SIGINT, sigterm_handler)"
    ],
    "docstrings": [],
    "functions": [
        "sigterm_handler",
        "process_entity",
        "process_source",
        "flush_orgs_map",
        "main"
    ],
    "classes": [
        "IndexOrgsEngine"
    ]
}