{
    "identifiers": [
        "numpy",
        "np",
        "matplotlib",
        "pyplot",
        "plt",
        "sys",
        "cv2",
        "cv2",
        "cv",
        "cv",
        "sys",
        "path",
        "append",
        "caffe",
        "model_name",
        "crop_size",
        "model_name",
        "model_dir",
        "model_dir",
        "model_dir",
        "caffe",
        "proto",
        "caffe_pb2",
        "BlobProto",
        "open",
        "meanFile",
        "read",
        "blob",
        "ParseFromString",
        "data",
        "np",
        "array",
        "caffe",
        "io",
        "blobproto_to_array",
        "blob",
        "reshape",
        "crop_size",
        "crop_size",
        "mean_arr",
        "shape",
        "caffe",
        "Classifier",
        "MODEL_FILE",
        "PRETRAINED",
        "image_dims",
        "crop_size",
        "crop_size",
        "mean",
        "mean_arr",
        "raw_scale",
        "net",
        "model_name",
        "model_name",
        "line",
        "rstrip",
        "line",
        "open",
        "labels_file",
        "labels",
        "crop",
        "crop_size",
        "cv2",
        "resize",
        "crop",
        "crop_size",
        "crop_size",
        "interpolation",
        "cv2",
        "INTER_AREA",
        "caffe_image",
        "astype",
        "np",
        "float32",
        "np",
        "array",
        "caffe_image",
        "reshape",
        "crop_size",
        "crop_size",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_images",
        "img",
        "angle",
        "img",
        "shape",
        "cv2",
        "getRotationMatrix2D",
        "cols",
        "rows",
        "angle",
        "cv2",
        "warpAffine",
        "img",
        "M",
        "cols",
        "rows",
        "img",
        "cv2",
        "INTER_CUBIC",
        "img",
        "src",
        "src",
        "cv2",
        "resize",
        "dst",
        "interpolation",
        "cv2",
        "INTER_AREA",
        "dst",
        "src",
        "pixel_shift",
        "np",
        "zeros",
        "dtype",
        "np",
        "float32",
        "np",
        "zeros",
        "dtype",
        "np",
        "float32",
        "src",
        "shape",
        "cols",
        "rows",
        "src_tri",
        "pixel_shift",
        "rows",
        "cv2",
        "getAffineTransform",
        "src_tri",
        "dst_tri",
        "cv2",
        "warpAffine",
        "src",
        "warp_mat",
        "cols",
        "rows",
        "src",
        "cv2",
        "INTER_CUBIC",
        "src",
        "cv2",
        "VideoCapture",
        "get_classifier",
        "get_classifier",
        "get_classifier",
        "cap",
        "read",
        "deskew",
        "frame",
        "cv2",
        "imshow",
        "deskewed",
        "cv2",
        "cvtColor",
        "deskewed",
        "cv2",
        "COLOR_BGR2GRAY",
        "cv2",
        "imshow",
        "gray",
        "cv2",
        "waitKey",
        "cv2",
        "HoughCircles",
        "gray",
        "cv",
        "CV_HOUGH_GRADIENT",
        "param1",
        "param2",
        "minRadius",
        "maxRadius",
        "circles",
        "np",
        "uint16",
        "np",
        "around",
        "circles",
        "i",
        "circles",
        "cv2",
        "circle",
        "frame",
        "i",
        "i",
        "i",
        "cv2",
        "circle",
        "frame",
        "i",
        "i",
        "i",
        "i",
        "i",
        "circles",
        "cv2",
        "imshow",
        "frame",
        "center_x",
        "crop_radius",
        "center_x",
        "crop_radius",
        "crop_end_x",
        "gray",
        "shape",
        "gray",
        "center_y",
        "crop_radius",
        "center_y",
        "crop_radius",
        "center_x",
        "crop_radius",
        "center_x",
        "crop_radius",
        "cv2",
        "resize",
        "gray",
        "interpolation",
        "cv2",
        "INTER_AREA",
        "cv2",
        "imshow",
        "gray",
        "copper60",
        "predict",
        "get_caffe_image",
        "gray",
        "oversample",
        "heads_with_rotation64",
        "predict",
        "get_caffe_image",
        "gray",
        "oversample",
        "count",
        "np",
        "amax",
        "heads_with_rotation64_score",
        "np",
        "argmax",
        "heads_with_rotation64_score",
        "rotate",
        "gray",
        "angle",
        "cv2",
        "imshow",
        "rotated",
        "crop_for_date",
        "rotated",
        "cv2",
        "imshow",
        "dateCrop",
        "dates_over_50",
        "predict",
        "get_caffe_image",
        "dateCrop",
        "oversample",
        "get_labels",
        "date_labels",
        "np",
        "argmax",
        "dates_over_50_score",
        "cv2",
        "FONT_HERSHEY_SIMPLEX",
        "cv2",
        "putText",
        "rotated",
        "predicted_date",
        "font",
        "cv2",
        "imshow",
        "rotated",
        "cv2",
        "waitKey",
        "ord",
        "cap",
        "release",
        "cv2",
        "destroyAllWindows"
    ],
    "literals": [
        "'/home/pkrush/caffe/python'",
        "'/'",
        "'test-images/'",
        "'deploy.prototxt'",
        "'snapshot.caffemodel'",
        "'mean.binaryproto'",
        "'rb'",
        "'/labels.txt'",
        "'\\n'",
        "\"copper60\"",
        "\"heads-with-rotation64\"",
        "\"dates-over-50\"",
        "'deskewed'",
        "'frame'",
        "'detected circles'",
        "'crop'",
        "'rotated'",
        "'dateCrop'",
        "\"dates-over-50\"",
        "'rotated'",
        "'q'"
    ],
    "variables": [
        "model_dir",
        "image_dir",
        "MODEL_FILE",
        "PRETRAINED",
        "meanFile",
        "blob",
        "data",
        "mean_arr",
        "net",
        "labels_file",
        "labels",
        "caffe_image",
        "caffe_image",
        "caffe_image",
        "caffe_images",
        "rows",
        "cols",
        "M",
        "dst",
        "dst",
        "src_tri",
        "dst_tri",
        "rows",
        "cols",
        "ch",
        "src_tri",
        "src_tri",
        "dst_tri",
        "dst_tri",
        "warp_mat",
        "cap",
        "copper60",
        "heads_with_rotation64",
        "dates_over_50",
        "count",
        "ret",
        "frame",
        "deskewed",
        "gray",
        "center_x",
        "center_y",
        "crop_radius",
        "circles",
        "circles",
        "center_x",
        "center_y",
        "crop_radius",
        "crop_end_x",
        "gray",
        "gray",
        "copper60_score",
        "heads_with_rotation64_score",
        "count",
        "max_value",
        "angle",
        "rotated",
        "dateCrop",
        "dates_over_50_score",
        "date_labels",
        "predicted_date",
        "font"
    ],
    "comments": [
        "This works right now for a web cam. It would be nice if this was refactored into classes.",
        "This does not find the center of the coin or resize right now.",
        "so it's expecting the height of the camera to be adjusted so the penny is 406 pixals in diameter.",
        "you have to move the penny to get to the correct spot to be cropped out.",
        "Make sure that caffe is on the python path:",
        "sys.path.append('~/caffe/python') using the ~ does not work, for some reason???",
        "Open mean.binaryproto file",
        "this is how you get the image from file:",
        "coinImage = [caffe.io.load_image(\"some file\", color=False)]",
        "Caffe wants a list so []:",
        "Set your 3 points to calculate the  Affine Transform",
        "dstTri is the same except the bottom is moved over shiftpixels:",
        "Get the Affine Transform",
        "Apply the Affine Transform just found to the src image",
        "Capture frame-by-frame",
        "Our operations on the frame come here",
        "circles = cv2.HoughCircles(gray, cv.CV_HOUGH_GRADIENT, 1, 300, param1=50, param2=30, minRadius=196, maxRadius=198)",
        "for the microscope camera and cropping to 406 square:",
        "gray = gray[27:433, 117:523]",
        "print copper60_score",
        "print heads_with_rotation64_score",
        "print count",
        "print max_value,angle",
        "print dates_over_50_score",
        "print predicted_date",
        "When everything done, release the capture"
    ],
    "docstrings": [],
    "functions": [
        "get_classifier",
        "get_labels",
        "get_caffe_image",
        "rotate",
        "crop_for_date",
        "deskew"
    ],
    "classes": []
}