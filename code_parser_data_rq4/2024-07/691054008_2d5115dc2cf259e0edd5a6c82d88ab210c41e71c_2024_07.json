{
    "identifiers": [
        "pdb",
        "os",
        "argparse",
        "get_model",
        "get_model",
        "typing",
        "Optional",
        "Union",
        "Tuple",
        "Dict",
        "tqdm",
        "tqdm",
        "trange",
        "torch",
        "diffusers",
        "StableDiffusionControlNetPipeline",
        "DDIMScheduler",
        "diffusers",
        "ControlNetModel",
        "torch",
        "nn",
        "functional",
        "nnf",
        "numpy",
        "np",
        "abc",
        "ptp_utils",
        "seq_aligner",
        "PIL",
        "Image",
        "time",
        "torch",
        "backends",
        "cudnn",
        "cudnn",
        "torch",
        "nn",
        "functional",
        "F",
        "cv2",
        "json",
        "tqdm",
        "tqdm",
        "matplotlib",
        "pyplot",
        "plt",
        "utils",
        "show",
        "show_box",
        "show_mask",
        "show_points",
        "argparse",
        "ArgumentParser",
        "description",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "action",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "action",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "action",
        "parser",
        "add_argument",
        "action",
        "parser",
        "add_argument",
        "action",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "add_argument",
        "help",
        "parser",
        "parse_args",
        "args",
        "torch",
        "manual_seed",
        "args",
        "seed",
        "torch",
        "cuda",
        "manual_seed",
        "args",
        "seed",
        "np",
        "random",
        "seed",
        "args",
        "seed",
        "torch",
        "Generator",
        "manual_seed",
        "args",
        "seed",
        "torch",
        "cuda",
        "is_available",
        "args",
        "model",
        "args",
        "model",
        "args",
        "model",
        "torch",
        "Tensor",
        "mean",
        "cuda",
        "torch",
        "Tensor",
        "std",
        "cuda",
        "get_model",
        "args",
        "model",
        "args",
        "model_type",
        "device",
        "net",
        "to",
        "device",
        "net",
        "eval",
        "net",
        "cuda",
        "value",
        "cv2",
        "UMat",
        "np",
        "ones",
        "height",
        "width",
        "dtype",
        "np",
        "uint8",
        "background_color",
        "value",
        "cv2",
        "FONT_HERSHEY_SIMPLEX",
        "cv2",
        "getTextSize",
        "text",
        "font",
        "font_scale",
        "thickness",
        "width",
        "text_size",
        "height",
        "text_size",
        "cv2",
        "putText",
        "image",
        "text",
        "x",
        "y",
        "font",
        "font_scale",
        "text_color",
        "thickness",
        "image",
        "get",
        "masks",
        "masks",
        "numel",
        "torch",
        "zeros",
        "device",
        "masks",
        "device",
        "masks",
        "shape",
        "torch",
        "arange",
        "h",
        "dtype",
        "torch",
        "torch",
        "arange",
        "w",
        "dtype",
        "torch",
        "torch",
        "meshgrid",
        "y",
        "x",
        "y",
        "to",
        "masks",
        "x",
        "to",
        "masks",
        "masks",
        "x",
        "unsqueeze",
        "x_mask",
        "flatten",
        "max",
        "x_mask",
        "masked_fill",
        "masks",
        "flatten",
        "min",
        "masks",
        "y",
        "unsqueeze",
        "y_mask",
        "flatten",
        "max",
        "y_mask",
        "masked_fill",
        "masks",
        "flatten",
        "min",
        "torch",
        "stack",
        "x_min",
        "y_min",
        "x_max",
        "y_max",
        "masks",
        "k",
        "masks",
        "numel",
        "torch",
        "zeros",
        "device",
        "masks",
        "device",
        "masks",
        "shape",
        "torch",
        "arange",
        "h",
        "dtype",
        "torch",
        "torch",
        "arange",
        "w",
        "dtype",
        "torch",
        "torch",
        "meshgrid",
        "y",
        "x",
        "y",
        "to",
        "masks",
        "x",
        "to",
        "masks",
        "b_i",
        "len",
        "masks",
        "masks",
        "b_i",
        "torch",
        "masked_select",
        "x",
        "select_mask",
        "torch",
        "masked_select",
        "y",
        "select_mask",
        "torch",
        "randperm",
        "x_idx",
        "size",
        "perm",
        "k",
        "x_idx",
        "idx",
        "y_idx",
        "idx",
        "torch",
        "cat",
        "samples_x",
        "samples_y",
        "dim",
        "samples",
        "append",
        "samples_xy",
        "torch",
        "stack",
        "samples",
        "samples",
        "inputs",
        "torch",
        "Tensor",
        "targets",
        "torch",
        "Tensor",
        "inputs",
        "flatten",
        "targets",
        "flatten",
        "inputs",
        "targets",
        "sum",
        "inputs",
        "sum",
        "targets",
        "sum",
        "numerator",
        "denominator",
        "loss",
        "mean",
        "maps",
        "alpha",
        "use_pool",
        "maps",
        "alpha",
        "sum",
        "mean",
        "use_pool",
        "nnf",
        "max_pool2d",
        "maps",
        "k",
        "k",
        "padding",
        "k",
        "k",
        "nnf",
        "interpolate",
        "maps",
        "size",
        "x_t",
        "shape",
        "mask",
        "mask",
        "max",
        "keepdims",
        "max",
        "keepdims",
        "mask",
        "gt",
        "th",
        "use_pool",
        "mask",
        "mask",
        "mask",
        "x_t",
        "attention_store",
        "counter",
        "counter",
        "start_blend",
        "attention_store",
        "attention_store",
        "item",
        "reshape",
        "alpha_layers",
        "shape",
        "MAX_NUM_WORDS",
        "item",
        "maps",
        "torch",
        "cat",
        "maps",
        "dim",
        "get_mask",
        "maps",
        "alpha_layers",
        "substruct_layers",
        "get_mask",
        "maps",
        "substruct_layers",
        "mask",
        "maps_sub",
        "mask",
        "x_t",
        "mask",
        "x_t",
        "x_t",
        "x_t",
        "prompts",
        "words",
        "substruct_words",
        "start_blend",
        "th",
        "torch",
        "zeros",
        "len",
        "prompts",
        "MAX_NUM_WORDS",
        "i",
        "prompt",
        "words_",
        "prompts",
        "words",
        "words_",
        "words_",
        "word",
        "words_",
        "ptp_utils",
        "get_word_inds",
        "prompt",
        "word",
        "tokenizer",
        "substruct_words",
        "torch",
        "zeros",
        "len",
        "prompts",
        "MAX_NUM_WORDS",
        "i",
        "prompt",
        "words_",
        "prompts",
        "substruct_words",
        "words_",
        "words_",
        "word",
        "words_",
        "ptp_utils",
        "get_word_inds",
        "prompt",
        "word",
        "tokenizer",
        "substruct_layers",
        "to",
        "device",
        "alpha_layers",
        "to",
        "device",
        "start_blend",
        "NUM_DDIM_STEPS",
        "th",
        "x_t",
        "x_t",
        "attn",
        "is_cross",
        "place_in_unet",
        "attn",
        "torch",
        "no_grad",
        "preds",
        "target",
        "pred_label",
        "label",
        "pred_label",
        "label",
        "label",
        "pred_label",
        "sum",
        "label",
        "pred_label",
        "sum",
        "intersection",
        "union",
        "target",
        "shape",
        "preds",
        "shape",
        "target",
        "shape",
        "preds",
        "shape",
        "target",
        "shape",
        "F",
        "interpolate",
        "preds",
        "size",
        "target",
        "size",
        "mode",
        "align_corners",
        "preds",
        "i",
        "len",
        "preds",
        "iou",
        "mask_iou",
        "postprocess_preds",
        "i",
        "target",
        "i",
        "iou",
        "len",
        "preds",
        "abc",
        "ABC",
        "x_t",
        "x_t",
        "property",
        "num_att_layers",
        "LOW_RESOURCE",
        "abc",
        "abstractmethod",
        "attn",
        "is_cross",
        "place_in_unet",
        "NotImplementedError",
        "attn",
        "is_cross",
        "place_in_unet",
        "cur_att_layer",
        "num_uncond_att_layers",
        "LOW_RESOURCE",
        "forward",
        "attn",
        "is_cross",
        "place_in_unet",
        "attn",
        "shape",
        "h",
        "forward",
        "attn",
        "h",
        "is_cross",
        "place_in_unet",
        "cur_att_layer",
        "cur_att_layer",
        "num_att_layers",
        "num_uncond_att_layers",
        "cur_step",
        "between_steps",
        "attn",
        "EmptyControl",
        "x_t",
        "cur_step",
        "stop_inject",
        "x_t",
        "shape",
        "x_t",
        "expand",
        "b",
        "x_t",
        "shape",
        "x_t",
        "stop_inject",
        "SpatialReplace",
        "stop_inject",
        "NUM_DDIM_STEPS",
        "AttentionControl",
        "staticmethod",
        "attn",
        "is_cross",
        "place_in_unet",
        "place_in_unet",
        "is_cross",
        "attn",
        "shape",
        "step_store",
        "key",
        "append",
        "attn",
        "attn",
        "len",
        "attention_store",
        "step_store",
        "key",
        "attention_store",
        "i",
        "len",
        "attention_store",
        "key",
        "attention_store",
        "key",
        "i",
        "step_store",
        "key",
        "i",
        "get_empty_store",
        "key",
        "item",
        "cur_step",
        "item",
        "attention_store",
        "key",
        "key",
        "attention_store",
        "average_attention",
        "AttentionStore",
        "reset",
        "get_empty_store",
        "AttentionStore",
        "get_empty_store",
        "AttentionStore",
        "abc",
        "ABC",
        "x_t",
        "local_blend",
        "local_blend",
        "x_t",
        "attention_store",
        "x_t",
        "attn_base",
        "att_replace",
        "place_in_unet",
        "att_replace",
        "shape",
        "attn_base",
        "unsqueeze",
        "expand",
        "att_replace",
        "shape",
        "attn_base",
        "shape",
        "attn_base",
        "att_replace",
        "abc",
        "abstractmethod",
        "attn_base",
        "att_replace",
        "NotImplementedError",
        "attn",
        "is_cross",
        "place_in_unet",
        "AttentionControlEdit",
        "forward",
        "attn",
        "is_cross",
        "place_in_unet",
        "is_cross",
        "num_self_replace",
        "cur_step",
        "num_self_replace",
        "attn",
        "shape",
        "batch_size",
        "attn",
        "reshape",
        "batch_size",
        "h",
        "attn",
        "shape",
        "attn",
        "attn",
        "is_cross",
        "cross_replace_alpha",
        "cur_step",
        "replace_cross_attention",
        "attn_base",
        "attn_repalce",
        "alpha_words",
        "alpha_words",
        "attn_repalce",
        "attn_repalce_new",
        "replace_self_attention",
        "attn_base",
        "attn_repalce",
        "place_in_unet",
        "attn",
        "reshape",
        "batch_size",
        "h",
        "attn",
        "shape",
        "attn",
        "prompts",
        "num_steps",
        "cross_replace_steps",
        "Union",
        "Tuple",
        "Dict",
        "Tuple",
        "self_replace_steps",
        "Union",
        "Tuple",
        "local_blend",
        "Optional",
        "LocalBlend",
        "AttentionControlEdit",
        "len",
        "prompts",
        "ptp_utils",
        "get_time_words_attention_alpha",
        "prompts",
        "num_steps",
        "cross_replace_steps",
        "tokenizer",
        "to",
        "device",
        "self_replace_steps",
        "self_replace_steps",
        "num_steps",
        "self_replace_steps",
        "num_steps",
        "self_replace_steps",
        "local_blend",
        "AttentionControlEdit",
        "attn_base",
        "att_replace",
        "torch",
        "einsum",
        "attn_base",
        "mapper",
        "prompts",
        "num_steps",
        "cross_replace_steps",
        "self_replace_steps",
        "local_blend",
        "Optional",
        "LocalBlend",
        "AttentionReplace",
        "prompts",
        "num_steps",
        "cross_replace_steps",
        "self_replace_steps",
        "local_blend",
        "seq_aligner",
        "get_replacement_mapper",
        "prompts",
        "tokenizer",
        "to",
        "device",
        "AttentionControlEdit",
        "attn_base",
        "att_replace",
        "attn_base",
        "mapper",
        "permute",
        "attn_base_replace",
        "alphas",
        "att_replace",
        "alphas",
        "attn_replace",
        "prompts",
        "num_steps",
        "cross_replace_steps",
        "self_replace_steps",
        "local_blend",
        "Optional",
        "LocalBlend",
        "AttentionRefine",
        "prompts",
        "num_steps",
        "cross_replace_steps",
        "self_replace_steps",
        "local_blend",
        "mapper",
        "seq_aligner",
        "get_refinement_mapper",
        "prompts",
        "tokenizer",
        "mapper",
        "mapper",
        "to",
        "device",
        "alphas",
        "to",
        "device",
        "alphas",
        "reshape",
        "alphas",
        "shape",
        "alphas",
        "shape",
        "AttentionControlEdit",
        "attn_base",
        "att_replace",
        "prev_controller",
        "prev_controller",
        "replace_cross_attention",
        "attn_base",
        "att_replace",
        "attn_base",
        "equalizer",
        "attn_replace",
        "prompts",
        "num_steps",
        "cross_replace_steps",
        "self_replace_steps",
        "equalizer",
        "local_blend",
        "Optional",
        "LocalBlend",
        "controller",
        "Optional",
        "AttentionControlEdit",
        "AttentionReweight",
        "prompts",
        "num_steps",
        "cross_replace_steps",
        "self_replace_steps",
        "local_blend",
        "equalizer",
        "to",
        "device",
        "controller",
        "text",
        "word_select",
        "Union",
        "Tuple",
        "values",
        "Union",
        "Tuple",
        "word_select",
        "word_select",
        "word_select",
        "torch",
        "ones",
        "word",
        "val",
        "word_select",
        "values",
        "ptp_utils",
        "get_word_inds",
        "text",
        "word",
        "tokenizer",
        "val",
        "equalizer",
        "attention_store",
        "AttentionStore",
        "res",
        "from_where",
        "is_cross",
        "select",
        "attention_store",
        "get_average_attention",
        "res",
        "location",
        "from_where",
        "item",
        "attention_maps",
        "location",
        "is_cross",
        "item",
        "shape",
        "num_pixels",
        "item",
        "reshape",
        "len",
        "prompts",
        "res",
        "res",
        "item",
        "shape",
        "select",
        "append",
        "cross_maps",
        "torch",
        "cat",
        "dim",
        "sum",
        "shape",
        "cpu",
        "prompts",
        "is_replace_controller",
        "cross_replace_steps",
        "Dict",
        "self_replace_steps",
        "blend_words",
        "equilizer_params",
        "AttentionControlEdit",
        "blend_words",
        "LocalBlend",
        "prompts",
        "blend_word",
        "is_replace_controller",
        "AttentionReplace",
        "prompts",
        "NUM_DDIM_STEPS",
        "cross_replace_steps",
        "cross_replace_steps",
        "self_replace_steps",
        "self_replace_steps",
        "local_blend",
        "lb",
        "AttentionRefine",
        "prompts",
        "NUM_DDIM_STEPS",
        "cross_replace_steps",
        "cross_replace_steps",
        "self_replace_steps",
        "self_replace_steps",
        "local_blend",
        "lb",
        "equilizer_params",
        "get_equalizer",
        "prompts",
        "equilizer_params",
        "equilizer_params",
        "AttentionReweight",
        "prompts",
        "NUM_DDIM_STEPS",
        "cross_replace_steps",
        "cross_replace_steps",
        "self_replace_steps",
        "self_replace_steps",
        "equalizer",
        "eq",
        "local_blend",
        "lb",
        "controller",
        "controller",
        "controller",
        "attention_store",
        "AttentionStore",
        "res",
        "from_where",
        "select",
        "tokenizer",
        "encode",
        "prompts",
        "select",
        "tokenizer",
        "decode",
        "aggregate_attention",
        "attention_store",
        "res",
        "from_where",
        "select",
        "i",
        "len",
        "tokens",
        "attention_maps",
        "i",
        "image",
        "image",
        "max",
        "image",
        "unsqueeze",
        "expand",
        "image",
        "shape",
        "image",
        "numpy",
        "astype",
        "np",
        "uint8",
        "np",
        "array",
        "Image",
        "fromarray",
        "image",
        "resize",
        "ptp_utils",
        "text_under_image",
        "image",
        "decoder",
        "tokens",
        "i",
        "images",
        "append",
        "image",
        "ptp_utils",
        "view_images",
        "np",
        "stack",
        "images",
        "axis",
        "prefix",
        "attention_store",
        "AttentionStore",
        "res",
        "from_where",
        "max_com",
        "select",
        "aggregate_attention",
        "attention_store",
        "res",
        "from_where",
        "select",
        "numpy",
        "reshape",
        "res",
        "res",
        "np",
        "linalg",
        "svd",
        "attention_maps",
        "np",
        "mean",
        "attention_maps",
        "axis",
        "keepdims",
        "i",
        "max_com",
        "vh",
        "i",
        "reshape",
        "res",
        "res",
        "image",
        "image",
        "min",
        "image",
        "image",
        "max",
        "np",
        "repeat",
        "np",
        "expand_dims",
        "image",
        "axis",
        "axis",
        "astype",
        "np",
        "uint8",
        "Image",
        "fromarray",
        "image",
        "resize",
        "np",
        "array",
        "image",
        "images",
        "append",
        "image",
        "ptp_utils",
        "view_images",
        "np",
        "concatenate",
        "images",
        "axis",
        "prefix",
        "torch",
        "no_grad",
        "model",
        "prompt",
        "controller",
        "num_inference_steps",
        "guidance_scale",
        "Optional",
        "generator",
        "Optional",
        "torch",
        "Generator",
        "latent",
        "Optional",
        "torch",
        "FloatTensor",
        "mask_control",
        "Optional",
        "torch",
        "tensor",
        "uncond_embeddings",
        "start_time",
        "return_type",
        "len",
        "prompt",
        "ptp_utils",
        "register_attention_control",
        "model",
        "controller",
        "model",
        "tokenizer",
        "prompt",
        "padding",
        "max_length",
        "model",
        "tokenizer",
        "model_max_length",
        "truncation",
        "return_tensors",
        "model",
        "text_encoder",
        "text_input",
        "input_ids",
        "to",
        "model",
        "device",
        "text_input",
        "input_ids",
        "shape",
        "uncond_embeddings",
        "model",
        "tokenizer",
        "batch_size",
        "padding",
        "max_length",
        "max_length",
        "return_tensors",
        "model",
        "text_encoder",
        "uncond_input",
        "input_ids",
        "to",
        "model",
        "device",
        "ptp_utils",
        "init_latent",
        "latent",
        "model",
        "height",
        "width",
        "generator",
        "batch_size",
        "model",
        "scheduler",
        "set_timesteps",
        "num_inference_steps",
        "i",
        "t",
        "tqdm",
        "model",
        "scheduler",
        "timesteps",
        "start_time",
        "uncond_embeddings_",
        "torch",
        "cat",
        "uncond_embeddings",
        "i",
        "expand",
        "text_embeddings",
        "shape",
        "text_embeddings",
        "torch",
        "cat",
        "uncond_embeddings_",
        "text_embeddings",
        "ptp_utils",
        "diffusion_step",
        "model",
        "controller",
        "latents",
        "mask_control",
        "context",
        "t",
        "guidance_scale",
        "low_resource",
        "guess_mode",
        "args",
        "guess_mode",
        "return_type",
        "ptp_utils",
        "latent2image",
        "model",
        "vae",
        "latents",
        "latents",
        "image",
        "latent",
        "prompts",
        "controller",
        "latent",
        "mask_control",
        "run_baseline",
        "generator",
        "uncond_embeddings",
        "verbose",
        "prefix",
        "run_baseline",
        "run_and_display",
        "prompts",
        "EmptyControl",
        "latent",
        "latent",
        "mask_control",
        "mask_control",
        "run_baseline",
        "generator",
        "generator",
        "text2image_ldm_stable",
        "ldm_stable",
        "prompts",
        "controller",
        "latent",
        "latent",
        "mask_control",
        "mask_control",
        "num_inference_steps",
        "NUM_DDIM_STEPS",
        "guidance_scale",
        "GUIDANCE_SCALE",
        "generator",
        "generator",
        "uncond_embeddings",
        "uncond_embeddings",
        "verbose",
        "ptp_utils",
        "view_images",
        "images",
        "prefix",
        "prefix",
        "images",
        "x_t",
        "y",
        "y",
        "torch",
        "tanh",
        "y",
        "idx",
        "y",
        "torch",
        "tanh",
        "y",
        "idx",
        "y",
        "torch",
        "no_grad",
        "model",
        "prompt",
        "controller",
        "num_inference_steps",
        "guidance_scale",
        "Optional",
        "generator",
        "Optional",
        "torch",
        "Generator",
        "latent",
        "Optional",
        "torch",
        "FloatTensor",
        "uncond_embeddings",
        "start_time",
        "boxes",
        "points",
        "label_masks_256",
        "mask_control",
        "raw_img",
        "attack_object",
        "len",
        "prompt",
        "ptp_utils",
        "register_attention_control",
        "model",
        "controller",
        "model",
        "tokenizer",
        "prompt",
        "padding",
        "max_length",
        "model",
        "tokenizer",
        "model_max_length",
        "truncation",
        "return_tensors",
        "model",
        "text_encoder",
        "text_input",
        "input_ids",
        "to",
        "model",
        "device",
        "text_input",
        "input_ids",
        "shape",
        "uncond_embeddings",
        "model",
        "tokenizer",
        "batch_size",
        "padding",
        "max_length",
        "max_length",
        "return_tensors",
        "model",
        "text_encoder",
        "uncond_input",
        "input_ids",
        "to",
        "model",
        "device",
        "ptp_utils",
        "init_latent",
        "latent",
        "model",
        "height",
        "width",
        "generator",
        "batch_size",
        "model",
        "scheduler",
        "set_timesteps",
        "num_inference_steps",
        "latents",
        "latents",
        "clone",
        "detach",
        "latents",
        "clone",
        "detach",
        "boxes",
        "boxes",
        "clone",
        "detach",
        "boxes",
        "clone",
        "detach",
        "k",
        "args",
        "steps",
        "adv_latents",
        "i",
        "t",
        "model",
        "scheduler",
        "timesteps",
        "start_time",
        "uncond_embeddings_",
        "torch",
        "cat",
        "uncond_embeddings",
        "i",
        "expand",
        "text_embeddings",
        "shape",
        "text_embeddings",
        "torch",
        "cat",
        "uncond_embeddings_",
        "text_embeddings",
        "ptp_utils",
        "diffusion_step",
        "model",
        "controller",
        "latents",
        "mask_control",
        "context",
        "t",
        "guidance_scale",
        "low_resource",
        "guess_mode",
        "args",
        "guess_mode",
        "torch",
        "enable_grad",
        "latents",
        "detach",
        "clone",
        "latents_last",
        "model",
        "vae",
        "decode",
        "latents_t",
        "image",
        "limitation01",
        "image",
        "F",
        "interpolate",
        "image",
        "image_size",
        "args",
        "model",
        "image_m",
        "args",
        "prompt_type",
        "adv_boxes",
        "points",
        "torch",
        "ones",
        "points",
        "shape",
        "image_size",
        "net",
        "example",
        "multimask_output",
        "output",
        "output",
        "output",
        "output",
        "args",
        "model",
        "boxes",
        "reshape",
        "torch",
        "concat",
        "torch",
        "full",
        "boxes",
        "shape",
        "torch",
        "full",
        "boxes",
        "shape",
        "cuda",
        "net",
        "image_m",
        "input_points",
        "input_labels",
        "torch",
        "argsort",
        "predicted_iou",
        "dim",
        "descending",
        "torch",
        "take_along_dim",
        "predicted_iou",
        "sorted_ids",
        "dim",
        "torch",
        "take_along_dim",
        "predicted_logits",
        "sorted_ids",
        "dim",
        "F",
        "interpolate",
        "predicted_logits",
        "mode",
        "align_corners",
        "torch",
        "ge",
        "ad_low_res_logits",
        "ad_low_res_logits",
        "shape",
        "label_masks_256",
        "shape",
        "args",
        "gamma",
        "torch",
        "nn",
        "functional",
        "binary_cross_entropy_with_logits",
        "ad_low_res_logits",
        "label_masks_256",
        "args",
        "kappa",
        "dice_loss",
        "ad_low_res_logits",
        "sigmoid",
        "label_masks_256",
        "compute_iou",
        "ad_low_res_logits",
        "label_masks_256",
        "item",
        "iou",
        "iou_list",
        "append",
        "iou",
        "iou",
        "worst_iou",
        "adv_latents",
        "iou",
        "F",
        "interpolate",
        "ad_masks",
        "to",
        "torch",
        "float32",
        "size",
        "mode",
        "align_corners",
        "image_m",
        "mean",
        "image_m",
        "std",
        "args",
        "beta",
        "torch",
        "norm",
        "image_m",
        "raw_img",
        "p",
        "args",
        "norm",
        "mean",
        "loss_dice",
        "loss_ce",
        "loss_mse",
        "loss",
        "backward",
        "loss",
        "item",
        "loss_dice",
        "item",
        "loss_ce",
        "item",
        "loss_mse",
        "item",
        "k",
        "loss",
        "latents_last",
        "grad",
        "min",
        "latents_last",
        "grad",
        "max",
        "attack_object",
        "latents_last",
        "grad",
        "torch",
        "norm",
        "latents_last",
        "grad",
        "p",
        "l1_grad",
        "min",
        "l1_grad",
        "max",
        "args",
        "mu",
        "momentum",
        "l1_grad",
        "adv_latents",
        "torch",
        "sign",
        "momentum",
        "args",
        "alpha",
        "adv_latents",
        "ori_latents",
        "clamp",
        "args",
        "eps",
        "args",
        "eps",
        "ori_latents",
        "noise",
        "adv_latents",
        "detach",
        "attack_object",
        "adv_boxes",
        "grad",
        "torch",
        "norm",
        "adv_boxes",
        "grad",
        "p",
        "l1_grad",
        "min",
        "l1_grad",
        "max",
        "args",
        "mu",
        "momentum",
        "l1_grad",
        "adv_boxes",
        "torch",
        "sign",
        "momentum_boxes",
        "args",
        "alpha_boxes",
        "adv_boxes",
        "ori_boxes",
        "clamp",
        "args",
        "eps_boxes",
        "args",
        "eps_boxes",
        "ori_boxes",
        "noise",
        "adv_boxes",
        "detach",
        "best_latent",
        "i",
        "t",
        "model",
        "scheduler",
        "timesteps",
        "start_time",
        "uncond_embeddings_",
        "torch",
        "cat",
        "uncond_embeddings",
        "i",
        "expand",
        "text_embeddings",
        "shape",
        "text_embeddings",
        "torch",
        "cat",
        "uncond_embeddings_",
        "text_embeddings",
        "ptp_utils",
        "diffusion_step",
        "model",
        "controller",
        "latents",
        "mask_control",
        "context",
        "t",
        "guidance_scale",
        "low_resource",
        "latents",
        "model",
        "vae",
        "decode",
        "latents",
        "image",
        "limitation01",
        "image",
        "image",
        "max",
        "image",
        "min",
        "image",
        "clamp",
        "detach",
        "cpu",
        "permute",
        "numpy",
        "image",
        "astype",
        "np",
        "uint8",
        "np",
        "zeros",
        "plt",
        "subplots",
        "figsize",
        "fig",
        "subplots_adjust",
        "left",
        "right",
        "top",
        "bottom",
        "wspace",
        "ax",
        "axis",
        "plt",
        "imshow",
        "image",
        "args",
        "steps",
        "origin_len",
        "torch",
        "concat",
        "worst_mask",
        "sup_masks",
        "i",
        "single_mask",
        "worst_mask",
        "single_mask",
        "cpu",
        "numpy",
        "length",
        "i",
        "num",
        "np",
        "array",
        "pos",
        "pos",
        "pos",
        "single_mask",
        "color",
        "i",
        "args",
        "prompt_bs",
        "args",
        "prompt_type",
        "adv_boxes",
        "i",
        "cpu",
        "numpy",
        "tolist",
        "show_box",
        "box",
        "ax",
        "ax",
        "color",
        "color",
        "color",
        "color",
        "points",
        "i",
        "cpu",
        "numpy",
        "tolist",
        "show_points",
        "point",
        "labels",
        "args",
        "prompt_num",
        "ax",
        "ax",
        "color",
        "color",
        "color",
        "color",
        "marker_size",
        "show_mask",
        "single_mask",
        "ax",
        "ax",
        "color",
        "np",
        "array",
        "color",
        "color",
        "color",
        "fig",
        "canvas",
        "draw",
        "fig",
        "canvas",
        "tostring_rgb",
        "fig",
        "canvas",
        "get_width_height",
        "np",
        "frombuffer",
        "data",
        "dtype",
        "np",
        "uint8",
        "reshape",
        "height",
        "width",
        "image",
        "best_latent",
        "worst_mask_show",
        "vis",
        "worst_iou",
        "iou_list",
        "captions",
        "id",
        "Image",
        "open",
        "os",
        "path",
        "join",
        "args",
        "control_mask_dir",
        "id",
        "ldm_stable",
        "prompt",
        "image",
        "control_image",
        "num_inference_steps",
        "args",
        "ddim_steps",
        "guidance_scale",
        "args",
        "guidance_scale",
        "guess_mode",
        "args",
        "guess_mode",
        "images",
        "np",
        "array",
        "output",
        "output",
        "save",
        "Image",
        "open",
        "os",
        "path",
        "join",
        "args",
        "control_mask_dir",
        "id",
        "np",
        "array",
        "control_image",
        "cv2",
        "resize",
        "control_image",
        "torch",
        "from_numpy",
        "control_image",
        "permute",
        "unsqueeze",
        "to",
        "torch",
        "float32",
        "cuda",
        "EmptyControl",
        "torch",
        "randn",
        "ldm_stable",
        "unet",
        "in_channels",
        "run_and_display",
        "prompts",
        "prompt",
        "controller",
        "controller",
        "run_baseline",
        "latent",
        "x_t",
        "mask_control",
        "control_image",
        "uncond_embeddings",
        "verbose",
        "prefix",
        "captions",
        "id",
        "args",
        "inversion_dir",
        "id",
        "args",
        "inversion_dir",
        "id",
        "torch",
        "load",
        "latent_path",
        "cuda",
        "torch",
        "load",
        "uncond_path",
        "cuda",
        "Image",
        "open",
        "os",
        "path",
        "join",
        "args",
        "control_mask_dir",
        "id",
        "np",
        "array",
        "control_image",
        "cv2",
        "resize",
        "control_image",
        "torch",
        "from_numpy",
        "control_image",
        "permute",
        "unsqueeze",
        "to",
        "torch",
        "float32",
        "cuda",
        "AttentionStore",
        "run_and_display",
        "prompts",
        "prompt",
        "controller",
        "controller",
        "run_baseline",
        "latent",
        "x_t",
        "mask_control",
        "control_image",
        "uncond_embeddings",
        "uncond_embeddings",
        "verbose",
        "prefix",
        "DDIMScheduler",
        "beta_start",
        "beta_end",
        "beta_schedule",
        "clip_sample",
        "set_alpha_to_one",
        "args",
        "ddim_steps",
        "args",
        "guidance_scale",
        "torch",
        "device",
        "torch",
        "cuda",
        "is_available",
        "torch",
        "device",
        "ControlNetModel",
        "from_single_file",
        "args",
        "controlnet_path",
        "to",
        "device",
        "StableDiffusionControlNetPipeline",
        "from_pretrained",
        "use_auth_token",
        "MY_TOKEN",
        "controlnet",
        "controlnet",
        "scheduler",
        "scheduler",
        "to",
        "device",
        "ldm_stable",
        "disable_xformers_memory_efficient_attention",
        "AttributeError",
        "open",
        "args",
        "caption_path",
        "f",
        "f",
        "readlines",
        "line",
        "lines",
        "json",
        "loads",
        "line",
        "strip",
        "json_dict",
        "strip",
        "json_dict",
        "strip",
        "args",
        "check_controlnet",
        "check_controlnet",
        "args",
        "check_inversion",
        "check_inversion",
        "args",
        "check_inversion",
        "args",
        "check_controlnet",
        "NameError",
        "args",
        "save_root",
        "args",
        "prefix",
        "save_path",
        "args",
        "prefix",
        "save_path",
        "args",
        "guidance_scale",
        "args",
        "ddim_steps",
        "args",
        "attack_object",
        "args",
        "model",
        "args",
        "model_type",
        "args",
        "prompt_bs",
        "args",
        "prompt_type",
        "args",
        "prompt_num",
        "args",
        "kappa",
        "args",
        "gamma",
        "args",
        "eta",
        "args",
        "beta",
        "args",
        "norm",
        "args",
        "eps",
        "args",
        "steps",
        "args",
        "alpha",
        "args",
        "mu",
        "args",
        "random_latent",
        "save_path",
        "save_path",
        "os",
        "path",
        "exists",
        "args",
        "save_root",
        "os",
        "mkdir",
        "args",
        "save_root",
        "os",
        "path",
        "exists",
        "save_path",
        "os",
        "mkdir",
        "save_path",
        "os",
        "path",
        "exists",
        "os",
        "path",
        "join",
        "save_path",
        "os",
        "mkdir",
        "os",
        "path",
        "join",
        "save_path",
        "os",
        "path",
        "exists",
        "os",
        "path",
        "join",
        "save_path",
        "os",
        "mkdir",
        "os",
        "path",
        "join",
        "save_path",
        "os",
        "path",
        "exists",
        "os",
        "path",
        "join",
        "save_path",
        "os",
        "mkdir",
        "os",
        "path",
        "join",
        "save_path",
        "sorted",
        "os",
        "listdir",
        "args",
        "data_root",
        "name",
        "name",
        "names",
        "name",
        "args",
        "end",
        "names",
        "args",
        "start",
        "args",
        "end",
        "names",
        "args",
        "start",
        "names",
        "name",
        "tqdm",
        "names",
        "args",
        "data_root",
        "name",
        "args",
        "control_mask_dir",
        "name",
        "args",
        "data_root",
        "name",
        "os",
        "path",
        "exists",
        "img_path",
        "img_path",
        "os",
        "path",
        "exists",
        "os",
        "path",
        "join",
        "save_path",
        "name",
        "args",
        "debug",
        "os",
        "path",
        "join",
        "save_path",
        "name",
        "Image",
        "open",
        "img_path",
        "convert",
        "resize",
        "image_size",
        "np",
        "array",
        "pil_image",
        "resize",
        "torch",
        "tensor",
        "np",
        "array",
        "pil_image",
        "astype",
        "np",
        "float32",
        "device",
        "device",
        "unsqueeze",
        "permute",
        "raw_img",
        "mean",
        "raw_img",
        "std",
        "origin_len",
        "len",
        "os",
        "listdir",
        "label_mask_dir",
        "torch",
        "empty",
        "cuda",
        "j",
        "min",
        "args",
        "prompt_bs",
        "origin_len",
        "os",
        "path",
        "join",
        "label_mask_dir",
        "j",
        "Image",
        "open",
        "label_mask_path",
        "convert",
        "resize",
        "image_size",
        "torch",
        "tensor",
        "np",
        "array",
        "label_mask",
        "cuda",
        "to",
        "torch",
        "float32",
        "torch",
        "cat",
        "label_masks",
        "label_mask_torch",
        "unsqueeze",
        "unsqueeze",
        "masks_to_boxes",
        "label_masks",
        "squeeze",
        "masks_sample_points",
        "label_masks",
        "squeeze",
        "k",
        "args",
        "prompt_num",
        "F",
        "interpolate",
        "label_masks",
        "size",
        "mode",
        "align_corners",
        "torch",
        "empty",
        "cuda",
        "j",
        "min",
        "args",
        "prompt_bs",
        "origin_len",
        "origin_len",
        "os",
        "path",
        "join",
        "label_mask_dir",
        "j",
        "Image",
        "open",
        "sup_mask_path",
        "convert",
        "resize",
        "torch",
        "tensor",
        "np",
        "array",
        "sup_mask",
        "cuda",
        "to",
        "torch",
        "float32",
        "torch",
        "cat",
        "sup_masks",
        "sup_mask_torch",
        "unsqueeze",
        "unsqueeze",
        "captions",
        "img_path",
        "split",
        "prompt",
        "args",
        "inversion_dir",
        "name",
        "args",
        "inversion_dir",
        "name",
        "os",
        "path",
        "exists",
        "latent_path",
        "os",
        "path",
        "exists",
        "uncond_path",
        "latent_path",
        "uncond_path",
        "torch",
        "load",
        "latent_path",
        "cuda",
        "torch",
        "load",
        "uncond_path",
        "cuda",
        "args",
        "random_latent",
        "torch",
        "randn_like",
        "x_t",
        "torch",
        "randn_like",
        "uncond_embeddings",
        "cv2",
        "imread",
        "control_mask_path",
        "cv2",
        "cvtColor",
        "control_mask",
        "cv2",
        "COLOR_BGR2RGB",
        "cv2",
        "resize",
        "control_mask",
        "control_mask",
        "copy",
        "torch",
        "from_numpy",
        "control_mask",
        "permute",
        "unsqueeze",
        "to",
        "torch",
        "float32",
        "cuda",
        "AttentionStore",
        "time",
        "time",
        "text2image_ldm_stable_last",
        "ldm_stable",
        "prompt",
        "controller",
        "latent",
        "x_t",
        "num_inference_steps",
        "NUM_DDIM_STEPS",
        "guidance_scale",
        "GUIDANCE_SCALE",
        "generator",
        "uncond_embeddings",
        "uncond_embeddings",
        "mask_control",
        "control_mask",
        "raw_img",
        "raw_img",
        "boxes",
        "boxes",
        "points",
        "points",
        "label_masks_256",
        "label_masks_256",
        "attack_object",
        "time",
        "time",
        "start",
        "ptp_utils",
        "view_images",
        "image_inv",
        "prefix",
        "os",
        "path",
        "join",
        "save_path",
        "name",
        "ptp_utils",
        "view_images",
        "raw_img_show",
        "mask_show",
        "image_inv",
        "worst_mask",
        "vis",
        "str2img",
        "worst_iou",
        "prefix",
        "os",
        "path",
        "join",
        "save_path",
        "name",
        "shuffix",
        "open",
        "save_path",
        "name",
        "f",
        "i",
        "iou",
        "iou_list",
        "f",
        "write",
        "i",
        "iou",
        "f",
        "write",
        "worst_iou",
        "iou_list",
        "index",
        "worst_iou"
    ],
    "literals": [
        "'PyTorch ImageNet Training'",
        "'--model'",
        "'sam'",
        "'cnn'",
        "'--model_type'",
        "'vit_b'",
        "'cnn'",
        "'--attack_object'",
        "'img'",
        "'cnn'",
        "'--ddim_steps'",
        "'random seed'",
        "'--guess_mode'",
        "'store_true'",
        "'--guidance_scale'",
        "'random seed'",
        "'--random_latent'",
        "'store_true'",
        "'--alpha'",
        "'cnn'",
        "'--eps'",
        "'cnn'",
        "'--alpha_boxes'",
        "'cnn'",
        "'--eps_boxes'",
        "'cnn'",
        "'--steps'",
        "'cnn'",
        "'--mu'",
        "'random seed'",
        "'--gamma'",
        "'bce loss weight'",
        "'--kappa'",
        "'dice loss weight'",
        "'--beta'",
        "'cnn'",
        "'--norm'",
        "'cnn'",
        "'--eta'",
        "'cnn'",
        "'--start'",
        "'random seed'",
        "'--end'",
        "'random seed'",
        "'--seed'",
        "'random seed'",
        "'--check_controlnet'",
        "'store_true'",
        "'--check_inversion'",
        "'store_true'",
        "'--debug'",
        "'store_true'",
        "'--prefix'",
        "''",
        "'cnn'",
        "'--data_root'",
        "'sam-1b/sa_000000'",
        "'random seed'",
        "'--save_root'",
        "'output/sa_000000-Grad'",
        "'random seed'",
        "'--control_mask_dir'",
        "'sam-1b/sa_000000'",
        "'random seed'",
        "'--inversion_dir'",
        "'output/sa_000000-Inversion/embeddings'",
        "'random seed'",
        "'--caption_path'",
        "'sam-1b/sa_000000-blip2-caption.json'",
        "'random seed'",
        "'--controlnet_path'",
        "'ckpt/control_v11p_sd15_mask_sa000000.pth'",
        "'random seed'",
        "'--prompt_bs'",
        "'cnn'",
        "'--prompt_type'",
        "'box'",
        "'cnn'",
        "'--prompt_num'",
        "'cnn'",
        "'cuda'",
        "'cpu'",
        "'==> Preparing Model..'",
        "'vit'",
        "'adv_resnet152_denoise'",
        "'Using 0.5 Nor...'",
        "'mvit'",
        "'cuda'",
        "\"worst_iou: \"",
        "\"down_cross\"",
        "\"up_cross\"",
        "'only support one mask per image now'",
        "'bilinear'",
        "\"down_cross\"",
        "\"mid_cross\"",
        "\"up_cross\"",
        "\"down_self\"",
        "\"mid_self\"",
        "\"up_self\"",
        "f\"{place_in_unet}_{'cross' if is_cross else 'self'}\"",
        "'cross'",
        "'self'",
        "'hpw,bwn->bhpn'",
        "f\"{location}_{'cross' if is_cross else 'self'}\"",
        "'cross'",
        "'self'",
        "\"words\"",
        "\"values\"",
        "'cross_attention'",
        "'self_attention'",
        "'image'",
        "\"max_length\"",
        "\"pt\"",
        "\"\"",
        "\"max_length\"",
        "\"pt\"",
        "'image'",
        "'inversion'",
        "\"w.o. prompt-to-prompt\"",
        "\"with prompt-to-prompt\"",
        "'img'",
        "\"max_length\"",
        "\"pt\"",
        "\"\"",
        "\"max_length\"",
        "\"pt\"",
        "'sample'",
        "'sam'",
        "'image'",
        "'box'",
        "'boxes'",
        "'point_coords'",
        "'point_labels'",
        "'original_size'",
        "'masks'",
        "'iou_predictions'",
        "'low_res_logits'",
        "'sam_efficient'",
        "'bilinear'",
        "\"iou:\"",
        "'bilinear'",
        "'*'",
        "'Loss'",
        "'Loss_dice'",
        "'Loss_ce'",
        "'Loss_mse'",
        "'Predicted:'",
        "'Grad:'",
        "'img'",
        "'Img L1 Grad:'",
        "'prompt'",
        "'Box L1 Grad:'",
        "'sample'",
        "'off'",
        "'box'",
        "f'sa_{str(id)}.jpg'",
        "f'sa_{str(id)}.png'",
        "'check_controlnet_pth.png'",
        "f'sa_{str(id)}.png'",
        "'check_controlnet_use'",
        "f'sa_{str(id)}.jpg'",
        "f\"{args.inversion_dir}/sa_{str(id)}_latent.pth\"",
        "f\"{args.inversion_dir}/sa_{str(id)}_uncond.pth\"",
        "f'sa_{str(id)}.png'",
        "'check_inversion'",
        "'__main__'",
        "\"scaled_linear\"",
        "'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'",
        "'cuda:0'",
        "'cpu'",
        "\"ckpt/stable-diffusion-v1-5\"",
        "\"Attribute disable_xformers_memory_efficient_attention() is missing\"",
        "'r'",
        "'img'",
        "'prompt'",
        "'/'",
        "\"\"",
        "'-'",
        "'Attacker-'",
        "'-'",
        "'-AttackObject-'",
        "'-Definder-'",
        "'-'",
        "'-'",
        "'-'",
        "'-'",
        "'-Loss-'",
        "'-'",
        "'-'",
        "'-'",
        "'-'",
        "'-Perturbation-'",
        "'-'",
        "'-'",
        "'-'",
        "'-random_latent'",
        "\"Save Path:\"",
        "'pair'",
        "'pair'",
        "'adv'",
        "'adv'",
        "'record'",
        "'record'",
        "'.jpg'",
        "'/'",
        "'.jpg'",
        "'/'",
        "'.png'",
        "'/'",
        "\"does not exist!\"",
        "'adv'",
        "'.png'",
        "'adv'",
        "'.png'",
        "\" has existed!\"",
        "'RGB'",
        "f'segmentation_{str(j)}.png'",
        "'L'",
        "'bilinear'",
        "f'segmentation_{str(j)}.png'",
        "'L'",
        "'/'",
        "f\"{args.inversion_dir}/{name}_latent.pth\"",
        "f\"{args.inversion_dir}/{name}_uncond.pth\"",
        "\"do not exist!\"",
        "'prompt'",
        "'Grad Time:'",
        "'adv'",
        "'pair'",
        "'.jpg'",
        "'/record/'",
        "'.txt'",
        "'w'",
        "': '",
        "'\\n'",
        "'worst iou: '",
        "'  iter: '"
    ],
    "variables": [
        "parser",
        "args",
        "device",
        "image_size",
        "mean",
        "std",
        "mean",
        "std",
        "image_size",
        "mean",
        "std",
        "mean",
        "std",
        "net",
        "cudnn",
        "benchmark",
        "width",
        "height",
        "background_color",
        "image",
        "text",
        "font",
        "font_scale",
        "text_color",
        "thickness",
        "text_size",
        "x",
        "y",
        "h",
        "w",
        "y",
        "x",
        "y",
        "x",
        "y",
        "x",
        "x_mask",
        "x_max",
        "x_min",
        "y_mask",
        "y_max",
        "y_min",
        "h",
        "w",
        "y",
        "x",
        "y",
        "x",
        "y",
        "x",
        "samples",
        "select_mask",
        "x_idx",
        "y_idx",
        "perm",
        "idx",
        "samples_x",
        "samples_y",
        "samples_xy",
        "samples",
        "inputs",
        "targets",
        "numerator",
        "denominator",
        "loss",
        "k",
        "maps",
        "maps",
        "mask",
        "mask",
        "mask",
        "mask",
        "maps",
        "maps",
        "maps",
        "mask",
        "maps_sub",
        "mask",
        "mask",
        "x_t",
        "alpha_layers",
        "words_",
        "ind",
        "alpha_layers",
        "i",
        "ind",
        "substruct_layers",
        "words_",
        "ind",
        "substruct_layers",
        "i",
        "ind",
        "substruct_layers",
        "substruct_layers",
        "alpha_layers",
        "start_blend",
        "counter",
        "th",
        "pred_label",
        "label",
        "intersection",
        "union",
        "postprocess_preds",
        "postprocess_preds",
        "iou",
        "iou",
        "attn",
        "h",
        "attn",
        "cur_att_layer",
        "cur_step",
        "cur_att_layer",
        "cur_step",
        "num_att_layers",
        "cur_att_layer",
        "b",
        "x_t",
        "stop_inject",
        "key",
        "attention_store",
        "step_store",
        "average_attention",
        "step_store",
        "attention_store",
        "step_store",
        "attention_store",
        "x_t",
        "attn_base",
        "h",
        "attn",
        "attn_base",
        "attn_repalce",
        "alpha_words",
        "attn_repalce_new",
        "attn",
        "attn",
        "attn",
        "batch_size",
        "cross_replace_alpha",
        "self_replace_steps",
        "num_self_replace",
        "local_blend",
        "mapper",
        "attn_base_replace",
        "attn_replace",
        "alphas",
        "alphas",
        "alphas",
        "attn_base",
        "attn_replace",
        "equalizer",
        "prev_controller",
        "word_select",
        "equalizer",
        "inds",
        "equalizer",
        "inds",
        "attention_maps",
        "num_pixels",
        "cross_maps",
        "lb",
        "lb",
        "controller",
        "controller",
        "eq",
        "controller",
        "tokens",
        "decoder",
        "attention_maps",
        "images",
        "image",
        "image",
        "image",
        "image",
        "image",
        "image",
        "attention_maps",
        "u",
        "s",
        "vh",
        "images",
        "image",
        "image",
        "image",
        "image",
        "image",
        "image",
        "batch_size",
        "height",
        "width",
        "text_input",
        "text_embeddings",
        "max_length",
        "uncond_input",
        "uncond_embeddings_",
        "uncond_embeddings_",
        "latent",
        "latents",
        "context",
        "context",
        "latents",
        "image",
        "image",
        "images",
        "latent",
        "images",
        "x_t",
        "idx",
        "y",
        "idx",
        "idx",
        "y",
        "idx",
        "batch_size",
        "height",
        "width",
        "text_input",
        "text_embeddings",
        "max_length",
        "uncond_input",
        "uncond_embeddings_",
        "uncond_embeddings_",
        "latent",
        "latents",
        "best_latent",
        "ori_latents",
        "adv_latents",
        "momentum",
        "worst_iou",
        "iou_list",
        "worst_mask",
        "best_boxes",
        "ori_boxes",
        "adv_boxes",
        "momentum_boxes",
        "latents",
        "context",
        "context",
        "latents",
        "image",
        "latents_last",
        "latents_last",
        "requires_grad",
        "latents_t",
        "image",
        "image",
        "image",
        "image_m",
        "adv_boxes",
        "requires_grad",
        "example",
        "example",
        "example",
        "example",
        "example",
        "example",
        "output",
        "interbeddings",
        "output",
        "ad_masks",
        "ad_iou_predictions",
        "ad_low_res_logits",
        "input_points",
        "input_labels",
        "predicted_logits",
        "predicted_iou",
        "sorted_ids",
        "predicted_iou",
        "predicted_logits",
        "ad_low_res_logits",
        "ad_masks",
        "loss_ce",
        "loss_dice",
        "iou",
        "best_latent",
        "worst_iou",
        "worst_mask",
        "image_m",
        "image_m",
        "loss_mse",
        "loss",
        "l1_grad",
        "momentum",
        "adv_latents",
        "noise",
        "adv_latents",
        "latents",
        "l1_grad",
        "momentum_boxes",
        "adv_boxes",
        "noise",
        "adv_boxes",
        "adv_boxes",
        "latents",
        "context",
        "context",
        "latents",
        "latents",
        "image",
        "image",
        "image",
        "image",
        "image",
        "worst_mask_show",
        "fig",
        "ax",
        "num",
        "length",
        "worst_mask",
        "single_mask",
        "pos",
        "color",
        "worst_mask_show",
        "box",
        "point",
        "data",
        "width",
        "height",
        "vis",
        "id",
        "prompt",
        "control_image",
        "output",
        "output_numpy",
        "control_image",
        "control_image",
        "control_image",
        "control_image",
        "controller",
        "x_t",
        "id",
        "prompt",
        "latent_path",
        "uncond_path",
        "x_t",
        "uncond_embeddings",
        "control_image",
        "control_image",
        "control_image",
        "control_image",
        "controller",
        "scheduler",
        "MY_TOKEN",
        "LOW_RESOURCE",
        "NUM_DDIM_STEPS",
        "GUIDANCE_SCALE",
        "MAX_NUM_WORDS",
        "device",
        "controlnet",
        "ldm_stable",
        "captions",
        "lines",
        "json_dict",
        "captions",
        "save_path",
        "names",
        "names",
        "names",
        "names",
        "img_path",
        "control_mask_path",
        "label_mask_dir",
        "pil_image",
        "raw_img_show",
        "raw_img",
        "raw_img",
        "raw_img",
        "origin_len",
        "label_masks",
        "label_mask_path",
        "label_mask",
        "label_mask_torch",
        "label_masks",
        "boxes",
        "points",
        "label_masks_256",
        "sup_masks",
        "sup_mask_path",
        "sup_mask",
        "sup_mask_torch",
        "sup_masks",
        "prompt",
        "latent_path",
        "uncond_path",
        "x_t",
        "uncond_embeddings",
        "x_t",
        "uncond_embeddings",
        "control_mask",
        "control_mask",
        "control_mask",
        "mask_show",
        "control_mask",
        "controller",
        "start",
        "image_inv",
        "x_t",
        "worst_mask",
        "vis",
        "worst_iou",
        "iou_list"
    ],
    "comments": [
        "Initialize #####################",
        "Definder setting",
        "Attacker setting",
        "Perturbation setting",
        "Loss setting",
        "base setting",
        "path setting",
        "prompt setting",
        "print(type(net))",
        "raise NameError",
        "if args.model == 'sam':",
        "net_predictor = SamPredictor(net)",
        "白色背景",
        "在图像上绘制文本",
        "黑色文本颜色",
        "获取文本的尺寸",
        "计算文本的起始x坐标",
        "计算文本的起始y坐标",
        "在图像上绘制文本",
        "k = 10",
        "[N 1 h w] [-1 1] [0 1]",
        "avoid memory overhead",
        "attn_replace = attn_replace / attn_replace.sum(-1, keepdims=True)",
        "attn_replace = attn_replace / attn_replace.sum(-1, keepdims=True)",
        "print(model.device, latents.device, mask_control.device, context.device, t.device)",
        "print(4, image.max(), image.min())",
        "print(1, image_m.max(), image_m.min())",
        "print(example['image'].dtype, example['boxes'].dtype)",
        "print(latent.min(), latent.max())",
        "Return Best Attack",
        "print(4, image.max(), image.min())",
        "print(type(output),output_numpy.max())",
        "Load Stable Diffusion & ControlNet",
        "Load imgs and Caption",
        "Check controlnet & inversion",
        "Prepare save path",
        "Adversarial optimization loop",
        "prepare img & mask path",
        "continue",
        "load raw img for mse loss [1,3,512,512] [0,1]",
        "load mask labels & boxes prompt & point prompt",
        "load sup mask for show",
        "load caption",
        "load x_t & uncondition embeddings",
        "load control mask",
        "adversarial optimization",
        "show",
        "record adversarial iou"
    ],
    "docstrings": [
        "'''\nCUDA_VISIBLE_DEVICES=0 python3 grad_null_text_inversion_edit.py --model sam --beta 1 --alpha 0.01 --steps 10  --ddim_steps=50 --norm 2\n'''",
        "\"\"\"Compute the bounding boxes around the provided masks\n\n    The masks should be in format [N, H, W] where N is the number of masks, (H, W) are the spatial dimensions.\n\n    Returns a [N, 4] tensors, with the boxes in xyxy format\n    \"\"\"",
        "\"\"\"Sample points on mask\n    \"\"\"",
        "\"\"\"\n    Compute the DICE loss, similar to generalized IOU for masks\n    Args:\n        inputs: A float tensor of arbitrary shape.\n                The predictions for each example.\n        targets: A float tensor with the same shape as inputs. Stores the binary\n                 classification label for each element in inputs\n                (0 for the negative class and 1 for the positive class).\n    \"\"\"",
        "'''\n        calculate mask iou for pred_label and gt_label\n        '''",
        "**2 / 50"
    ],
    "functions": [
        "str2img",
        "masks_to_boxes",
        "masks_sample_points",
        "dice_loss",
        "get_mask",
        "__call__",
        "step_callback",
        "between_steps",
        "__call__",
        "compute_iou",
        "mask_iou",
        "step_callback",
        "between_steps",
        "num_uncond_att_layers",
        "forward",
        "__call__",
        "reset",
        "step_callback",
        "get_empty_store",
        "forward",
        "between_steps",
        "get_average_attention",
        "reset",
        "step_callback",
        "replace_self_attention",
        "replace_cross_attention",
        "forward",
        "replace_cross_attention",
        "replace_cross_attention",
        "replace_cross_attention",
        "get_equalizer",
        "aggregate_attention",
        "make_controller",
        "show_cross_attention",
        "show_self_attention_comp",
        "text2image_ldm_stable",
        "run_and_display",
        "limitation01",
        "text2image_ldm_stable_last",
        "check_controlnet",
        "check_inversion"
    ],
    "classes": [
        "LocalBlend",
        "EmptyControl",
        "AttentionControl",
        "SpatialReplace",
        "AttentionStore",
        "AttentionControlEdit",
        "AttentionReplace",
        "AttentionRefine",
        "AttentionReweight"
    ]
}