{
    "identifiers": [
        "os",
        "time",
        "typing",
        "Any",
        "Dict",
        "Union",
        "azure",
        "cosmos",
        "aio",
        "ContainerProxy",
        "CosmosClient",
        "azure",
        "identity",
        "aio",
        "AzureDeveloperCliCredential",
        "ManagedIdentityCredential",
        "quart",
        "Blueprint",
        "current_app",
        "jsonify",
        "request",
        "config",
        "CONFIG_CHAT_HISTORY_COSMOS_ENABLED",
        "CONFIG_COSMOS_HISTORY_CLIENT",
        "CONFIG_COSMOS_HISTORY_CONTAINER",
        "CONFIG_CREDENTIAL",
        "decorators",
        "authenticated",
        "error",
        "error_response",
        "Blueprint",
        "static_folder",
        "chat_history_cosmosdb_bp",
        "post",
        "authenticated",
        "auth_claims",
        "Dict",
        "Any",
        "current_app",
        "config",
        "CONFIG_CHAT_HISTORY_COSMOS_ENABLED",
        "jsonify",
        "ContainerProxy",
        "current_app",
        "config",
        "CONFIG_COSMOS_HISTORY_CONTAINER",
        "container",
        "jsonify",
        "auth_claims",
        "get",
        "entra_oid",
        "jsonify",
        "request",
        "get_json",
        "request_json",
        "get",
        "request_json",
        "get",
        "answers",
        "len",
        "answers",
        "answers",
        "time",
        "time",
        "container",
        "upsert_item",
        "id",
        "entra_oid",
        "title",
        "answers",
        "timestamp",
        "jsonify",
        "error",
        "error_response",
        "error",
        "chat_history_cosmosdb_bp",
        "post",
        "authenticated",
        "auth_claims",
        "Dict",
        "Any",
        "current_app",
        "config",
        "CONFIG_CHAT_HISTORY_COSMOS_ENABLED",
        "jsonify",
        "ContainerProxy",
        "current_app",
        "config",
        "CONFIG_COSMOS_HISTORY_CONTAINER",
        "container",
        "jsonify",
        "auth_claims",
        "get",
        "entra_oid",
        "jsonify",
        "request",
        "get_json",
        "request_json",
        "get",
        "request_json",
        "get",
        "container",
        "query_items",
        "query",
        "parameters",
        "name",
        "value",
        "entra_oid",
        "max_item_count",
        "count",
        "res",
        "by_page",
        "continuation_token",
        "pager",
        "__anext__",
        "pager",
        "continuation_token",
        "item",
        "page",
        "items",
        "append",
        "item",
        "get",
        "item",
        "get",
        "item",
        "get",
        "item",
        "get",
        "StopAsyncIteration",
        "jsonify",
        "items",
        "continuation_token",
        "error",
        "error_response",
        "error",
        "chat_history_cosmosdb_bp",
        "get",
        "authenticated",
        "auth_claims",
        "Dict",
        "Any",
        "item_id",
        "current_app",
        "config",
        "CONFIG_CHAT_HISTORY_COSMOS_ENABLED",
        "jsonify",
        "ContainerProxy",
        "current_app",
        "config",
        "CONFIG_COSMOS_HISTORY_CONTAINER",
        "container",
        "jsonify",
        "auth_claims",
        "get",
        "entra_oid",
        "jsonify",
        "container",
        "read_item",
        "item",
        "item_id",
        "partition_key",
        "entra_oid",
        "jsonify",
        "res",
        "get",
        "res",
        "get",
        "res",
        "get",
        "res",
        "get",
        "res",
        "get",
        "error",
        "error_response",
        "error",
        "item_id",
        "chat_history_cosmosdb_bp",
        "authenticated",
        "auth_claims",
        "Dict",
        "Any",
        "item_id",
        "current_app",
        "config",
        "CONFIG_CHAT_HISTORY_COSMOS_ENABLED",
        "jsonify",
        "ContainerProxy",
        "current_app",
        "config",
        "CONFIG_COSMOS_HISTORY_CONTAINER",
        "container",
        "jsonify",
        "auth_claims",
        "get",
        "entra_oid",
        "jsonify",
        "container",
        "delete_item",
        "item",
        "item_id",
        "partition_key",
        "entra_oid",
        "jsonify",
        "error",
        "error_response",
        "error",
        "item_id",
        "chat_history_cosmosdb_bp",
        "before_app_serving",
        "os",
        "getenv",
        "lower",
        "os",
        "getenv",
        "os",
        "getenv",
        "os",
        "getenv",
        "Union",
        "AzureDeveloperCliCredential",
        "ManagedIdentityCredential",
        "current_app",
        "config",
        "CONFIG_CREDENTIAL",
        "USE_CHAT_HISTORY_COSMOS",
        "current_app",
        "logger",
        "info",
        "AZURE_COSMOSDB_ACCOUNT",
        "ValueError",
        "AZURE_CHAT_HISTORY_DATABASE",
        "ValueError",
        "AZURE_CHAT_HISTORY_CONTAINER",
        "ValueError",
        "CosmosClient",
        "url",
        "AZURE_COSMOSDB_ACCOUNT",
        "credential",
        "azure_credential",
        "cosmos_client",
        "get_database_client",
        "AZURE_CHAT_HISTORY_DATABASE",
        "cosmos_db",
        "get_container_client",
        "AZURE_CHAT_HISTORY_CONTAINER",
        "current_app",
        "config",
        "cosmos_client",
        "current_app",
        "config",
        "cosmos_container",
        "chat_history_cosmosdb_bp",
        "after_app_serving",
        "current_app",
        "config",
        "get",
        "CONFIG_COSMOS_HISTORY_CLIENT",
        "CosmosClient",
        "current_app",
        "config",
        "CONFIG_COSMOS_HISTORY_CLIENT",
        "cosmos_client",
        "close"
    ],
    "literals": [
        "\"chat_history_cosmos\"",
        "\"static\"",
        "\"/chat_history\"",
        "\"error\"",
        "\"Chat history not enabled\"",
        "\"error\"",
        "\"Chat history not enabled\"",
        "\"oid\"",
        "\"error\"",
        "\"User OID not found\"",
        "\"id\"",
        "\"answers\"",
        "\"...\"",
        "\"id\"",
        "\"entra_oid\"",
        "\"title\"",
        "\"answers\"",
        "\"timestamp\"",
        "\"/chat_history\"",
        "\"/chat_history/items\"",
        "\"error\"",
        "\"Chat history not enabled\"",
        "\"error\"",
        "\"Chat history not enabled\"",
        "\"oid\"",
        "\"error\"",
        "\"User OID not found\"",
        "\"count\"",
        "\"continuation_token\"",
        "\"SELECT c.id, c.entra_oid, c.title, c.timestamp FROM c WHERE c.entra_oid = @entra_oid ORDER BY c.timestamp DESC\"",
        "\"@entra_oid\"",
        "\"id\"",
        "\"id\"",
        "\"entra_oid\"",
        "\"entra_oid\"",
        "\"title\"",
        "\"title\"",
        "\"untitled\"",
        "\"timestamp\"",
        "\"timestamp\"",
        "\"items\"",
        "\"continuation_token\"",
        "\"/chat_history/items\"",
        "\"/chat_history/items/<item_id>\"",
        "\"error\"",
        "\"Chat history not enabled\"",
        "\"error\"",
        "\"Chat history not enabled\"",
        "\"oid\"",
        "\"error\"",
        "\"User OID not found\"",
        "\"id\"",
        "\"id\"",
        "\"entra_oid\"",
        "\"entra_oid\"",
        "\"title\"",
        "\"title\"",
        "\"untitled\"",
        "\"timestamp\"",
        "\"timestamp\"",
        "\"answers\"",
        "\"answers\"",
        "f\"/chat_history/items/{item_id}\"",
        "\"/chat_history/items/<item_id>\"",
        "\"error\"",
        "\"Chat history not enabled\"",
        "\"error\"",
        "\"Chat history not enabled\"",
        "\"oid\"",
        "\"error\"",
        "\"User OID not found\"",
        "f\"/chat_history/items/{item_id}\"",
        "\"USE_CHAT_HISTORY_COSMOS\"",
        "\"\"",
        "\"true\"",
        "\"AZURE_COSMOSDB_ACCOUNT\"",
        "\"AZURE_CHAT_HISTORY_DATABASE\"",
        "\"AZURE_CHAT_HISTORY_CONTAINER\"",
        "\"USE_CHAT_HISTORY_COSMOS is true, setting up CosmosDB client\"",
        "\"AZURE_COSMOSDB_ACCOUNT must be set when USE_CHAT_HISTORY_COSMOS is true\"",
        "\"AZURE_CHAT_HISTORY_DATABASE must be set when USE_CHAT_HISTORY_COSMOS is true\"",
        "\"AZURE_CHAT_HISTORY_CONTAINER must be set when USE_CHAT_HISTORY_COSMOS is true\"",
        "f\"https://{AZURE_COSMOSDB_ACCOUNT}.documents.azure.com:443/\""
    ],
    "variables": [
        "chat_history_cosmosdb_bp",
        "container",
        "entra_oid",
        "request_json",
        "id",
        "answers",
        "title",
        "timestamp",
        "container",
        "entra_oid",
        "request_json",
        "count",
        "continuation_token",
        "res",
        "pager",
        "page",
        "continuation_token",
        "items",
        "items",
        "continuation_token",
        "container",
        "entra_oid",
        "res",
        "container",
        "entra_oid",
        "USE_CHAT_HISTORY_COSMOS",
        "AZURE_COSMOSDB_ACCOUNT",
        "AZURE_CHAT_HISTORY_DATABASE",
        "AZURE_CHAT_HISTORY_CONTAINER",
        "azure_credential",
        "cosmos_client",
        "cosmos_db",
        "cosmos_container",
        "CONFIG_COSMOS_HISTORY_CLIENT",
        "CONFIG_COSMOS_HISTORY_CONTAINER",
        "cosmos_client"
    ],
    "comments": [
        "set the continuation token for the next page",
        "Get the first page, and the continuation token",
        "type: ignore",
        "If there are no more pages, StopAsyncIteration is raised"
    ],
    "docstrings": [],
    "functions": [
        "post_chat_history",
        "get_chat_history",
        "get_chat_history_session",
        "delete_chat_history_session",
        "setup_clients",
        "close_clients"
    ],
    "classes": []
}