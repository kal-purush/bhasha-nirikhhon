{
    "identifiers": [
        "csv",
        "errno",
        "os",
        "re",
        "shutil",
        "zipfile",
        "cosinnus",
        "utils",
        "urls",
        "group_aware_reverse",
        "django",
        "db",
        "models",
        "Q",
        "F",
        "django",
        "contrib",
        "auth",
        "get_user_model",
        "django",
        "http",
        "response",
        "HttpResponse",
        "django",
        "template",
        "defaultfilters",
        "slugify",
        "rest_framework",
        "views",
        "APIView",
        "postman",
        "models",
        "Message",
        "STATUS_ACCEPTED",
        "APIView",
        "user_ids",
        "get_user_model",
        "objects",
        "is_active",
        "user_ids",
        "qs",
        "id__in",
        "user_ids",
        "user",
        "qs",
        "users",
        "append",
        "user",
        "id",
        "user",
        "email",
        "user",
        "get_full_name",
        "users",
        "user_ids",
        "Message",
        "objects",
        "sender__in",
        "user_ids",
        "moderation_status",
        "STATUS_ACCEPTED",
        "parent__isnull",
        "qs",
        "exclude",
        "sender_deleted_at__isnull",
        "recipient_deleted_at__isnull",
        "qs",
        "Q",
        "multi_conversation__isnull",
        "thread__isnull",
        "Q",
        "multi_conversation__isnull",
        "thread_id",
        "F",
        "Q",
        "multi_conversation__isnull",
        "master_for_sender",
        "thread__isnull",
        "Q",
        "multi_conversation__isnull",
        "master_for_sender",
        "thread_id",
        "F",
        "message",
        "qs",
        "message",
        "multi_conversation",
        "join",
        "u",
        "id",
        "u",
        "message",
        "multi_conversation",
        "participants",
        "all",
        "u",
        "id",
        "user_ids",
        "participants",
        "slugify",
        "message",
        "subject",
        "message",
        "id",
        "channels",
        "append",
        "message",
        "id",
        "channel_name",
        "message",
        "sender_id",
        "participants",
        "message",
        "sender_id",
        "user_ids",
        "message",
        "recipient_id",
        "user_ids",
        "slugify",
        "message",
        "sender_id",
        "message",
        "recipient_id",
        "channels",
        "append",
        "message",
        "id",
        "channel_name",
        "message",
        "sender_id",
        "message",
        "recipient_id",
        "channels",
        "text",
        "re",
        "sub",
        "text",
        "re",
        "sub",
        "text",
        "re",
        "sub",
        "text",
        "re",
        "sub",
        "text",
        "re",
        "sub",
        "text",
        "text",
        "channel",
        "user_ids",
        "Message",
        "objects",
        "sender__in",
        "user_ids",
        "moderation_status",
        "STATUS_ACCEPTED",
        "qs",
        "exclude",
        "sender_deleted_at__isnull",
        "recipient_deleted_at__isnull",
        "qs",
        "Q",
        "id",
        "channel",
        "Q",
        "thread_id",
        "channel",
        "qs",
        "order_by",
        "message",
        "qs",
        "format_message",
        "message",
        "body",
        "message",
        "subject",
        "message",
        "subject",
        "text",
        "message",
        "sent_at",
        "timestamp",
        "messages",
        "append",
        "message",
        "sender_id",
        "timestamp",
        "text",
        "att",
        "message",
        "attached_objects",
        "all",
        "att",
        "target_object",
        "attachments",
        "append",
        "message",
        "sender_id",
        "timestamp",
        "group_aware_reverse",
        "kwargs",
        "fileentry",
        "group",
        "att",
        "target_object",
        "slug",
        "messages",
        "attachments",
        "file_list",
        "archive",
        "root",
        "zipfile",
        "ZipFile",
        "archive",
        "zipfile",
        "ZIP_DEFLATED",
        "f",
        "file_list",
        "zip_file",
        "write",
        "os",
        "path",
        "join",
        "root",
        "f",
        "f",
        "zip_file",
        "close",
        "request",
        "args",
        "kwargs",
        "request",
        "GET",
        "get",
        "users",
        "users",
        "split",
        "os",
        "path",
        "exists",
        "path",
        "os",
        "path",
        "isdir",
        "path",
        "shutil",
        "rmtree",
        "path",
        "os",
        "path",
        "exists",
        "path",
        "os",
        "makedirs",
        "path",
        "OSError",
        "exc",
        "exc",
        "errno",
        "errno",
        "EEXIST",
        "_get_users",
        "users",
        "open",
        "path",
        "csv_file",
        "csv",
        "writer",
        "csv_file",
        "delimiter",
        "quoting",
        "csv",
        "QUOTE_ALL",
        "writer",
        "writerows",
        "users",
        "u",
        "u",
        "users",
        "_get_channels",
        "user_ids",
        "open",
        "path",
        "csv_file",
        "csv",
        "writer",
        "csv_file",
        "delimiter",
        "quoting",
        "csv",
        "QUOTE_ALL",
        "writer",
        "writerows",
        "channel",
        "channel",
        "channels",
        "channel",
        "channels",
        "_get_messages",
        "channel",
        "user_ids",
        "messages",
        "path",
        "channel",
        "os",
        "path",
        "exists",
        "channel_path",
        "os",
        "makedirs",
        "channel_path",
        "OSError",
        "exc",
        "exc",
        "errno",
        "errno",
        "EEXIST",
        "open",
        "channel_path",
        "csv_file",
        "csv",
        "writer",
        "csv_file",
        "delimiter",
        "quoting",
        "csv",
        "QUOTE_ALL",
        "writer",
        "writerows",
        "messages",
        "attachments",
        "open",
        "channel_path",
        "csv_file",
        "csv",
        "writer",
        "csv_file",
        "delimiter",
        "quoting",
        "csv",
        "QUOTE_ALL",
        "writer",
        "writerows",
        "attachments",
        "os",
        "path",
        "relpath",
        "os",
        "path",
        "join",
        "dp",
        "f",
        "dp",
        "dn",
        "fn",
        "os",
        "walk",
        "os",
        "path",
        "expanduser",
        "path",
        "f",
        "fn",
        "make_archive",
        "file_list",
        "zip_filename",
        "path",
        "HttpResponse",
        "open",
        "zip_filename",
        "content_type",
        "zip_filename",
        "response"
    ],
    "literals": [
        "'id'",
        "'id'",
        "';'",
        "f'{slugify(message.subject)}-{message.id}'",
        "'private'",
        "f'{message.sender_id} x {message.recipient_id}'",
        "'direct'",
        "r'\\n_ '",
        "'\\n- '",
        "r'\\n* '",
        "'\\n- '",
        "r'(^|\\n|[^\\*])\\*($|\\n|[^\\*])'",
        "r'\\1_\\2'",
        "r'\\*\\*'",
        "'*'",
        "r'~~'",
        "'~'",
        "'sent_at'",
        "f\"*{message.subject}*\\n{text}\"",
        "'cosinnus:file:rocket-download'",
        "'group'",
        "'slug'",
        "'w'",
        "'users'",
        "','",
        "'export'",
        "f'{path}/users.csv'",
        "'w'",
        "','",
        "f'{path}/channels.csv'",
        "'w'",
        "','",
        "f'{path}/{channel[1]}'",
        "f'{channel_path}/messages.csv'",
        "'a'",
        "','",
        "f'{channel_path}/uploads.csv'",
        "'a'",
        "','",
        "'export.zip'",
        "'export'",
        "'rb'",
        "'application/zip'",
        "'Content-Disposition'",
        "f'attachment; filename=\"{zip_filename}\"'"
    ],
    "variables": [
        "users",
        "qs",
        "qs",
        "channels",
        "qs",
        "qs",
        "qs",
        "participants",
        "level",
        "participants",
        "channel_name",
        "channel_name",
        "text",
        "text",
        "text",
        "text",
        "text",
        "messages",
        "attachments",
        "qs",
        "qs",
        "qs",
        "qs",
        "text",
        "text",
        "timestamp",
        "fileentry",
        "zip_file",
        "users",
        "users",
        "path",
        "users",
        "writer",
        "user_ids",
        "channels",
        "writer",
        "messages",
        "attachments",
        "channel_path",
        "writer",
        "writer",
        "zip_filename",
        "file_list",
        "response",
        "response"
    ],
    "comments": [
        "sender_archived=False,",
        "recipient_archived=False,",
        "Unordered lists: _ to - / * to -",
        "Italic: * to _",
        "Bold: ** to *",
        "Strike: ~~ to ~",
        "sender_archived=False,",
        "recipient_archived=False,",
        "if message.thread_id == message.id and message.subject:",
        "Limit to given users, if specified",
        "Recreate folder",
        "Guard against race condition",
        "Create ZIP contents",
        "Create folder",
        "Guard against race condition",
        "Return zip file"
    ],
    "docstrings": [
        "\"\"\"\n        Return users\n        :return:\n        \"\"\"",
        "\"\"\"\n        Return channels\n        :param user_ids:\n        :return:\n        \"\"\"",
        "\"\"\"\n        Replace WECHANGE formatting language with Rocket.Chat formatting language:\n        Rocket.Chat:\n            Bold: *Lorem ipsum dolor* ;\n            Italic: _Lorem ipsum dolor_ ;\n            Strike: ~Lorem ipsum dolor~ ;\n            Inline code: `Lorem ipsum dolor`;\n            Image: ![Alt text](https://rocket.chat/favicon.ico) ;\n            Link: [Lorem ipsum dolor](https://www.rocket.chat/) or <https://www.rocket.chat/ |Lorem ipsum dolor> ;\n        :param text:\n        :return:\n        \"\"\"",
        "\"\"\"\n        Return messages in channel\n        :return:\n        \"\"\"",
        "\"\"\"\n        'fileList' is a list of file names - full path each name\n        'archive' is the file name for the archive with a full path\n        \"\"\"",
        "\"\"\"\n        Return users/channels as ZIP file (required by Rocket.Chat)\n        see https://rocket.chat/docs/administrator-guides/import/csv/\n        :param request:\n        :param args:\n        :param kwargs:\n        :return:\n        \"\"\""
    ],
    "functions": [
        "_get_users",
        "_get_channels",
        "format_message",
        "_get_messages",
        "make_archive",
        "get"
    ],
    "classes": [
        "MessageExportView"
    ]
}