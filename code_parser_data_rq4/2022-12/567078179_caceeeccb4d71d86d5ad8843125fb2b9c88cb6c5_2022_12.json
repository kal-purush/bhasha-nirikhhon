{
    "identifiers": [
        "isValidPublicKey",
        "AuthorizedRequest",
        "Env",
        "SurveyStatus",
        "respond",
        "respondError",
        "objectMatchesStructure",
        "submitNomination",
        "request",
        "env",
        "activeSurvey",
        "respondError",
        "activeSurvey",
        "SurveyStatus",
        "respondError",
        "objectMatchesStructure",
        "data",
        "data",
        "data",
        "respondError",
        "isValidPublicKey",
        "data",
        "respondError",
        "env",
        "activeSurvey",
        "data",
        "existingContribution",
        "existingContribution",
        "data",
        "respondError",
        "existingContribution",
        "env",
        "activeSurvey",
        "data",
        "data",
        "data",
        "respond"
    ],
    "literals": [
        "'../crypto'",
        "'../types'",
        "'../utils'",
        "'../utils/objectMatchesStructure'",
        "string",
        "string",
        "'There is no active survey.'",
        "'Nominations are not being accepted.'",
        "'Missing contributor or contribution.'",
        "'Invalid contributor public key.'",
        "'SELECT * FROM contributions WHERE surveyId = ?1 AND contributorPublicKey = ?2'",
        "string",
        "'Contributor already submitted a contribution.'",
        "'Contributor already nominated by another rater, so you cannot update their contribution.'",
        "'INSERT INTO contributions (surveyId, nominatedByPublicKey, contributorPublicKey, content, createdAt, updatedAt) VALUES (?1, ?2, ?3, ?4, ?5, ?5) ON CONFLICT(surveyId, contributorPublicKey) DO UPDATE SET content = ?4, updatedAt = ?5'"
    ],
    "variables": [
        "submitNomination",
        "request",
        "existingContribution"
    ],
    "comments": [
        "Get active survey.",
        "Ensure ratings (thus nominations) are being accepted.",
        "Validate contributor public key.",
        "If contribution exists, only allow to update this rater initially nominated",
        "it.",
        "Make contribution. Updates if already exists."
    ],
    "docstrings": [],
    "functions": [],
    "classes": []
}