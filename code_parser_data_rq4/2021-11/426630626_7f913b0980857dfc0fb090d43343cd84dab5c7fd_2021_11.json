{
    "identifiers": [
        "torch",
        "torch",
        "nn",
        "nn",
        "torch",
        "nn",
        "functional",
        "F",
        "numpy",
        "np",
        "argparse",
        "h5py",
        "os",
        "filepath",
        "open",
        "filepath",
        "f",
        "line",
        "f",
        "line",
        "startswith",
        "line",
        "strip",
        "split",
        "split",
        "position",
        "split",
        "split",
        "split",
        "m_scores",
        "n_scores",
        "s_scores",
        "output",
        "filepath",
        "subdir",
        "dirs",
        "files",
        "os",
        "walk",
        "filepath",
        "file",
        "files",
        "os",
        "path",
        "join",
        "subdir",
        "file",
        "get_identifier_from_path",
        "path",
        "parse_pr_pred",
        "os",
        "path",
        "join",
        "subdir",
        "file",
        "prediction",
        "predictions",
        "filepath",
        "filepath",
        "split",
        "split_path",
        "split",
        "identifier",
        "protein_score",
        "residue_score",
        "protein_score",
        "protein_score",
        "residue_score",
        "residue_score",
        "protein_score",
        "residue_score",
        "filepath",
        "h5py",
        "File",
        "filepath",
        "f",
        "new_identifier",
        "f",
        "keys",
        "f",
        "new_identifier",
        "attrs",
        "np",
        "array",
        "f",
        "new_identifier",
        "embeddings",
        "pr_predictions",
        "output_path",
        "prot_id",
        "pr_predictions",
        "open",
        "output_path",
        "prot_id",
        "file",
        "file",
        "seek",
        "len",
        "file",
        "read",
        "file",
        "write",
        "i",
        "len",
        "pr_predictions",
        "prot_id",
        "i",
        "pr_predictions",
        "prot_id",
        "i",
        "pr_predictions",
        "prot_id",
        "i",
        "pr_predictions",
        "prot_id",
        "i",
        "pr_predictions",
        "prot_id",
        "i",
        "pr_predictions",
        "prot_id",
        "i",
        "pr_predictions",
        "prot_id",
        "i",
        "max",
        "pr_predictions",
        "prot_id",
        "i",
        "pr_predictions",
        "prot_id",
        "i",
        "pr_predictions",
        "prot_id",
        "i",
        "file",
        "write",
        "line",
        "model_dir",
        "pr_predictions",
        "embeddings",
        "output_path",
        "torch",
        "load",
        "model_dir",
        "torch",
        "load",
        "model_dir",
        "torch",
        "load",
        "model_dir",
        "m_model",
        "eval",
        "to",
        "device",
        "n_model",
        "eval",
        "to",
        "device",
        "s_model",
        "eval",
        "to",
        "device",
        "prot_id",
        "pr_predictions",
        "torch",
        "no_grad",
        "torch",
        "from_numpy",
        "np",
        "array",
        "embeddings",
        "prot_id",
        "to",
        "device",
        "embedding",
        "torch",
        "float32",
        "m_model",
        "embedding",
        "n_model",
        "embedding",
        "s_model",
        "embedding",
        "F",
        "softmax",
        "m_prediction",
        "dim",
        "F",
        "softmax",
        "n_prediction",
        "dim",
        "F",
        "softmax",
        "s_prediction",
        "dim",
        "produce_new_score_for_prot",
        "m_prediction",
        "item",
        "pr_predictions",
        "prot_id",
        "produce_new_score_for_prot",
        "n_prediction",
        "item",
        "pr_predictions",
        "prot_id",
        "produce_new_score_for_prot",
        "s_prediction",
        "item",
        "pr_predictions",
        "prot_id",
        "write_output",
        "pr_predictions",
        "output_path",
        "probability",
        "predictions",
        "position",
        "predictions",
        "predictions",
        "position",
        "calc_new_score",
        "probability",
        "old_score",
        "model_dir_path",
        "pr_predictions",
        "embeddings",
        "output_path",
        "torch",
        "load",
        "model_dir_path",
        "model",
        "eval",
        "to",
        "device",
        "prot_id",
        "pr_predictions",
        "torch",
        "no_grad",
        "torch",
        "from_numpy",
        "np",
        "array",
        "embeddings",
        "prot_id",
        "to",
        "device",
        "embedding",
        "model",
        "embedding",
        "F",
        "softmax",
        "prediction",
        "dim",
        "prediction",
        "item",
        "prediction",
        "item",
        "prediction",
        "item",
        "prediction",
        "item",
        "prediction",
        "item",
        "prediction",
        "item",
        "prediction",
        "item",
        "prediction",
        "item",
        "prediction",
        "item",
        "prediction",
        "item",
        "prediction",
        "item",
        "prediction",
        "item",
        "max",
        "m_probabilities",
        "max",
        "n_probabilities",
        "max",
        "s_probabilities",
        "produce_new_score_for_prot",
        "m_probability",
        "pr_predictions",
        "prot_id",
        "produce_new_score_for_prot",
        "n_probability",
        "pr_predictions",
        "prot_id",
        "produce_new_score_for_prot",
        "s_probability",
        "pr_predictions",
        "prot_id",
        "write_output",
        "pr_predictions",
        "output_path",
        "model_dir_path",
        "pr_predictions",
        "embeddings",
        "output_path",
        "torch",
        "load",
        "model_dir_path",
        "model",
        "eval",
        "to",
        "device",
        "prot_id",
        "pr_predictions",
        "torch",
        "no_grad",
        "torch",
        "from_numpy",
        "np",
        "array",
        "embeddings",
        "prot_id",
        "to",
        "device",
        "embedding",
        "model",
        "embedding",
        "torch",
        "sigmoid",
        "prediction",
        "produce_new_score_for_prot",
        "prediction",
        "item",
        "pr_predictions",
        "prot_id",
        "produce_new_score_for_prot",
        "prediction",
        "item",
        "pr_predictions",
        "prot_id",
        "produce_new_score_for_prot",
        "prediction",
        "item",
        "pr_predictions",
        "prot_id",
        "write_output",
        "pr_predictions",
        "output_path",
        "nn",
        "Module",
        "input_size",
        "hidden_size",
        "num_classes",
        "dropout_rate_input",
        "dropout_rate_hidden",
        "NeuralNet",
        "nn",
        "Sequential",
        "nn",
        "Dropout",
        "dropout_rate_input",
        "nn",
        "Linear",
        "input_size",
        "hidden_size",
        "nn",
        "Dropout",
        "dropout_rate_hidden",
        "nn",
        "ReLU",
        "nn",
        "Linear",
        "hidden_size",
        "num_classes",
        "x",
        "classifier",
        "x",
        "torch",
        "device",
        "torch",
        "cuda",
        "is_available",
        "device",
        "argparse",
        "ArgumentParser",
        "description",
        "parser",
        "add_argument",
        "help",
        "required",
        "nargs",
        "parser",
        "add_argument",
        "help",
        "required",
        "nargs",
        "parser",
        "add_argument",
        "help",
        "required",
        "nargs",
        "parser",
        "add_argument",
        "help",
        "required",
        "nargs",
        "parser",
        "add_mutually_exclusive_group",
        "group",
        "add_argument",
        "action",
        "help",
        "group",
        "add_argument",
        "action",
        "help",
        "group",
        "add_argument",
        "action",
        "help",
        "parser",
        "parse_args",
        "load_embeddings",
        "args",
        "embeddings",
        "parse_all_preds",
        "args",
        "residue",
        "args",
        "c",
        "combination_ensembl",
        "args",
        "models",
        "residue_predictions",
        "embeddings",
        "args",
        "output_dir",
        "args",
        "t",
        "combination_three_class",
        "args",
        "models",
        "residue_predictions",
        "embeddings",
        "args",
        "output_dir",
        "args",
        "s",
        "combination_old",
        "args",
        "models",
        "residue_predictions",
        "embeddings",
        "args",
        "output_dir"
    ],
    "literals": [
        "\"r\"",
        "\"Position\"",
        "\"\\t\"",
        "\"m\"",
        "\"n\"",
        "\"s\"",
        "\"\\\\\"",
        "\".\"",
        "'r'",
        "\"original_id\"",
        "f\"/{prot_id}_refined.bindPredict_out\"",
        "\"a+\"",
        "\"Position\\tMetal.Proba\\tMetal.Class\\tNuclear.Proba\\tNuclear.Class\\tSmall.Proba\\tSmall.Class\\tAny.Class\\n\"",
        "\"m\"",
        "f\"{i}\\t{pr_predictions[prot_id]['m'][i]}\\t{'b' if pr_predictions[prot_id]['m'][i] > 0.5 else 'nb'}\"",
        "'m'",
        "'b'",
        "'m'",
        "'nb'",
        "f\"\\t{pr_predictions[prot_id]['n'][i]}\\t{'b' if pr_predictions[prot_id]['n'][i] > 0.5 else 'nb'}\\t\"",
        "'n'",
        "'b'",
        "'n'",
        "'nb'",
        "f\"{pr_predictions[prot_id]['s'][i]}\\t{'b' if pr_predictions[prot_id]['s'][i] > 0.5 else 'nb'}\\t\"",
        "'s'",
        "'b'",
        "'s'",
        "'nb'",
        "f\"{'b' if max(pr_predictions[prot_id]['m'][i], pr_predictions[prot_id]['n'][i], pr_predictions[prot_id]['s'][i]) > 0.5 else 'nb'}\\n\"",
        "'b'",
        "'m'",
        "'n'",
        "'s'",
        "'nb'",
        "\"/combination_m.pth\"",
        "\"/combination_n.pth\"",
        "\"/combination_s.pth\"",
        "\"m\"",
        "\"n\"",
        "\"s\"",
        "\"/7_class_predictor.pth\"",
        "\"m\"",
        "\"n\"",
        "\"s\"",
        "\"/3_class_predictor.pth\"",
        "\"m\"",
        "\"n\"",
        "\"s\"",
        "'__main__'",
        "\"cuda:0\"",
        "\"cpu\"",
        "f\"Using Device {device}\"",
        "\"Predict ligand binding for all proteins that have an embedding in the embeddings file.\"",
        "\"-e\"",
        "\"--embeddings\"",
        "\"Filepath to embeddings file\"",
        "\"-o\"",
        "\"--output_dir\"",
        "\"Filepath to the output directory\"",
        "\"-m\"",
        "\"--models\"",
        "\"Filepath to the models directory\"",
        "\"-r\"",
        "\"--residue\"",
        "\"Filepath to the directory with the residue predictions\"",
        "\"-t\"",
        "\"store_true\"",
        "\"Indicates the use of the 3-class Predictor.\"",
        "\"-s\"",
        "\"store_true\"",
        "\"Indicates the use of the 7-class Predictor.\"",
        "\"-c\"",
        "\"store_true\"",
        "\"Indicated the use of the combination approach.\""
    ],
    "variables": [
        "m_scores",
        "n_scores",
        "s_scores",
        "split",
        "position",
        "position",
        "m_scores",
        "position",
        "n_scores",
        "position",
        "s_scores",
        "position",
        "output",
        "predictions",
        "path",
        "identifier",
        "prediction",
        "predictions",
        "identifier",
        "split_path",
        "identifier",
        "embeddings",
        "embeddings",
        "line",
        "m_model",
        "n_model",
        "s_model",
        "embedding",
        "embedding",
        "m_prediction",
        "n_prediction",
        "s_prediction",
        "m_prediction",
        "n_prediction",
        "s_prediction",
        "old_score",
        "predictions",
        "position",
        "model",
        "embedding",
        "embedding",
        "prediction",
        "prediction",
        "m_probabilities",
        "n_probabilities",
        "s_probabilities",
        "m_probability",
        "n_probability",
        "s_probability",
        "model",
        "embedding",
        "embedding",
        "prediction",
        "prediction",
        "classifier",
        "device",
        "parser",
        "group",
        "args",
        "embeddings",
        "residue_predictions"
    ],
    "comments": [
        "check if the file es empty, if so write the header",
        "load the models",
        "load the embeddings and make it a tensor",
        "apply softmax to the predictions",
        "write the output",
        "find the highest probability for each class",
        "make the new scores",
        "write output",
        "make the new scores",
        "write output",
        "input layer dropout",
        "hidden layer dropout",
        "put activation function and softmax here if not using CrossEntropyLoss",
        "find the appropriate device to run the code on",
        "parse the arguments",
        "load the mebeddings",
        "load the residue predictions"
    ],
    "docstrings": [],
    "functions": [
        "parse_pr_pred",
        "parse_all_preds",
        "get_identifier_from_path",
        "calc_new_score",
        "load_embeddings",
        "write_output",
        "combination_ensembl",
        "produce_new_score_for_prot",
        "combination_old",
        "combination_three_class",
        "forward"
    ],
    "classes": [
        "NeuralNet"
    ]
}