{
    "identifiers": [
        "CatalogType",
        "setNeglectXmlNamespaces",
        "setResultXml",
        "xexpect",
        "expect",
        "BookEntry",
        "titleInTheBaseUrl",
        "BookEntry",
        "book",
        "CatalogType",
        "setResultXml",
        "xml",
        "describe",
        "beforeEach",
        "setNeglectXmlNamespaces",
        "book",
        "kTestBookId",
        "kTestBookBaseUrl",
        "it",
        "book",
        "expect",
        "BookEntry",
        "book",
        "CatalogType",
        "it",
        "book",
        "expect",
        "BookEntry",
        "book",
        "CatalogType",
        "it",
        "testArtifactLink",
        "kTestBookId",
        "titleInTheBaseUrl",
        "it",
        "testArtifactLink",
        "kTestBookId",
        "titleInTheBaseUrl",
        "it",
        "testArtifactLink",
        "kTestBookId",
        "titleInTheBaseUrl",
        "it",
        "testArtifactLink",
        "kTestBookId",
        "it",
        "expect",
        "expect",
        "kTestBookId",
        "artifactName",
        "linkTitle",
        "url",
        "shouldHaveLinkIfEverythingIsUndefined",
        "book",
        "artifactName",
        "book",
        "artifactName",
        "book",
        "artifactName",
        "computeEntry",
        "linkTitle",
        "expect",
        "xpath",
        "expect",
        "xpath",
        "url",
        "book",
        "artifactName",
        "computeEntry",
        "expect",
        "xpath",
        "book",
        "artifactName",
        "book",
        "artifactName",
        "book",
        "artifactName",
        "computeEntry",
        "expect",
        "xpath",
        "book",
        "artifactName",
        "book",
        "artifactName",
        "book",
        "artifactName",
        "computeEntry",
        "expect",
        "xpath",
        "shouldHaveLinkIfEverythingIsUndefined",
        "book",
        "artifactName",
        "computeEntry",
        "expect",
        "xpath",
        "shouldHaveLinkIfEverythingIsUndefined",
        "book",
        "computeEntry",
        "expect",
        "xpath",
        "shouldHaveLinkIfEverythingIsUndefined"
    ],
    "literals": [
        "\"./catalog\"",
        "\"../common/xmlUnitTestUtils\"",
        "\"./bookentry\"",
        "\"abcdef\"",
        "\"titleFromTheBaseUrl\"",
        "https://s3.amazonaws.com/BloomLibraryBooks/uploader/${titleInTheBaseUrl}",
        "\"BookEntry\"",
        "\"topic:Story Book\"",
        "\"computedLevel:3\"",
        "\"i6YEieQEDU\"",
        "\"fil\"",
        "\"Filipino\"",
        "\"fil\"",
        "\"2017-11-18T07:33:48.862Z\"",
        "\"2021-11-18T13:39:16.418Z\"",
        "\"Object\"",
        "\"language\"",
        "\"vTo23jVYzz\"",
        "\"en\"",
        "\"English\"",
        "\"eng\"",
        "\"2014-06-05T21:39:29.436Z\"",
        "\"2021-11-18T13:39:15.293Z\"",
        "\"English\"",
        "\"Object\"",
        "\"language\"",
        "\"ktQwLG70lg\"",
        "\"fr\"",
        "\"français\"",
        "\"fra\"",
        "\"2014-06-30T20:35:42.321Z\"",
        "\"2021-11-18T13:39:15.652Z\"",
        "\"French\"",
        "\"Object\"",
        "\"language\"",
        "\"ot9wdFBdII\"",
        "\"bo\"",
        "\"Tibetan\"",
        "\"2016-09-27T18:37:06.126Z\"",
        "\"2021-11-18T13:39:16.105Z\"",
        "\"bod\"",
        "\"Object\"",
        "\"language\"",
        "\"e62e76e7-da4d-4e6c-9c67-473f13272133\"",
        "\"my main title\"",
        "'{\"bo\":\"ཟླ་དཀར་དང་ཞྭ་མོ།།\",\"en\":\"The Moon and the Cap\",\"fil\":\"Ang Buwan at ang Sombrero\",\"fr\":\"La lune et la casquette\"}'",
        "\"\"",
        "\"cc-by\"",
        "\"Copyright © 2018, Joselito B. Ucag\"",
        "'Originally published by Pratham Books,  a not-for-profit organization that publishes quality books for children in multiple Indian languages. Their mission is to \"see a book in every child\\'s hand\" and democratize the joy of reading.\\r\\nwww.prathambooks.org'",
        "\"0YpcRpEw66\"",
        "\"\"",
        "\"joeucag@yahoo.com\"",
        "\"2018-11-01T14:32:41.139Z\"",
        "\"2018-11-18T04:43:50.011Z\"",
        "\"*\"",
        "\"0YpcRpEw66\"",
        "\"Object\"",
        "\"_User\"",
        "\"2018-11-14T09:41:02.365Z\"",
        "\"2020-11-19T15:36:27.921Z\"",
        "\"Date\"",
        "\"2020-11-19T15:36:07.716Z\"",
        "\"Done\"",
        "\"Pratham Books\"",
        "\"should be sensitive to DRAFT setting\"",
        "\"\"",
        "\"should be sensitive to inCirculation setting\"",
        "\"\"",
        "\"should give PDF link if allowed\"",
        "\"pdf\"",
        "\"PDF\"",
        "https://api.bloomlibrary.org/v1/fs/upload/${kTestBookId}/${titleInTheBaseUrl}.pdf",
        "\"should give bloomPUB link if allowed\"",
        "\"bloomReader\"",
        "\"BloomPub\"",
        "https://api.bloomlibrary.org/v1/fs/harvest/${kTestBookId}/${titleInTheBaseUrl}.bloomd",
        "\"should give epub link if allowed\"",
        "\"epub\"",
        "\"ePUB\"",
        "https://api.bloomlibrary.org/v1/fs/harvest/${kTestBookId}/epub/${titleInTheBaseUrl}.epub",
        "\"should omit read online link if someone disabled that\"",
        "\"readOnline\"",
        "\"Read On Bloom Library\"",
        "https://bloomlibrary.org/player/${kTestBookId}",
        "\"should always show link to Bloom Library Page\"",
        "\"entry/link[@title='Bloom Library Page']\"",
        "\"entry/link[@title='Bloom Library Page']\"",
        "\"href\"",
        "https://bloomlibrary.org/book/${kTestBookId}",
        "string",
        "string",
        "string",
        "entry/link[@title='${linkTitle}']",
        "\"href\"",
        "${url}"
    ],
    "variables": [
        "book",
        "kTestBookId",
        "titleInTheBaseUrl",
        "kTestBookBaseUrl",
        "xml",
        "xpath"
    ],
    "comments": [
        "It appears we extract the title from the baseUrl and then use that in totally different urls (bloomd)",
        "console.log(xml);",
        "we reset the values in our test book in `beforeEach()` so that a test can modify it before constructing the OPDS Entry",
        "only for pdf",
        "if the user turns it off, don't offer it",
        "if the harvester turns it off and user & librarian opinions are unknown, don't show it",
        "enhance: we could test other combinations. The `bookEntry.shouldWePublishArtifact()` code that implements",
        "this logic is pretty simple, however, so I'm not highly motivated to test each combination."
    ],
    "docstrings": [],
    "functions": [
        "computeEntry",
        "testArtifactLink"
    ],
    "classes": []
}