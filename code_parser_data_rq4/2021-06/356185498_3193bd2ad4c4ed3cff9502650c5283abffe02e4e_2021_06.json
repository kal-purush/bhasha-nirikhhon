{
    "identifiers": [
        "org",
        "jetlinks",
        "community",
        "device",
        "message",
        "com",
        "github",
        "benmanes",
        "caffeine",
        "cache",
        "Caffeine",
        "lombok",
        "AllArgsConstructor",
        "lombok",
        "Getter",
        "org",
        "hswebframework",
        "ezorm",
        "rdb",
        "mapping",
        "ReactiveRepository",
        "org",
        "hswebframework",
        "web",
        "api",
        "crud",
        "entity",
        "QueryParamEntity",
        "org",
        "jetlinks",
        "community",
        "device",
        "entity",
        "DeviceProperty",
        "org",
        "jetlinks",
        "community",
        "device",
        "entity",
        "DeviceTagEntity",
        "org",
        "jetlinks",
        "community",
        "device",
        "service",
        "data",
        "DeviceDataService",
        "org",
        "jetlinks",
        "community",
        "gateway",
        "DeviceMessageUtils",
        "org",
        "jetlinks",
        "community",
        "gateway",
        "annotation",
        "Subscribe",
        "org",
        "jetlinks",
        "core",
        "device",
        "DeviceConfigKey",
        "org",
        "jetlinks",
        "core",
        "device",
        "DeviceOperator",
        "org",
        "jetlinks",
        "core",
        "device",
        "DeviceRegistry",
        "org",
        "jetlinks",
        "core",
        "EventBus",
        "org",
        "jetlinks",
        "core",
        "Subscription",
        "org",
        "jetlinks",
        "core",
        "message",
        "DeviceDataManager",
        "org",
        "jetlinks",
        "core",
        "message",
        "DeviceMessage",
        "org",
        "jetlinks",
        "core",
        "metadata",
        "Converter",
        "org",
        "jetlinks",
        "core",
        "metadata",
        "PropertyMetadata",
        "org",
        "springframework",
        "stereotype",
        "Component",
        "org",
        "springframework",
        "util",
        "Assert",
        "reactor",
        "core",
        "Disposable",
        "reactor",
        "core",
        "publisher",
        "Flux",
        "reactor",
        "core",
        "publisher",
        "Mono",
        "javax",
        "annotation",
        "Nonnull",
        "java",
        "time",
        "Duration",
        "java",
        "util",
        "Collections",
        "java",
        "util",
        "java",
        "util",
        "Component",
        "AllArgsConstructor",
        "registry",
        "dataService",
        "eventBus",
        "tagRepository",
        "localCache",
        "newCache",
        "Caffeine",
        "newBuilder",
        "expireAfterAccess",
        "Duration",
        "ofMinutes",
        "removalListener",
        "key",
        "value",
        "removalCause",
        "value",
        "value",
        "dispose",
        "build",
        "asMap",
        "Override",
        "Nonnull",
        "deviceId",
        "Nonnull",
        "propertyId",
        "localCache",
        "computeIfAbsent",
        "deviceId",
        "id",
        "id",
        "eventBus",
        "dataService",
        "getLastProperty",
        "propertyId",
        "currentTimeMillis",
        "Override",
        "Nonnull",
        "deviceId",
        "Nonnull",
        "propertyId",
        "baseTime",
        "localCache",
        "computeIfAbsent",
        "deviceId",
        "id",
        "id",
        "eventBus",
        "dataService",
        "getLastProperty",
        "propertyId",
        "baseTime",
        "Override",
        "Nonnull",
        "deviceId",
        "baseTime",
        "localCache",
        "computeIfAbsent",
        "deviceId",
        "id",
        "id",
        "eventBus",
        "dataService",
        "getRecentPropertyTime",
        "baseTime",
        "Override",
        "Nonnull",
        "deviceId",
        "registry",
        "getDevice",
        "deviceId",
        "flatMap",
        "device",
        "device",
        "getSelfConfig",
        "DeviceConfigKey",
        "firstPropertyTime",
        "Override",
        "Nonnull",
        "deviceId",
        "Nonnull",
        "propertyId",
        "localCache",
        "computeIfAbsent",
        "deviceId",
        "id",
        "id",
        "eventBus",
        "dataService",
        "getFirstProperty",
        "propertyId",
        "Override",
        "Nonnull",
        "deviceId",
        "tagIdList",
        "Assert",
        "hasText",
        "deviceId",
        "registry",
        "getDevice",
        "deviceId",
        "flatMap",
        "DeviceOperator",
        "getMetadata",
        "flatMapMany",
        "metadata",
        "tagRepository",
        "createQuery",
        "where",
        "DeviceTagEntity",
        "getDeviceId",
        "deviceId",
        "when",
        "tagIdList",
        "tagIdList",
        "length",
        "q",
        "q",
        "DeviceTagEntity",
        "getKey",
        "tagIdList",
        "fetch",
        "tag",
        "DefaultTagValue",
        "of",
        "tag",
        "getKey",
        "tag",
        "getValue",
        "metadata",
        "getTagOrNull",
        "tag",
        "getKey",
        "Getter",
        "tagId",
        "value",
        "id",
        "value",
        "metadata",
        "tagValue",
        "tagValue",
        "tagId",
        "id",
        "metadata",
        "metadata",
        "getValueType",
        "tagValue",
        "value",
        "metadata",
        "getValueType",
        "convert",
        "value",
        "tagValue",
        "value",
        "value",
        "tagValue",
        "Subscribe",
        "topics",
        "features",
        "Subscription",
        "Feature",
        "local",
        "message",
        "registry",
        "getDevice",
        "message",
        "getDeviceId",
        "flatMap",
        "device",
        "device",
        "getSelfConfig",
        "DeviceConfigKey",
        "firstPropertyTime",
        "switchIfEmpty",
        "device",
        "setConfig",
        "DeviceConfigKey",
        "firstPropertyTime",
        "message",
        "getTimestamp",
        "thenReturn",
        "message",
        "getTimestamp",
        "then",
        "Getter",
        "value",
        "Getter",
        "timestamp",
        "Getter",
        "state",
        "pre",
        "first",
        "value",
        "ts",
        "state",
        "value",
        "value",
        "NULL",
        "ts",
        "timestamp",
        "pre",
        "pre",
        "pre",
        "value",
        "value",
        "pre",
        "timestamp",
        "timestamp",
        "pre",
        "state",
        "state",
        "value",
        "value",
        "timestamp",
        "ts",
        "state",
        "state",
        "value",
        "value",
        "NULL",
        "value",
        "ts",
        "first",
        "first",
        "first",
        "value",
        "first",
        "value",
        "NULL",
        "ts",
        "first",
        "timestamp",
        "first",
        "value",
        "value",
        "first",
        "timestamp",
        "ts",
        "first",
        "first",
        "first",
        "first",
        "value",
        "NULL",
        "first",
        "state",
        "first",
        "state",
        "state",
        "timestamp",
        "timestamp",
        "value",
        "value",
        "disposable",
        "refs",
        "newCache",
        "deviceId",
        "dataService",
        "lastPropertyTime",
        "propertyTime",
        "deviceId",
        "eventBus",
        "dataService",
        "dataService",
        "dataService",
        "deviceId",
        "deviceId",
        "subscription",
        "Subscription",
        "builder",
        "subscriberId",
        "deviceId",
        "topics",
        "deviceId",
        "deviceId",
        "broker",
        "local",
        "build",
        "disposable",
        "eventBus",
        "subscribe",
        "subscription",
        "subscribe",
        "upgrade",
        "message",
        "properties",
        "DeviceMessageUtils",
        "tryGetProperties",
        "message",
        "orElseGet",
        "Collections",
        "emptyMap",
        "propertyTime",
        "DeviceMessageUtils",
        "tryGetPropertySourceTimes",
        "message",
        "orElseGet",
        "Collections",
        "emptyMap",
        "propertyState",
        "DeviceMessageUtils",
        "tryGetPropertyStates",
        "message",
        "orElse",
        "Collections",
        "emptyMap",
        "entry",
        "properties",
        "entrySet",
        "refs",
        "get",
        "entry",
        "getKey",
        "setValue",
        "entry",
        "getValue",
        "propertyTime",
        "getOrDefault",
        "entry",
        "getKey",
        "message",
        "getTimestamp",
        "propertyState",
        "getOrDefault",
        "entry",
        "getKey",
        "state",
        "updatePropertyTime",
        "message",
        "getTimestamp",
        "timestamp",
        "propertyTime",
        "timestamp",
        "lastPropertyTime",
        "propertyTime",
        "propertyTime",
        "timestamp",
        "propertyTime",
        "property",
        "refs",
        "computeIfAbsent",
        "property",
        "ignore",
        "first",
        "first",
        "getValue",
        "first",
        "getValue",
        "NULL",
        "Mono",
        "empty",
        "Mono",
        "just",
        "first",
        "dataService",
        "queryProperty",
        "deviceId",
        "QueryParamEntity",
        "newQuery",
        "orderByAsc",
        "getParam",
        "take",
        "singleOrEmpty",
        "prop",
        "setFirst",
        "prop",
        "getValue",
        "prop",
        "getTimestamp",
        "switchIfEmpty",
        "Mono",
        "fromRunnable",
        "setFirstNull",
        "baseTime",
        "propertyTime",
        "Mono",
        "empty",
        "propertyTime",
        "propertyTime",
        "baseTime",
        "Mono",
        "just",
        "propertyTime",
        "lastPropertyTime",
        "lastPropertyTime",
        "baseTime",
        "Mono",
        "just",
        "lastPropertyTime",
        "QueryParamEntity",
        "newQuery",
        "orderByDesc",
        "when",
        "propertyTime",
        "q",
        "q",
        "lt",
        "baseTime",
        "doPaging",
        "execute",
        "param",
        "dataService",
        "queryProperty",
        "deviceId",
        "param",
        "take",
        "singleOrEmpty",
        "val",
        "propertyTime",
        "updatePropertyTime",
        "val",
        "getTimestamp",
        "val",
        "getTimestamp",
        "switchIfEmpty",
        "Mono",
        "fromRunnable",
        "propertyTime",
        "propertyTime",
        "key",
        "baseTime",
        "refs",
        "computeIfAbsent",
        "key",
        "ignore",
        "val",
        "getValue",
        "val",
        "NULL",
        "Mono",
        "empty",
        "resultHandler",
        "val",
        "timestamp",
        "baseTime",
        "Mono",
        "just",
        "copy",
        "pre",
        "pre",
        "timestamp",
        "baseTime",
        "pre",
        "value",
        "NULL",
        "Mono",
        "just",
        "pre",
        "copy",
        "resultHandler",
        "prop",
        "prop",
        "deviceProperty",
        "setValue",
        "deviceProperty",
        "getValue",
        "deviceProperty",
        "getTimestamp",
        "deviceProperty",
        "getState",
        "resultHandler",
        "prop",
        "prop",
        "deviceProperty",
        "setValue",
        "deviceProperty",
        "getValue",
        "deviceProperty",
        "getTimestamp",
        "deviceProperty",
        "getState",
        "switchIfEmpty",
        "Mono",
        "fromRunnable",
        "setNull",
        "QueryParamEntity",
        "newQuery",
        "orderByDesc",
        "doPaging",
        "where",
        "lt",
        "baseTime",
        "execute",
        "param",
        "dataService",
        "queryProperty",
        "deviceId",
        "param",
        "key",
        "take",
        "singleOrEmpty",
        "resultHandler",
        "Override",
        "disposable",
        "dispose",
        "NULL"
    ],
    "literals": [
        "\"deviceId must not be empty\"",
        "\"/device/*/*/message/property/report\"",
        "\"/device/*/*/message/property/read,write/reply\"",
        "\"device_recent_property:\"",
        "\"/device/*/\"",
        "\"/message/property/report\"",
        "\"/device/*/\"",
        "\"/message/property/read,write/reply\"",
        "\"timestamp\"",
        "\"timestamp\"",
        "\"timestamp\"",
        "\"timestamp\"",
        "\"timestamp\""
    ],
    "variables": [
        "registry",
        "dataService",
        "eventBus",
        "tagRepository",
        "tagIdList",
        "tagId",
        "value",
        "value",
        "timestamp",
        "state",
        "pre",
        "first",
        "disposable",
        "deviceId",
        "dataService",
        "lastPropertyTime",
        "propertyTime",
        "resultHandler"
    ],
    "comments": [
        "10分钟没有访问则过期",
        "更新首次上报属性的时间",
        "没有首次上报时间就更新,设备注销后,首次上报属性时间也将失效.",
        "上一个",
        "第一个",
        "只处理比较新的数据",
        "订阅消息总线的数据来实时更新",
        "只更新有人读取过的属性,节省内存",
        "直接查询设备数据,可能会有延迟?",
        "查询最新属性",
        "本地缓存",
        "获取当前数据之前的数据",
        "当前没有任何数据,则进行查询"
    ],
    "docstrings": [
        "* 设备最近数据管理器，用于获取设备最近的属性数据等.\n *\n * @author zhouhao\n * @since 1.9"
    ],
    "functions": [
        "newCache",
        "getLastProperty",
        "getLastProperty",
        "getLastPropertyTime",
        "getFirstPropertyTime",
        "getFistProperty",
        "getTags",
        "DefaultTagValue",
        "of",
        "upgradeDeviceFirstPropertyTime",
        "PropertyRef",
        "setValue",
        "setNull",
        "PropertyRef",
        "setFirst",
        "PropertyRef",
        "setFirstNull",
        "PropertyRef",
        "copy",
        "DevicePropertyRef",
        "upgrade",
        "updatePropertyTime",
        "getFirstProperty",
        "getRecentPropertyTime",
        "getLastProperty",
        "dispose"
    ],
    "classes": [
        "DefaultDeviceDataManager",
        "DefaultTagValue",
        "PropertyRef",
        "DevicePropertyRef"
    ]
}