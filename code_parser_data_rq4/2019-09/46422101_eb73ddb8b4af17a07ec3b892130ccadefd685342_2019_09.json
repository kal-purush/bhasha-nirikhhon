{
    "identifiers": [
        "uuid",
        "pytest",
        "freezegun",
        "freeze_time",
        "app",
        "dao",
        "notifications_dao",
        "get_notification_by_id",
        "app",
        "models",
        "EMAIL_TYPE",
        "LETTER_TYPE",
        "UPLOAD_LETTERS",
        "app",
        "service",
        "send_notification",
        "send_pdf_letter_notification",
        "app",
        "v2",
        "errors",
        "BadRequestError",
        "TooManyRequestsError",
        "notifications_utils",
        "s3",
        "S3ObjectNotFound",
        "tests",
        "app",
        "db",
        "create_service",
        "pytest",
        "mark",
        "parametrize",
        "EMAIL_TYPE",
        "LETTER_TYPE",
        "UPLOAD_LETTERS",
        "notify_db_session",
        "fake_uuid",
        "permissions",
        "create_service",
        "service_permissions",
        "permissions",
        "fake_uuid",
        "fake_uuid",
        "pytest",
        "raises",
        "BadRequestError",
        "send_pdf_letter_notification",
        "service",
        "id",
        "post_data",
        "mocker",
        "sample_service_full_permissions",
        "fake_uuid",
        "mocker",
        "patch",
        "side_effect",
        "TooManyRequestsError",
        "fake_uuid",
        "fake_uuid",
        "pytest",
        "raises",
        "TooManyRequestsError",
        "send_pdf_letter_notification",
        "sample_service_full_permissions",
        "id",
        "post_data",
        "sample_service_full_permissions",
        "fake_uuid",
        "sample_user",
        "sample_user",
        "id",
        "fake_uuid",
        "pytest",
        "raises",
        "BadRequestError",
        "send_pdf_letter_notification",
        "sample_service_full_permissions",
        "id",
        "post_data",
        "mocker",
        "sample_service_full_permissions",
        "fake_uuid",
        "notify_user",
        "sample_service_full_permissions",
        "users",
        "user",
        "id",
        "fake_uuid",
        "mocker",
        "patch",
        "side_effect",
        "S3ObjectNotFound",
        "pytest",
        "raises",
        "S3ObjectNotFound",
        "send_pdf_letter_notification",
        "sample_service_full_permissions",
        "id",
        "post_data",
        "freeze_time",
        "mocker",
        "sample_service_full_permissions",
        "notify_user",
        "sample_service_full_permissions",
        "users",
        "uuid",
        "uuid4",
        "filename",
        "user",
        "id",
        "file_id",
        "mocker",
        "patch",
        "mocker",
        "patch",
        "return_value",
        "mocker",
        "patch",
        "send_pdf_letter_notification",
        "sample_service_full_permissions",
        "id",
        "post_data",
        "get_notification_by_id",
        "file_id",
        "notification",
        "id",
        "file_id",
        "notification",
        "api_key_id",
        "notification",
        "client_reference",
        "filename",
        "notification",
        "created_by_id",
        "user",
        "id",
        "notification",
        "postage",
        "notification",
        "notification_type",
        "LETTER_TYPE",
        "notification",
        "billable_units",
        "notification",
        "to",
        "filename",
        "notification",
        "service_id",
        "sample_service_full_permissions",
        "id",
        "result",
        "notification",
        "id",
        "s3_mock",
        "assert_called_once_with",
        "format",
        "sample_service_full_permissions",
        "id",
        "file_id",
        "format",
        "notification",
        "reference"
    ],
    "literals": [
        "'permissions'",
        "'filename'",
        "'valid.pdf'",
        "'created_by'",
        "'file_id'",
        "'app.service.send_notification.check_service_over_daily_message_limit'",
        "'filename'",
        "'valid.pdf'",
        "'created_by'",
        "'file_id'",
        "'filename'",
        "'valid.pdf'",
        "'created_by'",
        "'file_id'",
        "'filename'",
        "'valid.pdf'",
        "'created_by'",
        "'file_id'",
        "'app.service.send_notification.utils_s3download'",
        "''",
        "\"2019-08-02 11:00:00\"",
        "'valid.pdf'",
        "'filename'",
        "'created_by'",
        "'file_id'",
        "'app.service.send_notification.utils_s3download'",
        "'app.service.send_notification.get_page_count'",
        "'app.service.send_notification.move_uploaded_pdf_to_letters_bucket'",
        "'second'",
        "'id'",
        "'service-{}/{}.pdf'",
        "'2019-08-02/NOTIFY.{}.D.2.C.C.20190802110000.PDF'"
    ],
    "variables": [
        "service",
        "post_data",
        "post_data",
        "post_data",
        "user",
        "post_data",
        "user",
        "filename",
        "file_id",
        "post_data",
        "s3_mock",
        "result",
        "notification"
    ],
    "comments": [],
    "docstrings": [],
    "functions": [
        "test_send_pdf_letter_notification_raises_error_if_service_does_not_have_permission",
        "test_send_pdf_letter_notification_raises_error_if_service_is_over_daily_message_limit",
        "test_send_pdf_letter_notification_validates_created_by",
        "test_send_pdf_letter_notification_raises_error_when_pdf_is_not_in_transient_letter_bucket",
        "test_send_pdf_letter_notification_creates_notification_and_moves_letter"
    ],
    "classes": []
}