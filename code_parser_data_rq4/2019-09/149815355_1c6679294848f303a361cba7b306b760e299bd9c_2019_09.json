{
    "identifiers": [
        "math",
        "fairseq",
        "utils",
        "label_smoothed_cross_entropy",
        "LabelSmoothedCrossEntropyCriterion",
        "register_criterion",
        "register_criterion",
        "LabelSmoothedCrossEntropyCriterion",
        "args",
        "task",
        "args",
        "task",
        "args",
        "alignment_lambda",
        "staticmethod",
        "parser",
        "LabelSmoothedCrossEntropyCriterionWithAlignment",
        "LabelSmoothedCrossEntropyCriterionWithAlignment",
        "add_args",
        "parser",
        "parser",
        "add_argument",
        "metavar",
        "help",
        "model",
        "sample",
        "reduce",
        "model",
        "sample",
        "compute_loss",
        "model",
        "net_output",
        "sample",
        "reduce",
        "reduce",
        "sample",
        "size",
        "args",
        "sentence_avg",
        "sample",
        "utils",
        "item",
        "loss",
        "data",
        "reduce",
        "loss",
        "data",
        "utils",
        "item",
        "nll_loss",
        "data",
        "reduce",
        "nll_loss",
        "data",
        "sample",
        "sample",
        "size",
        "sample_size",
        "sample",
        "sample",
        "compute_alignment_loss",
        "sample",
        "net_output",
        "alignment_loss",
        "utils",
        "item",
        "alignment_loss",
        "data",
        "loss",
        "alignment_lambda",
        "alignment_loss",
        "loss",
        "sample_size",
        "logging_output",
        "sample",
        "net_output",
        "net_output",
        "attn_prob",
        "shape",
        "attn_prob",
        "view",
        "bsz",
        "tgt_sz",
        "src_sz",
        "sample",
        "sample",
        "len",
        "align",
        "attn",
        "align",
        "align",
        "log",
        "align_weights",
        "sum",
        "loss",
        "staticmethod",
        "logging_outputs",
        "sum",
        "log",
        "get",
        "log",
        "logging_outputs",
        "sum",
        "log",
        "get",
        "log",
        "logging_outputs",
        "sum",
        "log",
        "get",
        "log",
        "logging_outputs",
        "sum",
        "log",
        "get",
        "log",
        "logging_outputs",
        "sample_size",
        "math",
        "log",
        "sample_size",
        "sum",
        "log",
        "get",
        "log",
        "logging_outputs",
        "ntokens",
        "math",
        "log",
        "ntokens",
        "sum",
        "log",
        "get",
        "log",
        "logging_outputs",
        "sample_size",
        "math",
        "log",
        "sample_size",
        "ntokens",
        "nsentences",
        "sample_size"
    ],
    "literals": [
        "'label_smoothed_cross_entropy_with_alignment'",
        "'--alignment-lambda'",
        "'D'",
        "'weight for the alignment loss'",
        "'net_input'",
        "'target'",
        "'ntokens'",
        "'loss'",
        "'nll_loss'",
        "'ntokens'",
        "'ntokens'",
        "'nsentences'",
        "'target'",
        "'sample_size'",
        "'alignments'",
        "'alignments'",
        "'alignment_loss'",
        "'attn'",
        "'alignments'",
        "'align_weights'",
        "'ntokens'",
        "'nsentences'",
        "'sample_size'",
        "'loss'",
        "'loss'",
        "'nll_loss'",
        "'nll_loss'",
        "'alignment_loss'",
        "'alignment_loss'",
        "'ntokens'",
        "'nsentences'",
        "'sample_size'"
    ],
    "variables": [
        "alignment_lambda",
        "net_output",
        "loss",
        "nll_loss",
        "sample_size",
        "logging_output",
        "alignment_loss",
        "alignment_loss",
        "logging_output",
        "attn_prob",
        "bsz",
        "tgt_sz",
        "src_sz",
        "attn",
        "align",
        "align_weights",
        "loss",
        "ntokens",
        "nsentences",
        "sample_size"
    ],
    "comments": [
        "Copyright (c) Facebook, Inc. and its affiliates.",
        "",
        "This source code is licensed under the MIT license found in the",
        "LICENSE file in the root directory of this source tree.",
        "Compute alignment loss only for training set and non dummy batches.",
        "Alignment loss computation. align (shape [:, 2]) contains the src-tgt index pairs corresponding to",
        "the alignments. align_weights (shape [:]) contains the 1 / frequency of a tgt index for normalizing."
    ],
    "docstrings": [
        "\"\"\"Add criterion-specific arguments to the parser.\"\"\"",
        "\"\"\"Compute the loss for the given sample.\n\n        Returns a tuple with three elements:\n        1) the loss\n        2) the sample size, which is used as the denominator for the gradient\n        3) logging outputs to display while training\n        \"\"\"",
        "\"\"\"Aggregate logging outputs from data parallel training.\"\"\""
    ],
    "functions": [
        "add_args",
        "forward",
        "compute_alignment_loss",
        "aggregate_logging_outputs"
    ],
    "classes": [
        "LabelSmoothedCrossEntropyCriterionWithAlignment"
    ]
}