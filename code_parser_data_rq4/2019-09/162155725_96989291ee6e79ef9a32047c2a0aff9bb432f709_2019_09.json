{
    "identifiers": [
        "pathlib",
        "PurePath",
        "subprocess",
        "textwrap",
        "dedent",
        "packaging",
        "version",
        "west",
        "log",
        "west",
        "commands",
        "WestCommand",
        "west",
        "manifest",
        "Manifest",
        "MalformedManifest",
        "west",
        "version",
        "__version__",
        "west_ver",
        "yaml",
        "ncs_west_helpers",
        "nwh",
        "WestCommand",
        "packaging",
        "version",
        "parse",
        "west_ver",
        "packaging",
        "version",
        "parse",
        "min_ver",
        "log",
        "die",
        "format",
        "west_ver",
        "min_ver",
        "parser",
        "parser",
        "add_argument",
        "help",
        "parser",
        "parser",
        "add_argument",
        "metavar",
        "nargs",
        "help",
        "args",
        "hasattr",
        "args",
        "validate_zephyr_rev",
        "args",
        "zephyr_manifest",
        "p",
        "name",
        "p",
        "p",
        "z_manifest",
        "projects",
        "hasattr",
        "args",
        "manifest",
        "get_projects",
        "args",
        "projects",
        "only_cloned",
        "ValueError",
        "ve",
        "ve",
        "args",
        "log",
        "die",
        "join",
        "uncloned",
        "log",
        "die",
        "format",
        "join",
        "u",
        "name",
        "u",
        "uncloned",
        "manifest",
        "projects",
        "p",
        "name",
        "p",
        "p",
        "projects",
        "manifest",
        "get_projects",
        "allow_paths",
        "only_cloned",
        "z_project",
        "git",
        "format",
        "zephyr_rev",
        "capture_stdout",
        "check",
        "cp",
        "stdout",
        "decode",
        "Manifest",
        "from_data",
        "source_data",
        "yaml",
        "safe_load",
        "z_west_yml",
        "topdir",
        "topdir",
        "MalformedManifest",
        "log",
        "die",
        "format",
        "z_west_yml",
        "args",
        "args",
        "zephyr_rev",
        "args",
        "zephyr_rev",
        "manifest",
        "get_projects",
        "zephyr_project",
        "sha",
        "zephyr_rev",
        "subprocess",
        "CalledProcessError",
        "format",
        "zephyr_rev",
        "args",
        "zephyr_rev",
        "msg",
        "_UPSTREAM",
        "parser",
        "error",
        "msg",
        "zephyr_rev",
        "NcsWestCommand",
        "dedent",
        "parser_adder",
        "parser_adder",
        "add_parser",
        "name",
        "help",
        "help",
        "description",
        "description",
        "add_zephyr_rev_arg",
        "parser",
        "add_projects_arg",
        "parser",
        "parser",
        "args",
        "unknown_args",
        "check_west_version",
        "setup_upstream_downstream",
        "args",
        "name",
        "project",
        "ncs_pmap",
        "items",
        "name",
        "z_pmap",
        "name",
        "z_pmap",
        "name",
        "name",
        "z_pmap",
        "log",
        "dbg",
        "format",
        "name",
        "level",
        "log",
        "VERBOSE_VERY",
        "print_loot",
        "name",
        "project",
        "z_project",
        "name",
        "project",
        "z_project",
        "project",
        "format",
        "name",
        "zephyr_rev",
        "msg",
        "format",
        "z_rev",
        "z_project",
        "revision",
        "log",
        "banner",
        "msg",
        "project",
        "sha",
        "project",
        "revision",
        "project",
        "git",
        "nsha",
        "subprocess",
        "CalledProcessError",
        "log",
        "wrn",
        "format",
        "project",
        "name",
        "format",
        "project",
        "revision",
        "z_project",
        "sha",
        "z_project",
        "revision",
        "z_project",
        "git",
        "zsha",
        "subprocess",
        "CalledProcessError",
        "log",
        "wrn",
        "z_project",
        "url",
        "format",
        "z_project",
        "revision",
        "nwh",
        "RepoAnalyzer",
        "project",
        "z_project",
        "project",
        "revision",
        "z_rev",
        "nwh",
        "InvalidRepositoryError",
        "ire",
        "log",
        "die",
        "ire",
        "c",
        "analyzer",
        "downstream_outstanding",
        "log",
        "inf",
        "format",
        "c",
        "oid",
        "nwh",
        "commit_shortlog",
        "c",
        "nwh",
        "UnknownCommitsError",
        "uce",
        "log",
        "die",
        "uce",
        "NcsWestCommand",
        "dedent",
        "parser_adder",
        "parser_adder",
        "add_parser",
        "name",
        "help",
        "help",
        "description",
        "description",
        "add_zephyr_rev_arg",
        "parser",
        "parser",
        "args",
        "unknown_args",
        "check_west_version",
        "setup_upstream_downstream",
        "args",
        "log",
        "inf",
        "format",
        "zephyr_rev",
        "zephyr_sha",
        "zephyr_rev",
        "zephyr_sha",
        "log",
        "inf",
        "zn",
        "zp",
        "z_pmap",
        "items",
        "to_ncs_name",
        "zp",
        "nn",
        "ncs_pmap",
        "PurePath",
        "zp",
        "path",
        "_PROJECT_BLACKLIST",
        "present",
        "blacklisted",
        "present_blacklisted",
        "append",
        "zp",
        "present_allowed",
        "append",
        "zp",
        "blacklisted",
        "missing_blacklisted",
        "append",
        "zp",
        "missing_allowed",
        "append",
        "zp",
        "projects",
        "p",
        "projects",
        "log",
        "small_banner",
        "p",
        "format",
        "missing_blacklisted",
        "log",
        "VERBOSE",
        "log",
        "VERBOSE_NORMAL",
        "log",
        "banner",
        "print_lst",
        "missing_blacklisted",
        "present_blacklisted",
        "log",
        "banner",
        "log",
        "wrn",
        "print_lst",
        "present_blacklisted",
        "missing_allowed",
        "log",
        "banner",
        "log",
        "wrn",
        "p",
        "missing_allowed",
        "log",
        "small_banner",
        "p",
        "format",
        "log",
        "inf",
        "p",
        "format",
        "log",
        "inf",
        "p",
        "format",
        "present_allowed",
        "log",
        "banner",
        "zp",
        "present_allowed",
        "allowed_project",
        "zp",
        "zp",
        "to_ncs_name",
        "zp",
        "ncs_pmap",
        "nn",
        "np",
        "name",
        "manifest",
        "get_projects",
        "revision",
        "zephyr_sha",
        "np",
        "revision",
        "zp",
        "revision",
        "log",
        "small_banner",
        "zp",
        "format",
        "ncs_name",
        "nn",
        "np",
        "sha",
        "nrev",
        "np",
        "git",
        "nsha",
        "subprocess",
        "CalledProcessError",
        "log",
        "wrn",
        "format",
        "nn",
        "format",
        "np",
        "revision",
        "np",
        "sha",
        "zrev",
        "np",
        "git",
        "zsha",
        "subprocess",
        "CalledProcessError",
        "log",
        "wrn",
        "zp",
        "url",
        "format",
        "zp",
        "revision",
        "zrev",
        "zrev",
        "zsha",
        "upstream_rev",
        "format",
        "zsha",
        "nrev",
        "nrev",
        "nsha",
        "downstream_rev",
        "format",
        "nsha",
        "np",
        "git",
        "format",
        "zsha",
        "nsha",
        "capture_stdout",
        "c",
        "c",
        "cp",
        "stdout",
        "split",
        "zsha",
        "nsha",
        "ahead",
        "behind",
        "format",
        "ahead",
        "np",
        "is_ancestor_of",
        "nsha",
        "zsha",
        "format",
        "behind",
        "zsha",
        "format",
        "ahead",
        "behind",
        "status",
        "status",
        "log",
        "WRN_COLOR",
        "log",
        "INF_COLOR",
        "log",
        "msg",
        "status",
        "color",
        "color",
        "log",
        "inf",
        "upstream_rev",
        "log",
        "inf",
        "downstream_rev",
        "nwh",
        "RepoAnalyzer",
        "np",
        "zp",
        "nsha",
        "zsha",
        "analyzer",
        "likely_merged",
        "likely_merged",
        "log",
        "msg",
        "color",
        "log",
        "WRN_COLOR",
        "dc",
        "ucs",
        "likely_merged",
        "items",
        "log",
        "inf",
        "format",
        "dc",
        "oid",
        "nwh",
        "commit_shortlog",
        "dc",
        "uc",
        "ucs",
        "log",
        "inf",
        "format",
        "uc",
        "oid",
        "nwh",
        "commit_shortlog",
        "uc",
        "log",
        "inf",
        "zp",
        "zp",
        "name",
        "zp",
        "name",
        "PurePath",
        "p",
        "p"
    ],
    "literals": [
        "'0.6.99'",
        "'this command currently requires a pre-release west'",
        "'(your west version is {}, but must be at least {}).'",
        "'-z'",
        "'--zephyr-rev'",
        "'projects'",
        "'PROJECT'",
        "'*'",
        "'zephyr_rev'",
        "'projects'",
        "'unknown projects:'",
        "', '",
        "'uncloned downstream projects: {}.\\n'",
        "'Run \"west update\", then retry.'",
        "', '",
        "'zephyr'",
        "'show {}:west.yml'",
        "'utf-8'",
        "\"can't load zephyr manifest; file {} is malformed\"",
        "'upstream/master'",
        "'zephyr'",
        "'unknown ZEPHYR_REV: {}'",
        "'\\nPlease run this in the zephyr repository and retry '",
        "'(or use --zephyr-rev):'",
        "'\\n  git remote add -f upstream '",
        "'ncs-loot'",
        "'list out of tree (downstream only) NCS patches'",
        "'manifest'",
        "'zephyr'",
        "'manifest'",
        "'skipping downstream project {}'",
        "'{name_and_path} outstanding downstream patches:'",
        "'zephyr'",
        "' NOTE: {} *must* be up to date'",
        "'cat-file -e '",
        "\"can't get loot; please run \\\"west update {}\\\"\"",
        "'(need revision {})'",
        "'cat-file -e '",
        "\"can't get loot; please fetch upstream URL\"",
        "'(need revision {})'",
        "'- {} {}'",
        "'unknown commits:'",
        "'ncs-compare'",
        "'compare upstream manifest with NCS'",
        "'Comparing nrf/west.yml with zephyr/west.yml at revision {}{}'",
        "', sha: '",
        "''",
        "'{name_and_path}'",
        "'blacklisted but missing in NCS (these are all OK):'",
        "'blacklisted upstream projects that are in NCS:'",
        "'these names should be removed from nrf/west.yml'",
        "'non-blacklisted upstream projects missing in NCS:'",
        "'these should be blacklisted or added to nrf/west.yml'",
        "'{name_and_path}'",
        "'upstream revision: {revision}'",
        "'upstream URL: {url}'",
        "'projects present in NCS:'",
        "'zephyr'",
        "'zephyr'",
        "'{ncs_name} ({path}):'",
        "'cat-file -e '",
        "\"can't compare; please run \\\"west update {}\\\"\"",
        "'(need revision {})'",
        "'cat-file -e '",
        "\"can't compare; please fetch upstream URL\"",
        "'(need revision {})'",
        "'upstream revision: '",
        "' ({})'",
        "'NCS revision: '",
        "' ({})'",
        "'rev-list --left-right --count {}...{}'",
        "'up to date'",
        "'ahead by {} commits'",
        "'behind by {} commits, can be fast-forwarded to {}'",
        "'diverged from upstream: {} ahead, {} behind'",
        "'behind'",
        "'diverged'",
        "'downstream patches which are likely merged upstream'",
        "'(revert these if appropriate):'",
        "'- {} ({})\\n  Similar upstream commits:'",
        "'  {} ({})'",
        "'no downstream patches seem to have been merged upstream'",
        "'manifest'",
        "'zephyr'",
        "'https://github.com/zephyrproject-rtos/zephyr'",
        "'modules/hal/atmel'",
        "'modules/hal/esp-idf'",
        "'modules/hal/qmsi'",
        "'modules/hal/cypress'",
        "'modules/hal/openisa'",
        "'modules/hal/microchip'",
        "'modules/hal/silabs'",
        "'modules/hal/stm32'",
        "'modules/hal/ti'",
        "'modules/hal/nxp'"
    ],
    "variables": [
        "min_ver",
        "zephyr_rev",
        "z_manifest",
        "z_pmap",
        "projects",
        "uncloned",
        "projects",
        "ncs_pmap",
        "z_project",
        "cp",
        "z_west_yml",
        "zephyr_rev",
        "zephyr_rev",
        "zephyr_project",
        "zephyr_sha",
        "msg",
        "parser",
        "z_project",
        "z_project",
        "msg",
        "z_rev",
        "z_rev",
        "nsha",
        "zsha",
        "analyzer",
        "parser",
        "present_blacklisted",
        "present_allowed",
        "missing_blacklisted",
        "missing_allowed",
        "nn",
        "present",
        "blacklisted",
        "nn",
        "np",
        "nrev",
        "zrev",
        "nrev",
        "zrev",
        "nsha",
        "zsha",
        "upstream_rev",
        "downstream_rev",
        "cp",
        "behind",
        "ahead",
        "status",
        "status",
        "status",
        "status",
        "color",
        "color",
        "analyzer",
        "likely_merged",
        "_UPSTREAM",
        "_PROJECT_BLACKLIST"
    ],
    "comments": [
        "Copyright (c) 2019 Nordic Semiconductor ASA",
        "",
        "SPDX-License-Identifier: Apache-2.0",
        "some common code that will be useful to multiple commands",
        "set some instance state that will be useful for",
        "comparing upstream and downstream.",
        "",
        "below, \"pmap\" means \"project map\": a dict mapping project",
        "names to west.manifest.Project instances.",
        "z_manifest: upstream zephyr west.manifest.Manifest instance",
        "",
        "zephyr_rev: validated --zephyr-rev argument.",
        "(quits and print a message about what to do if things go wrong).",
        "we want to build an ncs_pmap too. if we have a projects arg,",
        "we'll use that. otherwise, we'll just use all the projects",
        "in the NCS west manifest.",
        "load the upstream manifest. the west.manifest APIs guarantee",
        "in this case that its project hierarchy is rooted in the NCS",
        "directory.",
        "Print a list of out of tree outstanding patches in the given",
        "project.",
        "",
        "name: project name",
        "project: the west.manifest.Project instance in the NCS manifest",
        "z_project: the Project instance in the upstream manifest",
        "Get the upstream revision of the project. The zephyr project",
        "has to be treated as a special case.",
        "Do some extra checking on unmerged commits.",
        "likely_merged is a map from downstream commits to",
        "lists of upstream commits that look similar.",
        "convert zp, a west.manifest.Project in the zephyr manifest,",
        "to the equivalent Project name in the NCS manifest.",
        "",
        "TODO: does the fact that this is needed mean the west commit",
        "which names the manifest project 'manifest' unconditionally",
        "was wrong to do so?",
        "Set of project paths blacklisted from inclusion in the NCS."
    ],
    "docstrings": [
        "'''The \"ncs-xyz\" extension commands.'''",
        "'''upstream git ref to use for zephyr project;\n                            default is upstream/master'''",
        "'''projects (by name or path) to operate on;\n                            defaults to all projects in the manifest which\n                            are shared with the upstream manifest'''",
        "'''\n            List commits which are not present in upstream repositories.\n\n            This command lists patches which are added for the NCS\n            in a downstream repository that have not been reverted.\n\n            Downstream revisions are loaded from nrf/west.yml.'''",
        "'''\n            Compares project status in upstream and NCS manifests.\n\n            Run this after doing a zephyr mergeup to double-check the\n            results. This command works using the current contents of\n            zephyr/west.yml, so the mergeup must be complete for output\n            to be valid.\n\n            Use --verbose to include information on blacklisted\n            upstream projects.'''"
    ],
    "functions": [
        "check_west_version",
        "add_zephyr_rev_arg",
        "add_projects_arg",
        "setup_upstream_downstream",
        "zephyr_manifest",
        "validate_zephyr_rev",
        "do_add_parser",
        "do_run",
        "print_loot",
        "do_add_parser",
        "do_run",
        "print_lst",
        "allowed_project",
        "to_ncs_name"
    ],
    "classes": [
        "NcsWestCommand",
        "NcsLoot",
        "NcsCompare"
    ]
}