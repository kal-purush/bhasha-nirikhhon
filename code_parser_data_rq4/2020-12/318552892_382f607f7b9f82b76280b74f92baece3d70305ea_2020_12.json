{
    "identifiers": [
        "com",
        "zhang",
        "libweb",
        "service",
        "reback",
        "impl",
        "com",
        "zhang",
        "libweb",
        "constants",
        "ResultDTO",
        "com",
        "zhang",
        "libweb",
        "enums",
        "HttpCode",
        "com",
        "zhang",
        "libweb",
        "enums",
        "ValidFlagEnum",
        "com",
        "zhang",
        "libweb",
        "mapper",
        "book",
        "BookMapper",
        "com",
        "zhang",
        "libweb",
        "mapper",
        "borrow",
        "BookBorrowMapper",
        "com",
        "zhang",
        "libweb",
        "model",
        "book",
        "BookDTO",
        "com",
        "zhang",
        "libweb",
        "model",
        "borrow",
        "BookBorrowDTO",
        "com",
        "zhang",
        "libweb",
        "service",
        "reback",
        "RebackService",
        "org",
        "apache",
        "commons",
        "lang",
        "StringUtils",
        "org",
        "springframework",
        "beans",
        "factory",
        "annotation",
        "Autowired",
        "org",
        "springframework",
        "stereotype",
        "Service",
        "java",
        "util",
        "Service",
        "Autowired",
        "bookMapper",
        "Autowired",
        "bookBorrowMapper",
        "Override",
        "bookBorrowDTO",
        "boodId",
        "bookBorrowDTO",
        "getBookId",
        "boodId",
        "HttpCode",
        "FAIL",
        "getCode",
        "bookBorrowDTO",
        "getId",
        "HttpCode",
        "FAIL",
        "getCode",
        "bookDTO",
        "bookMapper",
        "selectByPrimaryKey",
        "boodId",
        "bookDTO",
        "HttpCode",
        "FAIL",
        "getCode",
        "localBookBorrowDTO",
        "bookBorrowMapper",
        "selectByPrimaryKey",
        "bookBorrowDTO",
        "getId",
        "localBookBorrowDTO",
        "HttpCode",
        "SUCCESS",
        "getCode",
        "borrowCount",
        "localBookBorrowDTO",
        "getCount",
        "tmp1Count",
        "StringUtils",
        "isEmpty",
        "localBookBorrowDTO",
        "getTmp1",
        "tmp1Count",
        "parseInt",
        "localBookBorrowDTO",
        "getTmp1",
        "tmp1Count",
        "borrowCount",
        "HttpCode",
        "SUCCESS",
        "getCode",
        "rebackCount",
        "bookBorrowDTO",
        "getCount",
        "doBack",
        "rebackCount",
        "borrowCount",
        "localBookBorrowDTO",
        "bookDTO",
        "tmp1Count",
        "rebackCount",
        "borrowCount",
        "localBookBorrowDTO",
        "bookDTO",
        "tmp1Count",
        "nowTmpCount",
        "tmp1Count",
        "rebackCount",
        "HttpCode",
        "FAIL",
        "getCode",
        "rebackCount",
        "nowTmpCount",
        "borrowCount",
        "HttpCode",
        "FAIL",
        "getCode",
        "rebackCount",
        "nowTmpCount",
        "borrowCount",
        "localBookBorrowDTO",
        "setCount",
        "localBookBorrowDTO",
        "setTmp1",
        "valueOf",
        "rebackCount",
        "nowTmpCount",
        "localBookBorrowDTO",
        "setTmp2",
        "valueOf",
        "localBookBorrowDTO",
        "setValidFlagEnum",
        "valueOf",
        "ValidFlagEnum",
        "DISABLE",
        "bookBorrowMapper",
        "updateByPrimaryKeySelective",
        "localBookBorrowDTO",
        "bookDTO",
        "setBookCount",
        "bookDTO",
        "getBookCount",
        "rebackCount",
        "bookDTO",
        "setUpdateDate",
        "bookMapper",
        "updateByPrimaryKeySelective",
        "bookDTO",
        "HttpCode",
        "SUCCESS",
        "getCode",
        "localBookBorrowDTO",
        "setTmp1",
        "valueOf",
        "rebackCount",
        "nowTmpCount",
        "localBookBorrowDTO",
        "setTmp2",
        "valueOf",
        "bookDTO",
        "setBookCount",
        "bookDTO",
        "getBookCount",
        "rebackCount",
        "bookDTO",
        "setUpdateDate",
        "finalBackCount",
        "borrowCount",
        "rebackCount",
        "nowTmpCount",
        "finalBackCount",
        "HttpCode",
        "FAIL",
        "getCode",
        "finalBackCount",
        "localBookBorrowDTO",
        "setCount",
        "localBookBorrowDTO",
        "setValidFlagEnum",
        "valueOf",
        "ValidFlagEnum",
        "DISABLE",
        "bookBorrowMapper",
        "updateByPrimaryKeySelective",
        "localBookBorrowDTO",
        "bookMapper",
        "updateByPrimaryKeySelective",
        "bookDTO",
        "HttpCode",
        "FAIL",
        "getCode",
        "localBookBorrowDTO",
        "setCount",
        "finalBackCount",
        "bookBorrowMapper",
        "updateByPrimaryKeySelective",
        "localBookBorrowDTO",
        "bookMapper",
        "updateByPrimaryKeySelective",
        "bookDTO",
        "HttpCode",
        "SUCCESS",
        "getCode",
        "borrowCount",
        "rebackCount",
        "nowTmpCount",
        "localBookBorrowDTO",
        "getEndDate"
    ],
    "literals": [
        "\"书籍ID不能为空\"",
        "\"数据主键不能为空\"",
        "\"书籍信息不存在\"",
        "\"借书信息不存在，请确保信息合法或联系系统管理员\"",
        "\"您已经还完全部书籍，无需归还\"",
        "\"归还数量小于0，请确保归还数量正确\"",
        "\"归还数量大于待还数量，请确保归还数量正确\"",
        "\"归还成功，书籍已经全部归还\"",
        "\"归还数量大于借阅数量，请确保归还数量正确\"",
        "\"归还成功，书籍已经全部归还\"",
        "\"归还成功,还有\"",
        "\"本书尚未归还，请在\"",
        "\"之前归还剩余书籍\""
    ],
    "variables": [
        "bookMapper",
        "bookBorrowMapper"
    ],
    "comments": [
        "查找本地是否存在这个书籍",
        "本地借书信息查询",
        "2.1-本地借书得数量",
        "2.2-还书的数量",
        "3-还书判断",
        "借书还书一样，数据DISABLE,book表数量增加",
        "1.操作还书信息表",
        "本地上一次归还的数量",
        "if (!StringUtils.isEmpty(localBookBorrowDTO.getTmp1())) {",
        "nowTmpCount = Integer.parseInt(localBookBorrowDTO.getTmp1());",
        "}",
        "2.追加book信息表剩余数量",
        "1.还书数量小于借书数量，更新还书数量(temp1),同时更新book剩余数量",
        "int nowTmpCount = 0;",
        "if (!StringUtils.isEmpty(localBookBorrowDTO.getTmp1())) {",
        "nowTmpCount = Integer.parseInt(localBookBorrowDTO.getTmp1());",
        "}",
        "没还完不需要修改validFlag",
        "localBookBorrowDTO.setValidFlagEnum(String.valueOf(ValidFlagEnum.DISABLE));",
        "2.追加book信息表剩余数量"
    ],
    "docstrings": [
        "* 真正的还书操作\n     * @param rebackCount          还书数量\n     * @param borrowCount           借书数量\n     * @param localBookBorrowDTO    本地借书实体类\n     * @param bookDTO               本地书籍实体类\n     * @return"
    ],
    "functions": [
        "ResultDTO",
        "updateBorrowInfo",
        "ResultDTO",
        "doBack"
    ],
    "classes": [
        "RebackServiceImpl"
    ]
}