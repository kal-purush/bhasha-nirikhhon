{
    "identifiers": [
        "numpy",
        "np",
        "time",
        "math",
        "os",
        "tools",
        "SysCheck",
        "autoencoder",
        "Preprocess",
        "autoencoder",
        "BPAE",
        "tools",
        "LoadLocation",
        "loadLocation",
        "mf",
        "MFS",
        "MF_bl",
        "x",
        "np",
        "exp",
        "np",
        "array",
        "x",
        "np",
        "float64",
        "x",
        "x",
        "x",
        "u",
        "s",
        "R",
        "W",
        "S",
        "loc_tab",
        "u",
        "s",
        "item",
        "S",
        "a0",
        "W",
        "a0",
        "item",
        "R",
        "item",
        "a1",
        "NoneValue",
        "W",
        "a0",
        "item",
        "sum",
        "rw",
        "R",
        "item",
        "a1",
        "cot",
        "rw",
        "cot",
        "sum",
        "cot",
        "oriR",
        "oriR",
        "shape",
        "_",
        "b_s",
        "i",
        "b_s",
        "oriR",
        "i",
        "a",
        "NoneValue",
        "a",
        "NoneValue",
        "j",
        "i",
        "b_s",
        "oriR",
        "j",
        "b",
        "NoneValue",
        "a_not_none",
        "b",
        "NoneValue",
        "a_is_none",
        "np",
        "logical_not",
        "all_have",
        "none_have",
        "np",
        "count_nonzero",
        "all_have",
        "tmp",
        "np",
        "sqrt",
        "tmp",
        "f_s",
        "np",
        "sqrt",
        "np",
        "count_nonzero",
        "none_have",
        "f_s",
        "np",
        "count_nonzero",
        "any_have",
        "tmp",
        "np",
        "sqrt",
        "tmp",
        "f_s",
        "us_ana",
        "i",
        "append",
        "all_have",
        "none_have",
        "any_have",
        "all_p",
        "non_p",
        "any_p",
        "us_ana",
        "shape",
        "a",
        "b",
        "shape",
        "a",
        "NoneValue",
        "a",
        "NoneValue",
        "b",
        "NoneValue",
        "a_not_none",
        "b",
        "NoneValue",
        "a_is_none",
        "np",
        "logical_not",
        "all_have",
        "none_have",
        "np",
        "count_nonzero",
        "all_have",
        "tmp",
        "np",
        "sqrt",
        "tmp",
        "f_s",
        "np",
        "sqrt",
        "np",
        "count_nonzero",
        "none_have",
        "f_s",
        "np",
        "count_nonzero",
        "any_have",
        "tmp",
        "np",
        "sqrt",
        "tmp",
        "f_s",
        "all_have",
        "none_have",
        "any_have",
        "all_p",
        "non_p",
        "any_p",
        "SysCheck",
        "check",
        "base_path",
        "learn_rate",
        "spa",
        "spa",
        "spa",
        "spa",
        "base_path",
        "spa",
        "base_path",
        "spa",
        "base_path",
        "spa",
        "base_path",
        "spa",
        "base_path",
        "base_path",
        "spa",
        "base_path",
        "spa",
        "spa",
        "time",
        "time",
        "np",
        "loadtxt",
        "train_data",
        "dtype",
        "np",
        "alen",
        "trdata",
        "time",
        "time",
        "now",
        "n",
        "time",
        "time",
        "trdata",
        "trdata",
        "np",
        "array",
        "u",
        "np",
        "array",
        "s",
        "np",
        "full",
        "us_shape",
        "NoneValue",
        "trdata",
        "trdata",
        "u",
        "s",
        "time",
        "time",
        "tnow",
        "time",
        "time",
        "Preprocess",
        "removeNoneValue",
        "R",
        "R",
        "copy",
        "np",
        "sum",
        "R",
        "np",
        "count_nonzero",
        "R",
        "MF_bl",
        "R",
        "shape",
        "f",
        "mean",
        "mf_values_path",
        "mf",
        "preloadValues",
        "mf_values_path",
        "out_cmp_rat",
        "spa",
        "cmp_rat",
        "Preprocess",
        "preprocessMF_rat",
        "R",
        "mf",
        "isUAE",
        "rat",
        "cmp_rat",
        "np",
        "sum",
        "R",
        "oriR",
        "R",
        "oriR",
        "time",
        "time",
        "tnow",
        "time",
        "time",
        "isICF",
        "loc_path",
        "loc_path",
        "loc_tab",
        "loadLocation",
        "loc_path",
        "time",
        "time",
        "tnow",
        "len",
        "loc_tab",
        "time",
        "time",
        "us_shape",
        "isUserAutoEncoder",
        "us_shape",
        "BPAE",
        "DenoiseAutoEncoder",
        "tx",
        "hidden_node",
        "actfunc1",
        "deactfunc1",
        "actfunc1",
        "deactfunc1",
        "isUserAutoEncoder",
        "R",
        "T",
        "oriR",
        "T",
        "loadvalues",
        "encoder",
        "exisValues",
        "values_path",
        "encoder",
        "preloadValues",
        "values_path",
        "continue_train",
        "encoder",
        "train",
        "R",
        "oriR",
        "learn_param",
        "repeat",
        "encoder",
        "saveValues",
        "values_path",
        "encoder",
        "calFill",
        "R",
        "PR",
        "R",
        "oriR",
        "np",
        "where",
        "R",
        "NoneValue",
        "R",
        "PR",
        "isUserAutoEncoder",
        "PR",
        "T",
        "R",
        "T",
        "oriR",
        "T",
        "time",
        "time",
        "tnow",
        "time",
        "time",
        "Preprocess",
        "random_empty",
        "PR",
        "cut_rate",
        "time",
        "time",
        "tnow",
        "time",
        "time",
        "get_oriR_ana",
        "oriR",
        "time",
        "time",
        "tnow",
        "time",
        "time",
        "np",
        "count_nonzero",
        "oriR",
        "axis",
        "np",
        "median",
        "feat_cout",
        "np",
        "exp",
        "med",
        "feat_cout",
        "w_d",
        "np",
        "count_nonzero",
        "oriR",
        "axis",
        "np",
        "median",
        "feat_cout",
        "np",
        "exp",
        "med",
        "feat_cout",
        "sw_d",
        "time",
        "time",
        "tnow",
        "time",
        "time",
        "R",
        "PR",
        "R",
        "shape",
        "np",
        "zeros",
        "bat_size",
        "bat_size",
        "bat_size",
        "readWcache",
        "os",
        "path",
        "exists",
        "W_path",
        "W",
        "np",
        "loadtxt",
        "W_path",
        "np",
        "float64",
        "i",
        "bat_size",
        "i",
        "i",
        "R",
        "i",
        "j",
        "i",
        "bat_size",
        "R",
        "j",
        "a",
        "b",
        "np",
        "zeros_like",
        "a",
        "us_ana",
        "i",
        "j",
        "i",
        "indexk",
        "log_and",
        "ana_chp",
        "indexk",
        "ws",
        "np",
        "subtract",
        "a",
        "b",
        "np",
        "zeros_like",
        "a",
        "where",
        "tmp",
        "ana_chp",
        "indexk",
        "ws",
        "feat_w_us",
        "np",
        "sum",
        "ws",
        "math",
        "exp",
        "np",
        "sqrt",
        "ws",
        "feat_size",
        "np",
        "savetxt",
        "W_path",
        "W",
        "PR",
        "T",
        "R",
        "shape",
        "np",
        "zeros",
        "bat_size",
        "bat_size",
        "bat_size",
        "readWcache",
        "os",
        "path",
        "exists",
        "SW_path",
        "SW",
        "np",
        "loadtxt",
        "SW_path",
        "np",
        "float64",
        "i",
        "bat_size",
        "i",
        "show_step",
        "i",
        "R",
        "i",
        "j",
        "i",
        "bat_size",
        "R",
        "j",
        "a",
        "b",
        "np",
        "zeros_like",
        "a",
        "get_ana_item",
        "R",
        "shape",
        "a",
        "b",
        "indexk",
        "log_and",
        "ana_chp",
        "indexk",
        "ws",
        "np",
        "subtract",
        "a",
        "b",
        "np",
        "zeros_like",
        "a",
        "where",
        "tmp",
        "ana_chp",
        "indexk",
        "ws",
        "feat_w_su",
        "np",
        "sum",
        "ws",
        "math",
        "exp",
        "np",
        "sqrt",
        "ws",
        "feat_size",
        "np",
        "savetxt",
        "SW_path",
        "SW",
        "PR",
        "time",
        "time",
        "tnow",
        "time",
        "time",
        "np",
        "argsort",
        "W",
        "k",
        "np",
        "argsort",
        "SW",
        "k",
        "time",
        "time",
        "tnow",
        "time",
        "time",
        "np",
        "loadtxt",
        "test_data",
        "dtype",
        "np",
        "alen",
        "trdata",
        "time",
        "time",
        "tnow",
        "n",
        "time",
        "time",
        "R",
        "T",
        "tc",
        "trdata",
        "tc",
        "predict",
        "tc",
        "tc",
        "R",
        "W",
        "S",
        "predict",
        "tc",
        "tc",
        "SR",
        "SW",
        "SS",
        "cf_w",
        "urt",
        "cf_w",
        "srt",
        "mae",
        "abs",
        "rt",
        "tc",
        "rmse",
        "rt",
        "tc",
        "cot",
        "mae",
        "cot",
        "np",
        "sqrt",
        "rmse",
        "cot",
        "time",
        "time",
        "tnow",
        "time",
        "time",
        "now",
        "spa",
        "mae",
        "rmse",
        "spa",
        "test_spa",
        "encoder_run",
        "spa"
    ],
    "literals": [
        "r'E:/work'",
        "'l'",
        "'/home/zwp/work'",
        "'/rtdata.txt'",
        "'/Dataset/ws/train_n/sparseness%.1f/training%d.txt'",
        "'/Dataset/ws/test_n/sparseness%.1f/test%d.txt'",
        "'/Dataset/ws/BP_CF_W_spa%.1f_t%d.txt'",
        "'/Dataset/ws/BP_CF_SW_spa%.1f_t%d.txt'",
        "'/Dataset/ws'",
        "'/Dataset/dae_values/spa%.1f_case%d'",
        "'/Dataset/mf_baseline_values/spa%.1f_case%d'",
        "'开始实验，稀疏度=%d,case=%d'",
        "'加载训练数据开始'",
        "'加载训练数据完成，耗时 %.2f秒，数据总条数%d  \\n'",
        "'转换数据到矩阵开始'",
        "'转换数据到矩阵结束，耗时 %.2f秒  \\n'",
        "'预处理数据开始'",
        "'预处理数据结束，耗时 %.2f秒  \\n'",
        "'加载地理位置信息开始'",
        "'/ws_info.txt'",
        "'/user_info.txt'",
        "'加载地理位置信息完成，耗时 %.2f秒，数据总条数%d  \\n'",
        "'训练模型开始'",
        "'训练模型结束，耗时 %.2f秒  \\n'",
        "'随机删除开始'",
        "'随机删除开始，耗时 %.2f秒  \\n'",
        "'生成原矩阵分析开始'",
        "'us - ana '",
        "'生成原矩阵结束，耗时 %.2f秒  \\n'",
        "'生成特征权重向量开始'",
        "'生成特征权重向量结束，耗时 %.2f秒  \\n'",
        "'计算相似度矩阵开始'",
        "'----->u-cf step%d'",
        "'%.12f'",
        "'----->s-cf step%d'",
        "'%.12f'",
        "'计算相似度矩阵结束，耗时 %.2f秒  \\n'",
        "'生成相似列表开始'",
        "'生成相似列表开始结束，耗时 %.2f秒  \\n'",
        "'加载测试数据开始'",
        "'加载测试数据完成，耗时 %.2f秒，数据总条数%d  \\n'",
        "'评测开始'",
        "'评测完成，耗时 %.2f秒\\n'",
        "'实验结束，总耗时 %.2f秒,稀疏度=%d,MAE=%.6f,RMSE=%.6f\\n'",
        "'__main__'"
    ],
    "variables": [
        "a0",
        "a1",
        "sum",
        "cot",
        "rw",
        "b_s",
        "f_s",
        "us_ana",
        "a",
        "a_not_none",
        "a_is_none",
        "b",
        "all_have",
        "none_have",
        "any_have",
        "tmp",
        "all_p",
        "all_p",
        "non_p",
        "tmp",
        "any_p",
        "any_p",
        "_",
        "f_s",
        "a_not_none",
        "a_is_none",
        "all_have",
        "none_have",
        "any_have",
        "tmp",
        "all_p",
        "all_p",
        "non_p",
        "tmp",
        "any_p",
        "any_p",
        "base_path",
        "base_path",
        "origin_data",
        "us_shape",
        "isUserAutoEncoder",
        "isICF",
        "loadvalues",
        "continue_train",
        "readWcache",
        "NoneValue",
        "hidden_node",
        "learn_rate",
        "learn_param",
        "repeat",
        "rou",
        "k",
        "sk",
        "loc_w",
        "f",
        "cut_rate",
        "w_d",
        "sw_d",
        "test_spa",
        "loc_tab",
        "cf_w",
        "train_data",
        "test_data",
        "W_path",
        "SW_path",
        "loc_path",
        "values_path",
        "mf_values_path",
        "now",
        "trdata",
        "n",
        "tnow",
        "u",
        "s",
        "u",
        "s",
        "R",
        "R",
        "u",
        "s",
        "tnow",
        "oriR",
        "mean",
        "mf",
        "cmp_rat",
        "tnow",
        "loc_tab",
        "tnow",
        "tx",
        "tx",
        "encoder",
        "R",
        "oriR",
        "PR",
        "PR",
        "R",
        "oriR",
        "PR",
        "PR",
        "R",
        "oriR",
        "tnow",
        "tnow",
        "us_ana",
        "tnow",
        "feat_cout",
        "med",
        "feat_w_us",
        "feat_cout",
        "med",
        "feat_w_su",
        "tnow",
        "mf_R",
        "R",
        "bat_size",
        "feat_size",
        "W",
        "show_step",
        "W",
        "a",
        "b",
        "log_and",
        "ws",
        "ana_chp",
        "tmp",
        "ws",
        "ws",
        "W",
        "i",
        "j",
        "W",
        "j",
        "i",
        "R",
        "bat_size",
        "feat_size",
        "SW",
        "show_step",
        "SW",
        "a",
        "b",
        "log_and",
        "ws",
        "ana_chp",
        "tmp",
        "ws",
        "ws",
        "SW",
        "i",
        "j",
        "SW",
        "j",
        "i",
        "R",
        "tnow",
        "S",
        "SS",
        "tnow",
        "trdata",
        "n",
        "tnow",
        "mae",
        "rmse",
        "cot",
        "SR",
        "urt",
        "srt",
        "rt",
        "mae",
        "rmse"
    ],
    "comments": [
        "-*- coding: utf-8 -*-",
        "CF预测函数 根据W和S预测出u,s的值,",
        "all_p = np.exp(-1.0*np.count_nonzero(all_have)/f_s);",
        "non_p = np.exp(-1.0*np.count_nonzero(none_have)/f_s);",
        "any_p = np.exp(-1.0*np.count_nonzero(any_have)/f_s);",
        "us_ana[i].append([all_have,none_have,any_have,150.0,30.0,0.001]);",
        "print(len(us_ana[i]));",
        "参数区 开始 ###############################",
        "是否基于用户的自编码器，预测每个用户的所有服务值",
        "是否基于服务的CF方法",
        "加载AutoEncoder",
        "加载相似度矩阵",
        "训练例子",
        "autoencoder 参数",
        "协同过滤参数",
        "矩阵分解特征数",
        "预处理填补比例",
        "随机删除比率",
        "特征权重约束系数",
        "测试列表",
        "地理位置表",
        "混合CF 比例u:s",
        "参数区 结束 ###############################",
        "",
        "矩阵分解填补预处理",
        "填补处理",
        "",
        "归一化",
        "R = oriR;",
        "print(R);",
        "print();",
        "print(PR);",
        "print();",
        "PR 还原处理   ###############",
        "PR 还原处理   ###############",
        "oriR 原始US矩阵",
        "R    经过MF处理的US矩阵",
        "PR   经过随机删除的US 预测矩阵",
        "U-S 部分",
        "## S-U 部分",
        "su_ana = get_oriR_ana(oriR.T);",
        "feat_w_us=np.exp(np.log2(med-feat_cout));",
        "U-CF",
        "W[i,j]=W[j,i]= 1.0/(1+np.sqrt(ws/feat_size));",
        "S-CF",
        "print('oR',oR);",
        "print('R',R);"
    ],
    "docstrings": [
        "'''\nCreated on 2018年6月12日\n\n@author: zwp\n'''",
        "'''\n由MF预填补\n类DAE进行半填充\n\n\n由原数据集和参考矩阵进行相似\n\n\n\n'''"
    ],
    "functions": [
        "actfunc1",
        "deactfunc1",
        "predict",
        "get_oriR_ana",
        "get_ana_item",
        "out_cmp_rat",
        "encoder_run"
    ],
    "classes": []
}