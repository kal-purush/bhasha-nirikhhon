{
    "identifiers": [
        "localstack_client",
        "session",
        "subprocess",
        "json",
        "botocore",
        "exceptions",
        "ClientError",
        "ncap_iac",
        "protocols",
        "utilsparam",
        "env_vars",
        "ncap_iac",
        "utils",
        "environment_check",
        "env_check",
        "ncap_iac",
        "protocols",
        "postprocess",
        "ncap_iac",
        "protocols",
        "utilsparam",
        "s3",
        "ncap_iac",
        "protocols",
        "utilsparam",
        "ec2",
        "ssm",
        "pytest",
        "os",
        "os",
        "environ",
        "homedir",
        "scriptflag",
        "get_dict_file",
        "pytest",
        "skip",
        "allow_module_level",
        "localstack_client",
        "session",
        "session",
        "resource",
        "session",
        "client",
        "session",
        "client",
        "session",
        "resource",
        "os",
        "path",
        "dirname",
        "os",
        "path",
        "realpath",
        "os",
        "path",
        "join",
        "loc",
        "os",
        "path",
        "join",
        "loc",
        "os",
        "path",
        "join",
        "loc",
        "open",
        "os",
        "path",
        "join",
        "loc",
        "f",
        "json",
        "load",
        "f",
        "gpdict",
        "gpdict",
        "gpdict",
        "gpdict",
        "gpdict",
        "rootpath",
        "os",
        "walk",
        "rootpath",
        "p",
        "dirs",
        "files",
        "walkgen",
        "os",
        "path",
        "relpath",
        "p",
        "rootpath",
        "len",
        "files",
        "f",
        "files",
        "os",
        "path",
        "join",
        "relpath",
        "f",
        "paths",
        "append",
        "localfile",
        "paths",
        "pytest",
        "fixture",
        "ec2_resource",
        "create_instances",
        "MaxCount",
        "MinCount",
        "ec2_client",
        "create_image",
        "InstanceId",
        "instance",
        "instance_id",
        "Name",
        "ami",
        "pytest",
        "fixture",
        "monkeypatch",
        "autouse",
        "open",
        "blueprint_path",
        "f",
        "json",
        "load",
        "f",
        "blueprint",
        "key",
        "gpinfo",
        "gpinfo",
        "key",
        "subprocess",
        "check_output",
        "decode",
        "key",
        "value",
        "config",
        "items",
        "monkeypatch",
        "setenv",
        "key",
        "value",
        "pytest",
        "fixture",
        "monkeypatch",
        "os",
        "path",
        "join",
        "user_name",
        "os",
        "path",
        "join",
        "user_name",
        "os",
        "path",
        "join",
        "user_name",
        "d",
        "d",
        "os",
        "path",
        "join",
        "user_name",
        "format",
        "os",
        "path",
        "basename",
        "fakedatakey_name",
        "os",
        "path",
        "join",
        "user_name",
        "d",
        "d",
        "os",
        "path",
        "join",
        "user_name",
        "format",
        "os",
        "path",
        "basename",
        "fakeconfigkey_name",
        "os",
        "path",
        "join",
        "user_name",
        "d",
        "d",
        "os",
        "path",
        "join",
        "user_name",
        "format",
        "os",
        "path",
        "basename",
        "nodatakey_name",
        "os",
        "path",
        "join",
        "user_name",
        "format",
        "os",
        "path",
        "basename",
        "noconfigkey_name",
        "os",
        "path",
        "join",
        "user_name",
        "d",
        "d",
        "format",
        "os",
        "path",
        "basename",
        "notimestampkey_name",
        "os",
        "path",
        "join",
        "user_name",
        "d",
        "d",
        "os",
        "path",
        "join",
        "user_name",
        "localstack_client",
        "session",
        "Session",
        "monkeypatch",
        "setattr",
        "s3",
        "session",
        "client",
        "monkeypatch",
        "setattr",
        "s3",
        "session",
        "resource",
        "monkeypatch",
        "setattr",
        "postprocess",
        "session",
        "client",
        "monkeypatch",
        "setattr",
        "postprocess",
        "session",
        "resource",
        "s3_client",
        "create_bucket",
        "Bucket",
        "bucket_name",
        "sk",
        "subkeys",
        "os",
        "path",
        "join",
        "user_name",
        "sk",
        "s3_resource",
        "bucket_name",
        "key",
        "json",
        "dumps",
        "subkeys",
        "sk",
        "encode",
        "writeobj",
        "put",
        "Body",
        "content",
        "get_paths",
        "test_result_mats",
        "f",
        "result_paths",
        "s3_client",
        "upload_file",
        "os",
        "path",
        "join",
        "test_result_mats",
        "f",
        "bucket_name",
        "Key",
        "os",
        "path",
        "join",
        "f",
        "ClientError",
        "e",
        "logging",
        "error",
        "e",
        "get_paths",
        "test_log_mats",
        "f",
        "log_paths",
        "s3_client",
        "upload_file",
        "os",
        "path",
        "join",
        "test_log_mats",
        "f",
        "bucket_name",
        "Key",
        "f",
        "ClientError",
        "e",
        "logging",
        "error",
        "e",
        "bucket_name",
        "os",
        "path",
        "join",
        "user_name",
        "format",
        "b",
        "bucket_name",
        "os",
        "path",
        "join",
        "user_name",
        "format",
        "b",
        "bucket_name",
        "s3_resource",
        "Bucket",
        "bucket_name",
        "objects",
        "all",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "pp",
        "get_endfile",
        "raw",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "pp_pre",
        "check_postprocess",
        "postprocess",
        "PostProcess",
        "bucket_name",
        "endfilepost",
        "bucket_name",
        "pp_post",
        "check_postprocess",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "pp_pre",
        "write_postprocess",
        "body",
        "body",
        "s3_resource",
        "bucket_name",
        "os",
        "path",
        "join",
        "pp_pre",
        "jobdir",
        "get",
        "read",
        "decode",
        "contents",
        "body",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "pp_pre",
        "copy_logs",
        "s3_resource",
        "bucket_name",
        "os",
        "path",
        "join",
        "pp_pre",
        "jobdir",
        "certobject",
        "load",
        "s3_resource",
        "bucket_name",
        "os",
        "path",
        "join",
        "pp_pre",
        "jobdir",
        "statuobject",
        "load",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "pp_pre",
        "create_submitfile",
        "datasets",
        "configs",
        "submit",
        "datasets",
        "submit",
        "configs",
        "submit",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "pp_pre",
        "create_submitfile",
        "datasets",
        "configs",
        "pp_pre",
        "submit",
        "submit",
        "s3_resource",
        "bucket_name",
        "os",
        "path",
        "join",
        "pp_pre",
        "groupdir",
        "statuobject",
        "load",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess_EnsembleDGPPredict",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess_EnsembleDGPPredict",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "pp_pre",
        "load_config",
        "config",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess_EnsembleDGPPredict",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "pp_pre",
        "make_config",
        "newconfig",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess_EnsembleDGPPredict",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "pp_pre",
        "make_config",
        "pp_pre",
        "write_config",
        "newconfig",
        "s3_resource",
        "bucket_name",
        "configpath",
        "statuobject",
        "load",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "PostProcess_EnsembleDGPPredict",
        "bucket_name",
        "endfilepre",
        "bucket_name",
        "pp_pre",
        "get_videos",
        "os",
        "path",
        "join",
        "pp_pre",
        "jobdir",
        "setup_testing_bucket",
        "setup_testing_bucket",
        "postprocess",
        "postprocess_prediction_run",
        "bucket_name",
        "endfilepre",
        "s3_resource",
        "bucket_name",
        "os",
        "path",
        "join",
        "pp",
        "groupdir",
        "json",
        "loads",
        "submitobject",
        "get",
        "read",
        "decode",
        "s3_resource",
        "bucket_name",
        "submitcontent",
        "load",
        "s3_resource",
        "bucket_name",
        "submitcontent",
        "load",
        "submitcontent"
    ],
    "literals": [
        "\"HOME\"",
        "\"/Users/taigaabe\"",
        "\"local\"",
        "\"ci\"",
        "\"ci\"",
        "\"skipping tests that rely upon internal data\"",
        "\"ec2\"",
        "\"ec2\"",
        "\"s3\"",
        "\"s3\"",
        "\"test_mats\"",
        "\"logfolder\"",
        "\"test_mats\"",
        "\"resultsfolder\"",
        "\"test_mats\"",
        "\"stack_config_template.json\"",
        "\"../../ncap_iac/global_params_initialized.json\"",
        "\"test-searchlambda-analysis\"",
        "\"test_user/submissions/submit.json\"",
        "\"test_user/submissions/fakedatasubmit.json\"",
        "\"test_user/submissions/fakeconfigsubmit.json\"",
        "\"test_user/submissions/notimestampconfigsubmit.json\"",
        "\"test_user/submissions/notimestampconfigsubmit.json\"",
        "\"test_user/submissions/notimestampconfigsubmit.json\"",
        "\"test_user\"",
        "\"INDIR\"",
        "\"input_directory\"",
        "\"OUTDIR\"",
        "\"output_directory\"",
        "\"LOGDIR\"",
        "\"log_directory\"",
        "\"CONFIGDIR\"",
        "\"config_directory\"",
        "\"SUBMITDIR\"",
        "\"submission_directory\"",
        "\"dummy\"",
        "\"ImageId\"",
        "\"r\"",
        "\"Lambda\"",
        "\"LambdaConfig\"",
        "'versionid'",
        "\"git\"",
        "\"rev-parse\"",
        "\"HEAD\"",
        "\"utf-8\"",
        "\"env vars set.\"",
        "\"inputs/data1.json\"",
        "\"data\"",
        "\"value\"",
        "\"inputs/data2.json\"",
        "\"data\"",
        "\"value\"",
        "\"configs/config.json\"",
        "\"param\"",
        "\"p1\"",
        "\"configs/fullconfig.json\"",
        "\"param\"",
        "\"p1\"",
        "\"__duration__\"",
        "\"__dataset_size__\"",
        "\"ensemble_size\"",
        "\"submissions/singlesubmit.json\"",
        "\"dataname\"",
        "\"inputs\"",
        "\"data1.json\"",
        "\"configname\"",
        "\"configs\"",
        "\"config.json\"",
        "\"timestamp\"",
        "\"testtimestamp\"",
        "\"submissions/submit.json\"",
        "\"dataname\"",
        "\"inputs\"",
        "\"data1.json\"",
        "\"data2.json\"",
        "\"configname\"",
        "\"configs\"",
        "\"config.json\"",
        "\"timestamp\"",
        "\"testtimestamp\"",
        "\"submissions/{}\"",
        "\"dataname\"",
        "\"inputs\"",
        "\"data21.json\"",
        "\"data22.json\"",
        "\"configname\"",
        "\"configs\"",
        "\"config.json\"",
        "\"timestamp\"",
        "\"testtimestamp\"",
        "\"submissions/{}\"",
        "\"dataname\"",
        "\"inputs\"",
        "\"data1.json\"",
        "\"data2.json\"",
        "\"configname\"",
        "\"configs\"",
        "\"config22.json\"",
        "\"timestamp\"",
        "\"testtimestamp\"",
        "\"submissions/{}\"",
        "\"configname\"",
        "\"configs\"",
        "\"config22.json\"",
        "\"timestamp\"",
        "\"testtimestamp\"",
        "\"submissions/{}\"",
        "\"dataname\"",
        "\"inputs\"",
        "\"data1.json\"",
        "\"data2.json\"",
        "\"timestamp\"",
        "\"testtimestamp\"",
        "\"submissions/{}\"",
        "\"dataname\"",
        "\"inputs\"",
        "\"data1.json\"",
        "\"data2.json\"",
        "\"configname\"",
        "\"configs\"",
        "\"config22.json\"",
        "\"s3_client\"",
        "\"s3\"",
        "\"s3_resource\"",
        "\"s3\"",
        "\"s3_client\"",
        "\"s3\"",
        "\"s3_resource\"",
        "\"s3\"",
        "\"UTF-8\"",
        "\"test_user\"",
        "\"results\"",
        "\"results\"",
        "\"job__{b}_timestamp1/process_results/end.txt\"",
        "\"results\"",
        "\"job__{b}_timestamp2/process_results/end.txt\"",
        "\"postprocess\"",
        "\"postprocess\"",
        "\"end of analysis marker\\n\"",
        "\"postprocess\"",
        "\"postprocess\"",
        "\"correctly postprocessed\"",
        "\"postprocess\"",
        "\"process_results\"",
        "\"postprocess\"",
        "\"Body\"",
        "\"utf-8\"",
        "\"correctly postprocessed\"",
        "\"postprocess\"",
        "\"logs_pre_postprocess\"",
        "\"certificate.txt\"",
        "\"logs_pre_postprocess\"",
        "\"DATASET_NAME:raw_data.zip_STATUS.txt\"",
        "\"postprocess\"",
        "\"test_user/inputs/data1.json\"",
        "\"test_user/inputs/data2.json\"",
        "\"test_user/configs/config.json\"",
        "\"dataname\"",
        "\"configname\"",
        "\"timestamp\"",
        "\"timestamp1\"",
        "\"postprocess\"",
        "\"test_user/inputs/data1.json\"",
        "\"test_user/inputs/data2.json\"",
        "\"test_user/configs/config.json\"",
        "\"submissions\"",
        "\"postprocess_submit.json\"",
        "\"postprocess\"",
        "\"postprocess\"",
        "\"task\"",
        "\"b29_post_side\"",
        "\"scorer\"",
        "\"erica\"",
        "\"nb_frames\"",
        "\"seed\"",
        "\"ensemble_size\"",
        "\"videotype\"",
        "\"avi\"",
        "\"testing\"",
        "\"__duration__\"",
        "\"jobnb\"",
        "\"postprocess\"",
        "\"task\"",
        "\"b29_post_side\"",
        "\"scorer\"",
        "\"erica\"",
        "\"nb_frames\"",
        "\"seed\"",
        "\"ensemble_size\"",
        "\"videotype\"",
        "\"avi\"",
        "\"testing\"",
        "\"__duration__\"",
        "\"mode\"",
        "\"predict\"",
        "\"modelpath\"",
        "\"results/job__test-searchlambda-analysis_timestamp1/process_results/\"",
        "\"modelnames\"",
        "\"1\"",
        "\"2\"",
        "\"3\"",
        "\"4\"",
        "\"5\"",
        "\"6\"",
        "\"7\"",
        "\"8\"",
        "\"9\"",
        "\"jobnb\"",
        "\"postprocess\"",
        "\"postprocess\"",
        "\"process_results\"",
        "\"1\"",
        "\"videos\"",
        "\"TempTrial2ROI_0PART_0Interval_[54078, 54107].mp4\"",
        "\"submissions\"",
        "\"prediction_submit.json\"",
        "\"Body\"",
        "\"utf-8\"",
        "\"dataname\"",
        "\"configname\"",
        "\"timestamp\"",
        "\"timestamp1\""
    ],
    "variables": [
        "homedir",
        "scriptflag",
        "scriptflag",
        "session",
        "ec2_resource",
        "ec2_client",
        "s3_client",
        "s3_resource",
        "loc",
        "test_log_mats",
        "test_result_mats",
        "blueprint_path",
        "gpdict",
        "bucket_name",
        "key_name",
        "fakedatakey_name",
        "fakeconfigkey_name",
        "notimestampkey_name",
        "nodatakey_name",
        "noconfigkey_name",
        "user_name",
        "gpinfo",
        "walkgen",
        "paths",
        "relpath",
        "localfile",
        "instance",
        "ami",
        "blueprint",
        "config",
        "config",
        "key",
        "config",
        "subkeys",
        "session",
        "key",
        "writeobj",
        "content",
        "result_paths",
        "log_paths",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp",
        "raw",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp_pre",
        "pp_post",
        "body",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp_pre",
        "contents",
        "body",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp_pre",
        "certobject",
        "statuobject",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp_pre",
        "datasets",
        "configs",
        "submit",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp_pre",
        "datasets",
        "configs",
        "submit",
        "statuobject",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp_pre",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp_pre",
        "config",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp_pre",
        "newconfig",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp_pre",
        "newconfig",
        "configpath",
        "statuobject",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp_pre",
        "bucket_name",
        "endfilepre",
        "endfilepost",
        "pp",
        "submitobject",
        "submitcontent"
    ],
    "comments": [
        "Import and test the lambda business logic in a local environment. Not ideal, but important",
        "TODO I don't think these are scoped correctly w/o a context manager.",
        "TODO I don't think these are scoped correctly w/o a context manager.",
        "Write data files",
        "Write results",
        "Write logs",
        "clear after processing.",
        "check that everything you looked into still holds true",
        "submit file:"
    ],
    "docstrings": [
        "\"\"\"Gets paths to all files relative to a given top level path. \n\n    \"\"\"",
        "\"\"\"Unclear if this is needed for this code. \n\n    \"\"\"",
        "\"\"\"Sets up a localstack bucket called test-searchlambda-analysis with the following directory structure:\n    /\n    |-test_user\n      |-inputs\n        |-data.json\n      |-configs\n        |-config.json\n      |-submissions\n        |-submit.json\n      |-results\n        |-job_testsearchlambda-analysis_timestamp1\n          |-process_results\n            |-1\n              |-videos\n                |-vid.mp4\n            |-2\n              |-videos\n                |-vid.mp4\n          |-logs\n            |-DATASTATUS\n            |-certificate.txt\n    |-logs\n      |-test_user\n        |-joblog1\n        |-joblog2\n        ...\n\n    \"\"\""
    ],
    "functions": [
        "get_dict_file",
        "get_paths",
        "create_ami",
        "setup_lambda_env",
        "setup_testing_bucket",
        "test_PostProcess",
        "test_get_endfile",
        "test_check_postprocess",
        "test_write_postprocess",
        "test_copy_logs",
        "test_create_submitfile",
        "test_submit",
        "test_PostProcess_EnsembleDGPPredict",
        "test_load_config",
        "test_make_config",
        "test_write_config",
        "test_get_videos",
        "test_postprocess_prediction_run"
    ],
    "classes": [
        "Test_PostProcess",
        "Test_PostProcess_EnsembleDGPPredict"
    ]
}