{
    "identifiers": [
        "os",
        "alembic",
        "command",
        "alembic",
        "config",
        "Config",
        "util",
        "file",
        "ConfigManager",
        "util",
        "proc",
        "run_command_in_directory",
        "init_dir",
        "ini_path",
        "Config",
        "ini_path",
        "command",
        "init",
        "config",
        "init_dir",
        "template",
        "ini_path",
        "section",
        "option",
        "value",
        "ConfigManager",
        "ini_path",
        "manager",
        "set_value",
        "section",
        "option",
        "value",
        "env_dir",
        "sys_path",
        "env_content",
        "sys_path",
        "env_dir",
        "env_dir",
        "open",
        "env_path",
        "read_file",
        "open",
        "env_temp",
        "write_file",
        "line",
        "read_file",
        "line",
        "startswith",
        "write_file",
        "write",
        "data",
        "write_file",
        "write",
        "line",
        "os",
        "replace",
        "env_temp",
        "env_path",
        "execution_directory",
        "run_command_in_directory",
        "execution_directory",
        "run_command_in_directory",
        "execution_directory",
        "alembic_dir",
        "alembic_ini_path",
        "obj_path",
        "sqlalchemy_addr",
        "init_alembic",
        "alembic_dir",
        "alembic_ini_path",
        "set_section_value_in_ini",
        "alembic_ini_path",
        "sqlalchemy_addr",
        "env_content_update",
        "alembic_dir",
        "obj_path",
        "whole_process",
        "init_dir",
        "ini_path",
        "sys_path",
        "sqlalchemy_url"
    ],
    "literals": [
        "\"generic\"",
        "'/env.py'",
        "'/temp_env.py'",
        "'r'",
        "'w'",
        "'target_metadata'",
        "'alembic revision --autogenerate'",
        "'alembic upgrade head'",
        "'alembic'",
        "'sqlalchemy.url'",
        "'__main__'",
        "'/xxx/squirrellib/_alembic/alembic'",
        "'/xxx/squirrellib/_alembic/alembic.ini'",
        "\"/Users/wushuaikang/Desktop/code/squirrellib/squirrellib\"",
        "'postgresql+psycopg2://postgres:postgres@127.0.0.1/postgres'"
    ],
    "variables": [
        "env_content",
        "config",
        "manager",
        "data",
        "env_path",
        "env_temp",
        "init_dir",
        "ini_path",
        "sys_path",
        "sqlalchemy_url"
    ],
    "comments": [
        "打开源文件（以只读方式）",
        "创建一个临时文件用于保存修改后的数据",
        "检查当前行是否以' target_metadata'开头",
        "如果是，则写入新的内容",
        "不是则保持原样写入",
        "确保所有内容已成功写入临时文件",
        "然后替换原来的文件",
        "1.alembic init alembic  创建alembic.ini文件和alembic的文件夹 最后一个alembic为生成文件的名字",
        "2.修改alembic.ini文件 在文件中添加一行version_path_separator = sqlalchemy.url",
        "3.修改env.py文件 修改target_metadata=None,先导入自己的model文件将target_metadata修改为自己的models里的文件",
        "4.使用命令alembic revision --autogenerate -m \"备注\" 生成当前的版本",
        "5.使用命令alembic upgrade head 升级到最新版本"
    ],
    "docstrings": [
        "\"\"\"\nimport os\nimport sys\nsys.path.append(os.path.realpath(\"%s\"))\nimport models\ntarget_metadata = models.Base.metadata\n\"\"\"",
        "\"\"\"\n    Initialize the alembic 仓库\n    @param init_dir: alembic文件夹存放路径 如 /_alembi/alembic\n    @param ini_path:  alembic.ini存放路径 如 /_alembic/alembic.ini\n    @return: None\n    \"\"\"",
        "\"\"\"\n    设置ini文件中的某个section和option的值\n    如: set_section_value_in_ini(ini_path, 'alembic', 'sqlalchemy.url', sqlalchemy_url)\n    @param ini_path: alembic.ini存放路径 如 /_alembic/alembic.ini\n    @param section:\n    @param option: 操作的key\n    @param value:  修改后的值\n    \"\"\""
    ],
    "functions": [
        "init_alembic",
        "set_section_value_in_ini",
        "env_content_update",
        "autogenerate",
        "whole_process"
    ],
    "classes": []
}