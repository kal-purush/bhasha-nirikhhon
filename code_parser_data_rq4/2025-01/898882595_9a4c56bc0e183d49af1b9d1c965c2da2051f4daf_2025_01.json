{
    "identifiers": [
        "bot_card",
        "java",
        "sql",
        "Connection",
        "java",
        "sql",
        "DriverManager",
        "java",
        "sql",
        "SQLException",
        "java",
        "util",
        "logging",
        "Level",
        "java",
        "util",
        "logging",
        "Logger",
        "java",
        "sql",
        "PreparedStatement",
        "java",
        "sql",
        "ResultSet",
        "URL",
        "USER",
        "PASSWORD",
        "DriverManager",
        "getConnection",
        "URL",
        "USER",
        "PASSWORD",
        "e",
        "err",
        "e",
        "printStackTrace",
        "args",
        "conn",
        "connect",
        "conn",
        "conn",
        "getCatalog",
        "id",
        "name",
        "address",
        "dob",
        "licensePlate",
        "publicKey",
        "conn",
        "pstmt",
        "sql",
        "conn",
        "DBConnection",
        "connect",
        "conn",
        "err",
        "pstmt",
        "conn",
        "prepareStatement",
        "sql",
        "pstmt",
        "setString",
        "id",
        "pstmt",
        "setString",
        "name",
        "pstmt",
        "setString",
        "address",
        "pstmt",
        "setString",
        "dob",
        "pstmt",
        "setString",
        "licensePlate",
        "pstmt",
        "setString",
        "publicKey",
        "rows",
        "pstmt",
        "executeUpdate",
        "rows",
        "e",
        "e",
        "printStackTrace",
        "pstmt",
        "pstmt",
        "close",
        "conn",
        "conn",
        "close",
        "ex",
        "ex",
        "printStackTrace",
        "id",
        "name",
        "address",
        "dob",
        "licensePlate",
        "conn",
        "pstmt",
        "sql",
        "conn",
        "DBConnection",
        "connect",
        "pstmt",
        "conn",
        "prepareStatement",
        "sql",
        "pstmt",
        "setString",
        "name",
        "pstmt",
        "setString",
        "dob",
        "pstmt",
        "setString",
        "address",
        "pstmt",
        "setString",
        "licensePlate",
        "pstmt",
        "setString",
        "id",
        "rowsUpdated",
        "pstmt",
        "executeUpdate",
        "rowsUpdated",
        "rowsUpdated",
        "e",
        "e",
        "printStackTrace",
        "pstmt",
        "pstmt",
        "close",
        "conn",
        "conn",
        "close",
        "ex",
        "ex",
        "printStackTrace"
    ],
    "literals": [
        "\"jdbc:mysql://localhost:3306/botdb\"",
        "\"root\"",
        "\"\"",
        "\"Không thể kết nối tới MySQL!\"",
        "\"Kết nối MySQL thành công!\"",
        "\"INSERT INTO users (id, name, address, dob, license_plate_number, public_key) VALUES (?, ?, ?, ?, ?, ?)\"",
        "\"Kết nối cơ sở dữ liệu thất bại!\"",
        "\"Connect Db\"",
        "\"Prepare sql\"",
        "\"prepare done\"",
        "\"execute done\"",
        "\"Error\"",
        "\"Close\"",
        "\"Close Failed\"",
        "\"UPDATE Users SET name = ?, dob = ?, address = ?, license_plate_number = ? WHERE id = ?\"",
        "\"Rows updated: \""
    ],
    "variables": [],
    "comments": [
        "Kết nối MySQL",
        "Lấy kết nối",
        "Chuẩn bị câu lệnh SQL",
        "Gán giá trị cho các tham số",
        "Thêm giá trị public_key",
        "Thực thi câu lệnh",
        "Trả về true nếu có ít nhất một dòng được thêm",
        "Đóng kết nối",
        "public static String getPublicKey(String id) {",
        "String publicKey = null; // Biến để lưu khóa công khai",
        "String sql = \"SELECT public_key FROM users WHERE id = ?\";",
        "",
        "// Kết nối cơ sở dữ liệu và thực thi truy vấn",
        "try (Connection conn = DBConnection.connect(); PreparedStatement ps = conn.prepareStatement(sql)) {",
        "",
        "// Kiểm tra kết nối",
        "if (conn == null || conn.isClosed()) {",
        "System.err.println(\"Không thể kết nối cơ sở dữ liệu!\");",
        "return null;",
        "}",
        "System.out.println(\"kiem tra publickey\");",
        "// Gán giá trị cho tham số trong câu lệnh SQL",
        "ps.setString(1, id);",
        "System.out.println(\"Truy van khoa cong khai voi ID: \" + id); // Log ID",
        "",
        "// Thực thi truy vấn",
        "try (ResultSet rs = ps.executeQuery()) {",
        "if (rs.next()) {",
        "publicKey = rs.getString(\"public_key\");",
        "System.out.println(\"Khoa cong khai tim thay: \" + publicKey);",
        "} else {",
        "System.err.println(\"Khong tim thay khoa cong khai cho ID: \" + id);",
        "}",
        "}",
        "",
        "} catch (SQLException e) {",
        "// Xử lý lỗi SQL",
        "System.err.println(\"Lỗi truy vấn cơ sở dữ liệu: \" + e.getMessage());",
        "}",
        "",
        "// Kiểm tra nếu không tìm thấy khóa công khai",
        "if (publicKey == null) {",
        "System.err.println(\"Khoa cong khai tra ve null. Vui long kiem tra ID: \" + id);",
        "}",
        "",
        "return publicKey;",
        "}",
        "Hàm lấy kết nối tới DB",
        "Gán giá trị cho các tham số",
        "Sử dụng id ở cuối để khớp với WHERE",
        "Thực thi câu lệnh",
        "Trả về true nếu có ít nhất một dòng được cập nhật",
        "Trả về false nếu có lỗi xảy ra",
        "Đóng kết nối"
    ],
    "docstrings": [
        "* Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template",
        "*\n * @author N ~ N"
    ],
    "functions": [
        "Connection",
        "connect",
        "main",
        "UserInfo",
        "updateUserInfo"
    ],
    "classes": [
        "DBConnection"
    ]
}