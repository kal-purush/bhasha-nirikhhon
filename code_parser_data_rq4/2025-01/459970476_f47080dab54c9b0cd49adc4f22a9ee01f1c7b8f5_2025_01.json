{
    "identifiers": [
        "uk",
        "gov",
        "companieshouse",
        "company",
        "profile",
        "controller",
        "org",
        "junit",
        "jupiter",
        "api",
        "Assertions",
        "assertEquals",
        "org",
        "junit",
        "jupiter",
        "api",
        "Assertions",
        "assertNotEquals",
        "org",
        "junit",
        "jupiter",
        "api",
        "Assertions",
        "assertNotNull",
        "org",
        "junit",
        "jupiter",
        "api",
        "Assertions",
        "assertNull",
        "org",
        "mockito",
        "Mockito",
        "verify",
        "org",
        "springframework",
        "test",
        "web",
        "servlet",
        "request",
        "MockMvcRequestBuilders",
        "put",
        "com",
        "fasterxml",
        "jackson",
        "databind",
        "ObjectMapper",
        "jakarta",
        "validation",
        "Valid",
        "org",
        "junit",
        "jupiter",
        "api",
        "BeforeAll",
        "org",
        "junit",
        "jupiter",
        "api",
        "BeforeEach",
        "org",
        "junit",
        "jupiter",
        "api",
        "Test",
        "org",
        "springframework",
        "beans",
        "factory",
        "annotation",
        "Autowired",
        "org",
        "springframework",
        "boot",
        "test",
        "autoconfigure",
        "web",
        "servlet",
        "AutoConfigureMockMvc",
        "org",
        "springframework",
        "boot",
        "test",
        "context",
        "SpringBootTest",
        "org",
        "springframework",
        "data",
        "mongodb",
        "core",
        "MongoTemplate",
        "org",
        "springframework",
        "http",
        "MediaType",
        "org",
        "springframework",
        "test",
        "context",
        "bean",
        "mockito",
        "MockitoBean",
        "org",
        "springframework",
        "test",
        "web",
        "servlet",
        "MockMvc",
        "org",
        "springframework",
        "test",
        "web",
        "servlet",
        "ResultActions",
        "org",
        "springframework",
        "test",
        "web",
        "servlet",
        "result",
        "MockMvcResultMatchers",
        "org",
        "testcontainers",
        "containers",
        "MongoDBContainer",
        "org",
        "testcontainers",
        "junit",
        "jupiter",
        "Container",
        "org",
        "testcontainers",
        "junit",
        "jupiter",
        "Testcontainers",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "AccountingReferenceDate",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "AccountingRequirement",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "Accounts",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "BranchCompanyDetails",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "CompanyProfile",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "Data",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "ForeignCompanyDetails",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "LastAccounts",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "Links",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "NextAccounts",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "OriginatingRegistry",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "PreviousCompanyNames",
        "uk",
        "gov",
        "companieshouse",
        "api",
        "company",
        "RegisteredOfficeAddress",
        "uk",
        "gov",
        "companieshouse",
        "company",
        "profile",
        "CompanyProfileApiApplication",
        "uk",
        "gov",
        "companieshouse",
        "company",
        "profile",
        "api",
        "CompanyProfileApiService",
        "uk",
        "gov",
        "companieshouse",
        "company",
        "profile",
        "model",
        "VersionedCompanyProfileDocument",
        "uk",
        "gov",
        "companieshouse",
        "company",
        "profile",
        "repository",
        "CompanyProfileRepository",
        "java",
        "time",
        "LocalDate",
        "java",
        "time",
        "LocalDateTime",
        "java",
        "util",
        "java",
        "util",
        "java",
        "util",
        "Objects",
        "Testcontainers",
        "AutoConfigureMockMvc",
        "SpringBootTest",
        "classes",
        "webEnvironment",
        "SpringBootTest",
        "WebEnvironment",
        "MOCK",
        "COMPANY_NUMBER",
        "PARENT_COMPANY_NUMBER",
        "CONTEXT_ID",
        "PUT_ENDPOINT",
        "UK_ESTABLISHMENT_TYPE",
        "OVERSEA_COMPANY_TYPE",
        "CHILD_SELF_LINK",
        "format",
        "COMPANY_NUMBER",
        "PARENT_SELF_LINK",
        "format",
        "PARENT_COMPANY_NUMBER",
        "UK_ESTABLISHMENT_LINK",
        "format",
        "PARENT_COMPANY_NUMBER",
        "Container",
        "mongoDBContainer",
        "Autowired",
        "mongoTemplate",
        "Autowired",
        "companyProfileRepository",
        "Autowired",
        "objectMapper",
        "Autowired",
        "mockMvc",
        "MockitoBean",
        "companyProfileApiService",
        "BeforeAll",
        "setProperty",
        "mongoDBContainer",
        "getReplicaSetUrl",
        "BeforeEach",
        "companyProfileRepository",
        "deleteAll",
        "Test",
        "oldEtag",
        "request",
        "makeBRPutRequest",
        "result",
        "mockMvc",
        "perform",
        "put",
        "PUT_ENDPOINT",
        "COMPANY_NUMBER",
        "header",
        "header",
        "header",
        "header",
        "CONTEXT_ID",
        "contentType",
        "MediaType",
        "APPLICATION_JSON",
        "content",
        "objectMapper",
        "writeValueAsString",
        "request",
        "result",
        "andExpect",
        "MockMvcResultMatchers",
        "status",
        "isOk",
        "childDocument",
        "Objects",
        "requireNonNull",
        "mongoTemplate",
        "findById",
        "COMPANY_NUMBER",
        "childCompanyProfile",
        "childDocument",
        "getCompanyProfile",
        "baseParentDocument",
        "mongoTemplate",
        "findById",
        "PARENT_COMPANY_NUMBER",
        "assertNotNull",
        "baseParentDocument",
        "assertNull",
        "baseParentDocument",
        "getDeltaAt",
        "assertEquals",
        "UK_ESTABLISHMENT_LINK",
        "baseParentDocument",
        "getCompanyProfile",
        "getLinks",
        "getUkEstablishments",
        "assertEquals",
        "baseParentDocument",
        "getVersion",
        "assertEquals",
        "CHILD_SELF_LINK",
        "childCompanyProfile",
        "getLinks",
        "getSelf",
        "assertEquals",
        "PARENT_SELF_LINK",
        "childCompanyProfile",
        "getLinks",
        "getOverseas",
        "assertNotNull",
        "childDocument",
        "getUpdated",
        "getAt",
        "assertEquals",
        "UK_ESTABLISHMENT_TYPE",
        "childCompanyProfile",
        "getType",
        "assertEquals",
        "childDocument",
        "getVersion",
        "assertNotEquals",
        "oldEtag",
        "childCompanyProfile",
        "getEtag",
        "verify",
        "companyProfileApiService",
        "invokeChsKafkaApi",
        "CONTEXT_ID",
        "COMPANY_NUMBER",
        "Test",
        "setId",
        "PARENT_COMPANY_NUMBER",
        "setCompanyProfile",
        "links",
        "ukEstablishments",
        "UK_ESTABLISHMENT_LINK",
        "version",
        "companyProfileRepository",
        "insert",
        "request",
        "makeFCPutRequest",
        "result",
        "mockMvc",
        "perform",
        "put",
        "PUT_ENDPOINT",
        "PARENT_COMPANY_NUMBER",
        "header",
        "header",
        "header",
        "header",
        "CONTEXT_ID",
        "contentType",
        "MediaType",
        "APPLICATION_JSON",
        "content",
        "objectMapper",
        "writeValueAsString",
        "request",
        "result",
        "andExpect",
        "MockMvcResultMatchers",
        "status",
        "isOk",
        "parentDocument",
        "mongoTemplate",
        "findById",
        "PARENT_COMPANY_NUMBER",
        "assertNotNull",
        "parentDocument",
        "assertNotNull",
        "parentDocument",
        "getDeltaAt",
        "assertEquals",
        "PARENT_SELF_LINK",
        "parentDocument",
        "getCompanyProfile",
        "getLinks",
        "getSelf",
        "assertEquals",
        "UK_ESTABLISHMENT_LINK",
        "parentDocument",
        "getCompanyProfile",
        "getLinks",
        "getUkEstablishments",
        "assertEquals",
        "OVERSEA_COMPANY_TYPE",
        "parentDocument",
        "getCompanyProfile",
        "getType",
        "assertEquals",
        "parentDocument",
        "getVersion",
        "childDocument",
        "Objects",
        "requireNonNull",
        "mongoTemplate",
        "findById",
        "COMPANY_NUMBER",
        "childCompanyProfile",
        "childDocument",
        "getCompanyProfile",
        "assertEquals",
        "CHILD_SELF_LINK",
        "childCompanyProfile",
        "getLinks",
        "getSelf",
        "assertEquals",
        "PARENT_SELF_LINK",
        "childCompanyProfile",
        "getLinks",
        "getOverseas",
        "assertNotNull",
        "childDocument",
        "getUpdated",
        "getAt",
        "assertEquals",
        "UK_ESTABLISHMENT_TYPE",
        "childCompanyProfile",
        "getType",
        "assertEquals",
        "childDocument",
        "getVersion",
        "assertNotEquals",
        "oldEtag",
        "childCompanyProfile",
        "getEtag",
        "verify",
        "companyProfileApiService",
        "invokeChsKafkaApi",
        "CONTEXT_ID",
        "COMPANY_NUMBER",
        "Test",
        "request",
        "makeFCPutRequest",
        "result",
        "mockMvc",
        "perform",
        "put",
        "PUT_ENDPOINT",
        "PARENT_COMPANY_NUMBER",
        "header",
        "header",
        "header",
        "header",
        "CONTEXT_ID",
        "contentType",
        "MediaType",
        "APPLICATION_JSON",
        "content",
        "objectMapper",
        "writeValueAsString",
        "request",
        "result",
        "andExpect",
        "MockMvcResultMatchers",
        "status",
        "isOk",
        "parentDocument",
        "mongoTemplate",
        "findById",
        "PARENT_COMPANY_NUMBER",
        "assertNotNull",
        "parentDocument",
        "assertNotNull",
        "parentDocument",
        "getDeltaAt",
        "assertEquals",
        "PARENT_SELF_LINK",
        "parentDocument",
        "getCompanyProfile",
        "getLinks",
        "getSelf",
        "assertNull",
        "parentDocument",
        "getCompanyProfile",
        "getLinks",
        "getUkEstablishments",
        "assertEquals",
        "OVERSEA_COMPANY_TYPE",
        "parentDocument",
        "getCompanyProfile",
        "getType",
        "assertEquals",
        "parentDocument",
        "getVersion",
        "Test",
        "setId",
        "PARENT_COMPANY_NUMBER",
        "setCompanyProfile",
        "makeFCPutRequest",
        "getData",
        "setDeltaAt",
        "LocalDateTime",
        "parse",
        "setHasMortgages",
        "version",
        "companyProfileRepository",
        "insert",
        "request",
        "makeBRPutRequest",
        "result",
        "mockMvc",
        "perform",
        "put",
        "PUT_ENDPOINT",
        "COMPANY_NUMBER",
        "header",
        "header",
        "header",
        "header",
        "CONTEXT_ID",
        "contentType",
        "MediaType",
        "APPLICATION_JSON",
        "content",
        "objectMapper",
        "writeValueAsString",
        "request",
        "result",
        "andExpect",
        "MockMvcResultMatchers",
        "status",
        "isOk",
        "parentDocument",
        "mongoTemplate",
        "findById",
        "PARENT_COMPANY_NUMBER",
        "assertNotNull",
        "parentDocument",
        "assertNotNull",
        "parentDocument",
        "getDeltaAt",
        "assertEquals",
        "PARENT_SELF_LINK",
        "parentDocument",
        "getCompanyProfile",
        "getLinks",
        "getSelf",
        "assertEquals",
        "UK_ESTABLISHMENT_LINK",
        "parentDocument",
        "getCompanyProfile",
        "getLinks",
        "getUkEstablishments",
        "assertEquals",
        "OVERSEA_COMPANY_TYPE",
        "parentDocument",
        "getCompanyProfile",
        "getType",
        "assertEquals",
        "parentDocument",
        "getVersion",
        "data",
        "branchCompanyDetails",
        "businessActivity",
        "parentCompanyName",
        "parentCompanyNumber",
        "PARENT_COMPANY_NUMBER",
        "companyName",
        "companyNumber",
        "companyStatus",
        "dateOfCreation",
        "LocalDate",
        "parse",
        "hasCharges",
        "links",
        "registeredOfficeAddress",
        "addressLine1",
        "locality",
        "postalCode",
        "region",
        "hasSuperSecurePscs",
        "hasMortgages",
        "parentCompanyNumber",
        "PARENT_COMPANY_NUMBER",
        "deltaAt",
        "data",
        "accounts",
        "makeAccounts",
        "companyName",
        "companyNumber",
        "companyStatus",
        "dateOfCreation",
        "LocalDate",
        "parse",
        "externalRegistrationNumber",
        "foreignCompanyDetails",
        "makeForeignCompanyDetails",
        "hasInsolvencyHistory",
        "links",
        "PARENT_SELF_LINK",
        "previousCompanyNames",
        "makePreviousCompanyNamesList",
        "registeredOfficeAddress",
        "addressLine1",
        "addressLine2",
        "country",
        "locality",
        "region",
        "registeredOfficeIsInDispute",
        "undeliverableRegisteredOfficeAddress",
        "hasSuperSecurePscs",
        "hasMortgages",
        "deltaAt",
        "accountingReferenceDate",
        "day",
        "month",
        "lastAccounts",
        "madeUpTo",
        "LocalDate",
        "parse",
        "periodEndOn",
        "LocalDate",
        "parse",
        "nextAccounts",
        "periodEndOn",
        "LocalDate",
        "parse",
        "nextMadeUpTo",
        "LocalDate",
        "parse",
        "accountingRequirement",
        "foreignAccountType",
        "termsOfAccountPublication",
        "businessActivity",
        "governedBy",
        "isACreditFinancialInstitution",
        "originatingRegistry",
        "country",
        "name",
        "registrationNumber",
        "legalForm",
        "Valid",
        "companyNames",
        "companyNames",
        "add",
        "name",
        "effectiveFrom",
        "LocalDate",
        "parse",
        "ceasedOn",
        "LocalDate",
        "parse",
        "companyNames"
    ],
    "literals": [
        "\"BR005209\"",
        "\"FC022112\"",
        "\"context_id\"",
        "\"/company/{company_number}/internal\"",
        "\"uk-establishment\"",
        "\"oversea-company\"",
        "\"/company/%s\"",
        "\"/company/%s\"",
        "\"/company/%s/uk-establishments\"",
        "\"mongo:5.0.12\"",
        "\"spring.data.mongodb.uri\"",
        "\"oldEtag\"",
        "\"ERIC-Identity\"",
        "\"123\"",
        "\"ERIC-Identity-Type\"",
        "\"key\"",
        "\"ERIC-Authorised-Key-Privileges\"",
        "\"internal-app\"",
        "\"x-request-id\"",
        "\"ERIC-Identity\"",
        "\"123\"",
        "\"ERIC-Identity-Type\"",
        "\"key\"",
        "\"ERIC-Authorised-Key-Privileges\"",
        "\"internal-app\"",
        "\"x-request-id\"",
        "\"ERIC-Identity\"",
        "\"123\"",
        "\"ERIC-Identity-Type\"",
        "\"key\"",
        "\"ERIC-Authorised-Key-Privileges\"",
        "\"internal-app\"",
        "\"x-request-id\"",
        "\"20250121064805856963\"",
        "\"ERIC-Identity\"",
        "\"123\"",
        "\"ERIC-Identity-Type\"",
        "\"key\"",
        "\"ERIC-Authorised-Key-Privileges\"",
        "\"internal-app\"",
        "\"x-request-id\"",
        "\"Custom Software Consulting, Research & Development\"",
        "\"PRECISE SOLUTION (CJR TEST1)\"",
        "\"PRECISE SOLUTION (CJR TEST1)\"",
        "\"BR005209\"",
        "\"open\"",
        "\"1999-10-11\"",
        "\"/company/BR005209\"",
        "\"Masters Lodge, Ste 3\"",
        "\"London\"",
        "\"E1 0BE\"",
        "\"Johnson Street\"",
        "\"uk-establishment\"",
        "\"20250121164805856963\"",
        "\"PRECISE SOLUTION (CJR TEST1)\"",
        "\"FC022112\"",
        "\"active\"",
        "\"1999-10-11\"",
        "\"21343-1995\"",
        "\"1905 South Eastern Avenue\"",
        "\"Las Vegas\"",
        "\"United States\"",
        "\"Nv 89104  Nevada\"",
        "\"Usa\"",
        "\"oversea-company\"",
        "\"20250121064805856963\"",
        "\"31\"",
        "\"12\"",
        "\"2013-12-31\"",
        "\"2013-12-31\"",
        "\"full\"",
        "\"2014-12-31\"",
        "\"2014-12-31\"",
        "\"accounting-requirements-of-originating-country-do-not-apply\"",
        "\"accounting-reference-date-allocated-by-companies-house\"",
        "\"Data Processing & Research\"",
        "\"Chapter 78 Of The State Of Nevada Revised Statutes\"",
        "\"UNITED STATES\"",
        "\"State Of Nevada Secretary Of State Office\"",
        "\"21343-1995\"",
        "\"Us Limited Liabioity \\\"C\\\" Corporation, Private Ownership\"",
        "\"PRECISE SOLUTION\"",
        "\"1999-11-02\"",
        "\"2025-01-16\""
    ],
    "variables": [
        "mongoTemplate",
        "companyProfileRepository",
        "objectMapper",
        "mockMvc",
        "companyProfileApiService"
    ],
    "comments": [
        "given",
        "when",
        "then",
        "given",
        "when",
        "then",
        "given",
        "when",
        "then",
        "given",
        "when",
        "then"
    ],
    "docstrings": [],
    "functions": [
        "start",
        "setup",
        "shouldPersistBaseParentFCCompanyProfileCorrectlyWhenBRDeltaReceivedOnPUTEndpoint",
        "shouldUpdateBaseFCCompanyProfileRegardlessOfDeltaAtTime",
        "shouldPersistFCCompanyProfileCorrectlyIfProcessedBeforeBCCompany",
        "shouldAddUKEstablishmentsLinkToFCCompanyIfBCDeltaProcessedSecond",
        "CompanyProfile",
        "makeBRPutRequest",
        "CompanyProfile",
        "makeFCPutRequest",
        "Accounts",
        "makeAccounts",
        "ForeignCompanyDetails",
        "makeForeignCompanyDetails",
        "makePreviousCompanyNamesList"
    ],
    "classes": [
        "CompanyProfilePUTE2EITest"
    ]
}