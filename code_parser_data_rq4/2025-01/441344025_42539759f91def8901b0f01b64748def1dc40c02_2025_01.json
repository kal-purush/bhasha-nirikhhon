{
    "identifiers": [
        "path",
        "LambdaRestApiProps",
        "RestApi",
        "AllowedMethods",
        "CachePolicy",
        "DistributionProps",
        "IOrigin",
        "OriginRequestPolicy",
        "OriginSslPolicy",
        "PriceClass",
        "ViewerProtocolPolicy",
        "FunctionCode",
        "FunctionEventType",
        "CfnDistribution",
        "Distribution",
        "FunctionRuntime",
        "IDistribution",
        "HttpOrigin",
        "NodejsFunction",
        "CfnLogGroup",
        "Aspects",
        "Aws",
        "CfnCondition",
        "Duration",
        "Fn",
        "Lazy",
        "CloudFrontToApiGatewayToLambda",
        "addCfnSuppressRules",
        "api",
        "ConditionAspect",
        "readFileSync",
        "BackEnd",
        "BackEndProps",
        "scope",
        "props",
        "RestApi",
        "scope",
        "Lazy",
        "imageHandlerCloudFrontApiGatewayLambda",
        "HttpOrigin",
        "apiGatewayRestApi",
        "Aws",
        "OriginSslPolicy",
        "OriginSslPolicy",
        "readFileSync",
        "path",
        "__dirname",
        "scope",
        "props",
        "FunctionCode",
        "inlineCloudFrontFunction",
        "FunctionRuntime",
        "Aspects",
        "requestModifierFunction",
        "ConditionAspect",
        "props",
        "AllowedMethods",
        "ViewerProtocolPolicy",
        "props",
        "props",
        "requestModifierFunction",
        "FunctionEventType",
        "props",
        "props",
        "Duration",
        "Duration",
        "Duration",
        "Duration",
        "Duration",
        "props",
        "api",
        "CloudFrontToApiGatewayToLambda",
        "scope",
        "props",
        "imageHandlerCloudFrontApiGatewayLambda",
        "Aspects",
        "imageHandlerCloudFrontApiGatewayLambda",
        "ConditionAspect",
        "props",
        "imageHandlerCloudFrontApiGatewayLambda",
        "imageHandlerCloudFrontApiGatewayLambda",
        "cfnDistribution",
        "props",
        "props",
        "Aspects",
        "cfnDistribution",
        "ConditionAspect",
        "CfnCondition",
        "scope",
        "Fn",
        "props",
        "Fn",
        "props",
        "imageHandlerCloudFrontApiGatewayLambda",
        "cfnLogGroup",
        "Fn",
        "props",
        "Aws",
        "props",
        "addCfnSuppressRules",
        "imageHandlerCloudFrontApiGatewayLambda",
        "imageHandlerCloudFrontApiGatewayLambda",
        "scope",
        "Fn",
        "props",
        "props",
        "imageHandlerCloudFrontApiGatewayLambda"
    ],
    "literals": [
        "\"path\"",
        "\"aws-cdk-lib/aws-apigateway\"",
        "\"aws-cdk-lib/aws-cloudfront\"",
        "\"aws-cdk-lib/aws-cloudfront-origins\"",
        "\"aws-cdk-lib/aws-lambda-nodejs\"",
        "\"aws-cdk-lib/aws-logs\"",
        "\"aws-cdk-lib\"",
        "\"@aws-solutions-constructs/aws-cloudfront-apigateway-lambda\"",
        "\"../../utils/utils\"",
        "\"aws-cdk-lib/aws-apigateway\"",
        "\"../../utils/aspects\"",
        "\"fs\"",
        "\"./back-end-construct\"",
        "\"ApiGatewayRestApi\"",
        "${apiGatewayRestApi.restApiId}.execute-api.${Aws.REGION}.amazonaws.com",
        "\"/image\"",
        "string",
        "\"../../../image-handler/cloudfront-function-handlers/apig-request-modifier.js\"",
        "\"utf-8\"",
        "\"\\n\"",
        "\"ApigRequestModifierFunction\"",
        "sih-apig-request-modifier-${props.uuid}",
        "\"\\n\"",
        "\"Image Handler Distribution for Dynamic Image Transformation for Amazon CloudFront\"",
        "\"api-cloudfront/\"",
        "\"image\"",
        "\"*/*\"",
        "\"ImageHandlerCloudFrontApiGatewayLambda\"",
        "\"Endpoint\"",
        "\"Properties.DistributionConfig.Origins.0.OriginShield\"",
        "\"Fn::If\"",
        "\"DeployAPIGDistribution\"",
        "\"Properties.RetentionInDays\"",
        "\"W59\"",
        "\"AWS::ApiGateway::Method AuthorizationType is set to 'NONE' because API Gateway behind CloudFront does not support AWS_IAM authentication\"",
        "\"Endpoint\""
    ],
    "variables": [
        "apiGatewayRestApi",
        "origin",
        "inlineCloudFrontFunction",
        "requestModifierFunction",
        "cloudFrontDistributionProps",
        "apiGatewayProps",
        "imageHandlerCloudFrontApiGatewayLambda",
        "cfnDistribution",
        "cfnLogGroup"
    ],
    "comments": [
        "Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.",
        "SPDX-License-Identifier: Apache-2.0",
        "Slice off the last line since CloudFront functions can't have module exports but we need to export the handler to unit test it.",
        "we don't need the RestApi endpoint in the outputs",
        "Access the underlying CfnLogGroup to add conditions",
        "we don't need the RestApi endpoint in the outputs"
    ],
    "docstrings": [],
    "functions": [],
    "classes": [
        "ApiGatewayArchitecture"
    ]
}