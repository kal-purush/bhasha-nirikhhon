{
    "identifiers": [
        "numpy",
        "np",
        "pandas",
        "pd",
        "matplotlib",
        "pyplot",
        "plt",
        "docopt",
        "docopt",
        "os",
        "dataframe_image",
        "dfi",
        "sklearn",
        "model_selection",
        "train_test_split",
        "sklearn",
        "ensemble",
        "GradientBoostingRegressor",
        "RandomForestRegressor",
        "lightgbm",
        "sklearn",
        "LGBMRegressor",
        "xgboost",
        "XGBRegressor",
        "sklearn",
        "pipeline",
        "make_pipeline",
        "preprocessor",
        "preprocessor",
        "shap",
        "docopt",
        "__doc__",
        "output_dir",
        "input_file_path",
        "pd",
        "read_csv",
        "input_file_path",
        "low_memory",
        "train_test_split",
        "prep_feat_df",
        "test_size",
        "random_state",
        "train_df",
        "drop",
        "columns",
        "train_df",
        "test_df",
        "drop",
        "columns",
        "test_df",
        "np",
        "log10",
        "y_train_untrans",
        "np",
        "log10",
        "y_test_untrans",
        "LGBMRegressor",
        "random_state",
        "make_pipeline",
        "preprocessor",
        "lgbm_model",
        "lgbm_pipeline",
        "fit",
        "X_train",
        "y_train",
        "XGBRegressor",
        "random_state",
        "make_pipeline",
        "preprocessor",
        "xgb_model",
        "xgb_pipeline",
        "fit",
        "X_train",
        "y_train",
        "lgbm_pipeline",
        "named_steps",
        "transformer_stage",
        "named_transformers_",
        "get_feature_names_out",
        "transformer_stage",
        "named_transformers_",
        "get_feature_names_out",
        "transformer_stage",
        "named_transformers_",
        "get_feature_names_out",
        "transformer_stage",
        "named_transformers_",
        "named_steps",
        "get_feature_names_out",
        "transformer_stage",
        "named_transformers_",
        "get_feature_names_out",
        "categorical_features_trans",
        "tolist",
        "binary_features_trans",
        "tolist",
        "ordinal_features_trans",
        "tolist",
        "numerical_features_trans",
        "tolist",
        "countvec_features_trans_amen",
        "tolist",
        "pd",
        "DataFrame",
        "data",
        "preprocessor",
        "fit_transform",
        "X_train",
        "toarray",
        "columns",
        "features_transformed",
        "index",
        "X_train",
        "index",
        "shap",
        "Explainer",
        "lgbm_pipeline",
        "named_steps",
        "lgbm_explainer",
        "X_train_enc",
        "plt",
        "gcf",
        "shap",
        "summary_plot",
        "lgbm_shap_values",
        "X_train_enc",
        "max_display",
        "show",
        "output_dir",
        "fig_shap",
        "savefig",
        "output_shap_sum_plt",
        "os",
        "makedirs",
        "os",
        "path",
        "dirname",
        "output_shap_sum_plt",
        "fig_shap",
        "savefig",
        "output_shap_sum_plt",
        "main",
        "opt",
        "opt"
    ],
    "literals": [
        "'reviews_per_month'",
        "'reviews_per_month'",
        "'reviews_per_month'",
        "'reviews_per_month'",
        "'columntransformer'",
        "'onehotencoder-1'",
        "'onehotencoder-2'",
        "'ordinalencoder'",
        "'pipeline'",
        "'polynomialfeatures'",
        "'countvectorizer'",
        "'lgbmregressor'",
        "'/08_shap_sum_plt.png'",
        "\"__main__\"",
        "\"--output_dir\"",
        "\"--input_file_path\""
    ],
    "variables": [
        "opt",
        "prep_feat_df",
        "train_df",
        "test_df",
        "X_train",
        "y_train_untrans",
        "X_test",
        "y_test_untrans",
        "y_train",
        "y_test",
        "lgbm_model",
        "lgbm_pipeline",
        "xgb_model",
        "xgb_pipeline",
        "transformer_stage",
        "categorical_features_trans",
        "binary_features_trans",
        "ordinal_features_trans",
        "numerical_features_trans",
        "countvec_features_trans_amen",
        "features_transformed",
        "X_train_enc",
        "lgbm_explainer",
        "lgbm_shap_values",
        "fig_shap",
        "output_shap_sum_plt"
    ],
    "comments": [
        "author: Mohammad Reza Nabizadeh",
        "date: 2023-01-08",
        "Import dependencies",
        "Read the preprocessed file",
        "Split the file for training and testing the model",
        "Form the X and y of the training and test dataframes",
        "Transform the target column",
        "LGBM model",
        "XGB model",
        "Get the list of trnsformed columns for geting the feature importances",
        "From the transformed X_train for SHAP explainer",
        "SHAP explainer for LGBM model",
        "Save the results"
    ],
    "docstrings": [
        "\"\"\"\n\nThis script runs the a set of ensemble models and \nreport the model scores. The models are Random Forest Regressor,\nGradient Boosting Regressor, LGBM Regressor and XGB Regressor. Besides running\nthe models, it also runs SHAP feature importance model to help the models \ninterpretability.\n\nUsage: shap_feat_importances.py --output_dir=<output_dir> --input_file_path=<input_file_path>\n \nOptions:\n--output_dir=<output_dir>\nPath to folder where the baseline model results (R2 and Neg Root Mean Squared \nError will be saved, `in quotes.\n\n--input_file_path=<input_file_path>\nPath to folder and file name where the preprocessed file with engineered\nfeatures is stored, including the name, `in quotes.\n\n\"\"\""
    ],
    "functions": [
        "main"
    ],
    "classes": []
}