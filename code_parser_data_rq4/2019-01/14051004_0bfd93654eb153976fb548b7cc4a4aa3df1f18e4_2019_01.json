{
    "identifiers": [
        "edu",
        "harvard",
        "iq",
        "dataverse",
        "makedatacount",
        "edu",
        "harvard",
        "iq",
        "dataverse",
        "DataFile",
        "edu",
        "harvard",
        "iq",
        "dataverse",
        "DatasetVersion",
        "edu",
        "harvard",
        "iq",
        "dataverse",
        "DataverseRequestServiceBean",
        "edu",
        "harvard",
        "iq",
        "dataverse",
        "batch",
        "util",
        "LoggingUtil",
        "edu",
        "harvard",
        "iq",
        "dataverse",
        "makedatacount",
        "MakeDataCountUtil",
        "LOG_HEADER",
        "edu",
        "harvard",
        "iq",
        "dataverse",
        "util",
        "SystemConfig",
        "java",
        "sql",
        "Timestamp",
        "java",
        "text",
        "SimpleDateFormat",
        "java",
        "util",
        "java",
        "util",
        "TimeZone",
        "javax",
        "ejb",
        "EJB",
        "javax",
        "enterprise",
        "context",
        "RequestScoped",
        "javax",
        "faces",
        "context",
        "FacesContext",
        "javax",
        "inject",
        "Named",
        "javax",
        "servlet",
        "http",
        "HttpServletRequest",
        "javax",
        "servlet",
        "http",
        "HttpSession",
        "Named",
        "RequestScoped",
        "EJB",
        "systemConfig",
        "entry",
        "systemConfig",
        "getMDCLogPath",
        "LoggingUtil",
        "saveLogFile",
        "entry",
        "toString",
        "systemConfig",
        "getMDCLogPath",
        "format",
        "getTime",
        "LOG_HEADER",
        "eventTime",
        "clientIp",
        "sessionCookieId",
        "userCookieId",
        "userId",
        "requestUrl",
        "identifier",
        "filename",
        "size",
        "userAgent",
        "title",
        "publisher",
        "publisherId",
        "authors",
        "publicationDate",
        "version",
        "otherId",
        "targetUrl",
        "publicationYear",
        "fc",
        "dvRequestService",
        "publishedVersion",
        "fc",
        "req",
        "fc",
        "getExternalContext",
        "getRequest",
        "setRequestUrl",
        "valueOf",
        "req",
        "getRequestURL",
        "append",
        "append",
        "req",
        "getQueryString",
        "setTargetUrl",
        "valueOf",
        "req",
        "getRequestURL",
        "append",
        "append",
        "req",
        "getQueryString",
        "setUserAgent",
        "req",
        "getHeader",
        "session",
        "fc",
        "getExternalContext",
        "getSession",
        "setSessionCookieId",
        "session",
        "getId",
        "publishedVersion",
        "setIdentifier",
        "publishedVersion",
        "getDataset",
        "getGlobalId",
        "asString",
        "setAuthors",
        "publishedVersion",
        "getAuthorsStr",
        "replace",
        "setPublisherId",
        "setTitle",
        "publishedVersion",
        "getTitle",
        "setVersion",
        "valueOf",
        "publishedVersion",
        "getVersionNumber",
        "setPublicationYear",
        "format",
        "publishedVersion",
        "getReleaseTime",
        "format",
        "format",
        "setTimeZone",
        "TimeZone",
        "getTimeZone",
        "setPublicationDate",
        "format",
        "format",
        "publishedVersion",
        "getReleaseTime",
        "dvRequestService",
        "setClientIp",
        "valueOf",
        "dvRequestService",
        "getDataverseRequest",
        "getSourceAddress",
        "setUserId",
        "dvRequestService",
        "getDataverseRequest",
        "getUser",
        "getIdentifier",
        "setEventTime",
        "format",
        "getTime",
        "fc",
        "dvRequestService",
        "publishedVersion",
        "df",
        "fc",
        "dvRequestService",
        "publishedVersion",
        "setFilename",
        "df",
        "getStorageIdentifier",
        "setSize",
        "valueOf",
        "df",
        "getFilesize",
        "fc",
        "dvRequestService",
        "df",
        "fc",
        "dvRequestService",
        "df",
        "getLatestPublishedFileMetadata",
        "getDatasetVersion",
        "setFilename",
        "df",
        "getStorageIdentifier",
        "setSize",
        "valueOf",
        "df",
        "getFilesize",
        "Override",
        "getEventTime",
        "getClientIp",
        "getSessionCookieId",
        "getUserCookieId",
        "getUserId",
        "getRequestUrl",
        "getIdentifier",
        "getFilename",
        "getSize",
        "getUserAgent",
        "getTitle",
        "getPublisher",
        "getPublisherId",
        "getAuthors",
        "getPublicationDate",
        "getVersion",
        "getOtherId",
        "getTargetUrl",
        "getPublicationYear",
        "eventTime",
        "eventTime",
        "eventTime",
        "eventTime",
        "eventTime",
        "clientIp",
        "clientIp",
        "clientIp",
        "clientIp",
        "clientIp",
        "sessionCookieId",
        "sessionCookieId",
        "sessionCookieId",
        "sessionCookieId",
        "sessionCookieId",
        "userCookieId",
        "userCookieId",
        "uesrCookieId",
        "userCookieId",
        "uesrCookieId",
        "userId",
        "userId",
        "userId",
        "userId",
        "userId",
        "requestUrl",
        "requestUrl",
        "requestUrl",
        "requestUrl",
        "requestUrl",
        "identifier",
        "identifier",
        "identifier",
        "identifier",
        "identifier",
        "filename",
        "filename",
        "filename",
        "filename",
        "filename",
        "size",
        "size",
        "size",
        "size",
        "size",
        "userAgent",
        "userAgent",
        "userAgent",
        "userAgent",
        "userAgent",
        "title",
        "title",
        "title",
        "title",
        "title",
        "publisher",
        "publisher",
        "publisher",
        "publisher",
        "publisher",
        "publisherId",
        "publisherId",
        "publisherId",
        "publisherId",
        "publisherId",
        "authors",
        "authors",
        "authors",
        "authors",
        "authors",
        "publicationDate",
        "publicationDate",
        "publicationDate",
        "publicationDate",
        "publicationDate",
        "version",
        "version",
        "version",
        "version",
        "version",
        "otherId",
        "otherId",
        "otherId",
        "otherId",
        "otherId",
        "targetUrl",
        "targetUrl",
        "targetUrl",
        "targetUrl",
        "targetUrl",
        "publicationYear",
        "publicationYear",
        "publicationYear",
        "publicationYear",
        "publicationYear"
    ],
    "literals": [
        "\"raw-mdc-\"",
        "\"yyyy-MM-dd\"",
        "\".log\"",
        "\"?\"",
        "\"?\"",
        "\"user-agent\"",
        "\";\"",
        "\"|\"",
        "\"1\"",
        "\"yyyy\"",
        "\"yyyy-MM-dd'T'HH:mm:ss'Z'\"",
        "\"GMT\"",
        "\"yyyy-MM-dd'T'HH:mm:ssZ\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\t\"",
        "\"\\n\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\"",
        "\"-\""
    ],
    "variables": [
        "systemConfig",
        "eventTime",
        "clientIp",
        "sessionCookieId",
        "userCookieId",
        "userId",
        "requestUrl",
        "identifier",
        "filename",
        "size",
        "userAgent",
        "title",
        "publisher",
        "publisherId",
        "authors",
        "publicationDate",
        "version",
        "otherId",
        "targetUrl",
        "publicationYear"
    ],
    "comments": [
        "MAD: Should probably add another check on only logging if certain entries exist.",
        "Especially with my entry constructor allowing entries with no workingVersion",
        "MAD: The logDir may need to be configurable?",
        "MAD: Also the file name?",
        "setPublisher(publishedVersion.getRootDataverseNameforCitation());",
        "This is a hack to make sure counter-processer processes this",
        "setOtherId();",
        "setPublisherId();",
        "This version of the constructor is for the downloads tracked in FileDownloadServiceBean",
        "Technically you should be able to get to publishedVersion via the data file, but guestbook's datafile doesn't have that info",
        "This is passed a DataFile to log the file downloaded",
        "Passing null to the base constructor creates an entry without most of the data",
        "which we then prune out before logging.",
        "fileMetadata is 0 in some cases...",
        "Need to probably be massaged into a better format",
        "Exception thrown if no published metadata exists for DataFile",
        "This is passed a DataFile to log the file downloaded",
        "Passing null to the base constructor creates an entry without most of the data",
        "which we then prune out before logging.",
        "fileMetadata is 0 in some cases...",
        "Need to probably be massaged into a better format",
        "MAD: FileMetadata from FileDownloadServiceBean is often null so I don't know if this is the best path",
        "It seemed maybe nessecary when trying to get the filename but it looks like Make Data Count never uses this anyways",
        "public MakeDataCountEntry(FacesContext fc, DataverseRequestServiceBean dvRequestService, FileMetadata fm) {",
        "this(fc, dvRequestService, fm.getDatasetVersion());",
        "",
        "//setFilename(fm.getLabel()); //This is disabled as getting the filename is painful and it seems Make Data Count doesn't use this at all -MAD 4.10",
        "setSize(String.valueOf(fm.getDataFile().getFilesize())); //Need to probably be massaged into a better format",
        "}"
    ],
    "docstrings": [
        "* To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.",
        "*\n * @author matthew",
        "Still needed:",
        "* @return the eventTime",
        "* @param eventTime the eventTime to set",
        "* @return the clientIp",
        "* @param clientIp the clientIp to set",
        "* @return the sessionCookieId",
        "* @param sessionCookieId the sessionCookieId to set",
        "* @return the uesrCookieId",
        "* @param uesrCookieId the uesrCookieId to set",
        "* @return the userId",
        "* @param userId the userId to set",
        "* @return the requestUrl",
        "* @param requestUrl the requestUrl to set",
        "* @return the identifier",
        "* @param identifier the identifier to set",
        "* @return the filename",
        "* @param filename the filename to set",
        "* @return the size",
        "* @param size the size to set",
        "* @return the userAgent",
        "* @param userAgent the userAgent to set",
        "* @return the title",
        "* @param title the title to set",
        "* @return the publisher",
        "* @param publisher the publisher to set",
        "* @return the publisherId",
        "* @param publisherId the publisherId to set",
        "* @return the authors",
        "* @param authors the authors to set",
        "* @return the publicationDate",
        "* @param publicationDate the publicationDate to set",
        "* @return the version",
        "* @param version the version to set",
        "* @return the otherId",
        "* @param otherId the otherId to set",
        "* @return the targetUrl",
        "* @param targetUrl the targetUrl to set",
        "* @return the publicationYear",
        "* @param publicationYear the publicationYear to set"
    ],
    "functions": [
        "logEntry",
        "MakeDataCountEntry",
        "MakeDataCountEntry",
        "MakeDataCountEntry",
        "MakeDataCountEntry",
        "toString",
        "getEventTime",
        "setEventTime",
        "getClientIp",
        "setClientIp",
        "getSessionCookieId",
        "setSessionCookieId",
        "getUserCookieId",
        "setUserCookieId",
        "getUserId",
        "setUserId",
        "getRequestUrl",
        "setRequestUrl",
        "getIdentifier",
        "setIdentifier",
        "getFilename",
        "setFilename",
        "getSize",
        "setSize",
        "getUserAgent",
        "setUserAgent",
        "getTitle",
        "setTitle",
        "getPublisher",
        "setPublisher",
        "getPublisherId",
        "setPublisherId",
        "getAuthors",
        "setAuthors",
        "getPublicationDate",
        "setPublicationDate",
        "getVersion",
        "setVersion",
        "getOtherId",
        "setOtherId",
        "getTargetUrl",
        "setTargetUrl",
        "getPublicationYear",
        "setPublicationYear"
    ],
    "classes": [
        "MakeDataCountLoggingServiceBean",
        "MakeDataCountEntry"
    ]
}