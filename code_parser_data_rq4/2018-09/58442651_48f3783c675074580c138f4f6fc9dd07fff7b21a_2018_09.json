{
    "identifiers": [
        "sys",
        "re",
        "logging",
        "argparse",
        "pprint",
        "logging",
        "handlers",
        "subprocess",
        "check_output",
        "STDOUT",
        "CalledProcessError",
        "call",
        "logging",
        "Logger",
        "log",
        "setLevel",
        "logging",
        "INFO",
        "logging",
        "StreamHandler",
        "sys",
        "stdout",
        "handler",
        "setLevel",
        "logging",
        "DEBUG",
        "handler",
        "setFormatter",
        "logging",
        "Formatter",
        "handlers",
        "RotatingFileHandler",
        "LOGFILE",
        "fileHandler",
        "setLevel",
        "logging",
        "DEBUG",
        "fileHandler",
        "setFormatter",
        "logging",
        "Formatter",
        "log",
        "addHandler",
        "handler",
        "log",
        "addHandler",
        "fileHandler",
        "re",
        "compile",
        "re",
        "compile",
        "check_output",
        "cmd",
        "stderr",
        "STDOUT",
        "shell",
        "CalledProcessError",
        "e",
        "log",
        "error",
        "cmd",
        "e",
        "all_images",
        "output",
        "splitlines",
        "image",
        "images_list",
        "image",
        "split",
        "all_images",
        "setdefault",
        "image_name",
        "release",
        "meta",
        "release_reg",
        "match",
        "tag",
        "res",
        "all_images",
        "image_name",
        "append",
        "format",
        "image_name",
        "tag",
        "meta_reg",
        "match",
        "tag",
        "res",
        "all_images",
        "image_name",
        "append",
        "format",
        "image_name",
        "tag",
        "all_images",
        "images_list",
        "keep_num",
        "images_list",
        "sorted",
        "images_list",
        "key",
        "f",
        "f",
        "split",
        "split",
        "reverse",
        "sort_images",
        "keep_num",
        "log",
        "debug",
        "pprint",
        "pformat",
        "delete_images",
        "image",
        "delete_images",
        "log",
        "debug",
        "image",
        "call",
        "image",
        "ret",
        "log",
        "error",
        "image",
        "argparse",
        "ArgumentParser",
        "description",
        "parser",
        "add_argument",
        "dest",
        "action",
        "help",
        "parser",
        "add_argument",
        "dest",
        "nargs",
        "parser",
        "parse_args",
        "log",
        "info",
        "args",
        "args",
        "debug",
        "log",
        "setLevel",
        "logging",
        "DEBUG",
        "get_images",
        "image_name",
        "tags",
        "all_images",
        "iteritems",
        "log",
        "info",
        "image_name",
        "remove_images",
        "tags",
        "args",
        "keep_num",
        "log",
        "info",
        "image_name",
        "remove_images",
        "tags",
        "args",
        "keep_num"
    ],
    "literals": [
        "'/var/log/clean_lainnode_images.log'",
        "\"[%(levelname)s] %(asctime)s,%(lineno)4d, %(funcName)s : %(message)s\"",
        "'%Y-%m-%d %H:%M:%S'",
        "'a'",
        "\"[%(levelname)s] %(asctime)s,%(lineno)4d, %(funcName)s : %(message)s\"",
        "'%Y-%m-%d %H:%M:%S'",
        "r'release-(\\d+)-'",
        "r'meta-(\\d+)-'",
        "\"docker images --format {{.Repository}},{{.Tag}}  --no-trunc\"",
        "\"Exceptions when run cmd:%s, error: %s\"",
        "','",
        "\"release\"",
        "'{}:{}'",
        "'meta'",
        "'{}:{}'",
        "':'",
        "\"-\"",
        "\"To delete: %s\"",
        "\"Start to rm tag: %s\"",
        "'docker'",
        "'rmi'",
        "\"Remove image failed: %s\"",
        "\"__main__\"",
        "\"Clean docker images and keep several latest tags\"",
        "\"--debug\"",
        "\"debug\"",
        "\"store_true\"",
        "\"Run in debug mode\"",
        "\"--keep-num\"",
        "\"keep_num\"",
        "'?'",
        "\"Start to remove release tags in image: %s\"",
        "\"release\"",
        "\"Start to remove meta tags in image: %s\"",
        "'meta'"
    ],
    "variables": [
        "LOGFILE",
        "log",
        "handler",
        "fileHandler",
        "release_reg",
        "meta_reg",
        "all_images",
        "cmd",
        "output",
        "images_list",
        "image_name",
        "tag",
        "res",
        "res",
        "sort_images",
        "delete_images",
        "ret",
        "parser",
        "args",
        "all_images"
    ],
    "comments": [
        "!/usr/bin/env python",
        "-*- coding: utf-8 -*-"
    ],
    "docstrings": [
        "\"\"\"\n File Name: clean_lainnode_image.py\n Author: longhui\n Created Time: 2018-09-20 11:00:50\n Descripthion: This script is used to clean the docker images on lain node, and keep several latest\n\"\"\"",
        "\"\"\"\n    return a dict with its value as {'release':[],'meta':[]}\n    :return:\n    \"\"\"",
        "\"\"\"\n    :param images_list: images list to delete\n    :param keep_num: the num to keep for latest tags\n    :return: None\n    \"\"\""
    ],
    "functions": [
        "get_images",
        "remove_images"
    ],
    "classes": []
}