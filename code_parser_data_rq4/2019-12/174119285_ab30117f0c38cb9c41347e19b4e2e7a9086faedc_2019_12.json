{
    "identifiers": [
        "pickle",
        "os",
        "collections",
        "numpy",
        "np",
        "math",
        "encoder_decoder_c4",
        "ed",
        "connect_board",
        "board",
        "c_board",
        "copy",
        "torch",
        "torch",
        "multiprocessing",
        "mp",
        "alpha_net_c4",
        "ConnectNet",
        "datetime",
        "logging",
        "tqdm",
        "tqdm",
        "logging",
        "basicConfig",
        "format",
        "datefmt",
        "level",
        "logging",
        "INFO",
        "logging",
        "getLogger",
        "filename",
        "data",
        "os",
        "path",
        "join",
        "filename",
        "open",
        "completeName",
        "output",
        "pickle",
        "dump",
        "data",
        "output",
        "filename",
        "os",
        "path",
        "join",
        "filename",
        "open",
        "completeName",
        "pkl_file",
        "pickle",
        "load",
        "pkl_file",
        "data",
        "game",
        "move",
        "parent",
        "game",
        "move",
        "parent",
        "np",
        "zeros",
        "dtype",
        "np",
        "float32",
        "np",
        "zeros",
        "dtype",
        "np",
        "float32",
        "np",
        "zeros",
        "dtype",
        "np",
        "float32",
        "property",
        "parent",
        "child_number_visits",
        "move",
        "number_visits",
        "setter",
        "value",
        "parent",
        "child_number_visits",
        "move",
        "value",
        "property",
        "parent",
        "child_total_value",
        "move",
        "total_value",
        "setter",
        "value",
        "parent",
        "child_total_value",
        "move",
        "value",
        "child_total_value",
        "child_number_visits",
        "math",
        "sqrt",
        "number_visits",
        "abs",
        "child_priors",
        "child_number_visits",
        "action_idxes",
        "child_Q",
        "child_U",
        "action_idxes",
        "np",
        "argmax",
        "bestmove",
        "action_idxes",
        "np",
        "argmax",
        "child_Q",
        "child_U",
        "bestmove",
        "current",
        "is_expanded",
        "current",
        "best_child",
        "current",
        "maybe_add_child",
        "best_move",
        "current",
        "action_idxs",
        "child_priors",
        "child_priors",
        "action_idxs",
        "valid_child_priors",
        "np",
        "random",
        "dirichlet",
        "np",
        "zeros",
        "len",
        "valid_child_priors",
        "dtype",
        "np",
        "float32",
        "valid_child_priors",
        "child_priors",
        "child_priors",
        "game",
        "actions",
        "child_priors",
        "action_idxs",
        "action_idxs",
        "i",
        "i",
        "len",
        "child_priors",
        "i",
        "action_idxs",
        "parent",
        "parent",
        "add_dirichlet_noise",
        "action_idxs",
        "c_p",
        "c_p",
        "board",
        "move",
        "board",
        "drop_piece",
        "move",
        "board",
        "move",
        "move",
        "children",
        "copy",
        "deepcopy",
        "game",
        "decode_n_move_pieces",
        "copy_board",
        "move",
        "children",
        "UCTNode",
        "copy_board",
        "move",
        "parent",
        "children",
        "move",
        "value_estimate",
        "current",
        "parent",
        "current",
        "number_visits",
        "current",
        "game",
        "player",
        "current",
        "total_value",
        "value_estimate",
        "current",
        "game",
        "player",
        "current",
        "total_value",
        "value_estimate",
        "current",
        "parent",
        "collections",
        "defaultdict",
        "collections",
        "defaultdict",
        "game_state",
        "num_reads",
        "net",
        "temp",
        "UCTNode",
        "game_state",
        "move",
        "parent",
        "DummyNode",
        "i",
        "num_reads",
        "root",
        "select_leaf",
        "ed",
        "encode_board",
        "leaf",
        "game",
        "encoded_s",
        "transpose",
        "torch",
        "from_numpy",
        "encoded_s",
        "cuda",
        "net",
        "encoded_s",
        "child_priors",
        "detach",
        "cpu",
        "numpy",
        "reshape",
        "value_estimate",
        "item",
        "leaf",
        "game",
        "check_winner",
        "leaf",
        "game",
        "actions",
        "leaf",
        "backup",
        "value_estimate",
        "leaf",
        "expand",
        "child_priors",
        "leaf",
        "backup",
        "value_estimate",
        "root",
        "board",
        "move",
        "board",
        "drop_piece",
        "move",
        "board",
        "root",
        "temp",
        "root",
        "child_number_visits",
        "temp",
        "sum",
        "root",
        "child_number_visits",
        "temp",
        "connectnet",
        "num_games",
        "start_idx",
        "cpu",
        "args",
        "iteration",
        "logger",
        "info",
        "cpu",
        "os",
        "path",
        "isdir",
        "iteration",
        "os",
        "mkdir",
        "iteration",
        "idxx",
        "tqdm",
        "start_idx",
        "num_games",
        "logger",
        "info",
        "cpu",
        "idxx",
        "c_board",
        "checkmate",
        "current_board",
        "actions",
        "move_count",
        "args",
        "temperature_MCTS",
        "states",
        "append",
        "copy",
        "deepcopy",
        "current_board",
        "current_board",
        "copy",
        "deepcopy",
        "ed",
        "encode_board",
        "current_board",
        "UCT_search",
        "current_board",
        "connectnet",
        "t",
        "get_policy",
        "root",
        "t",
        "cpu",
        "idxx",
        "policy",
        "do_decode_n_move_pieces",
        "current_board",
        "np",
        "random",
        "choice",
        "np",
        "array",
        "p",
        "policy",
        "dataset",
        "append",
        "board_state",
        "policy",
        "cpu",
        "idxx",
        "current_board",
        "current_board",
        "current_board",
        "player",
        "current_board",
        "check_winner",
        "current_board",
        "player",
        "current_board",
        "player",
        "move_count",
        "idx",
        "data",
        "dataset",
        "data",
        "idx",
        "dataset_p",
        "append",
        "s",
        "p",
        "dataset_p",
        "append",
        "s",
        "p",
        "value",
        "dataset",
        "save_as_pickle",
        "iteration",
        "iteration",
        "cpu",
        "idxx",
        "datetime",
        "datetime",
        "today",
        "strftime",
        "dataset_p",
        "args",
        "start_idx",
        "iteration",
        "args",
        "neural_net_name",
        "iteration",
        "ConnectNet",
        "torch",
        "cuda",
        "is_available",
        "cuda",
        "net",
        "cuda",
        "args",
        "MCTS_num_processes",
        "logger",
        "info",
        "mp",
        "set_start_method",
        "force",
        "net",
        "share_memory",
        "net",
        "eval",
        "os",
        "path",
        "join",
        "net_to_play",
        "os",
        "path",
        "isfile",
        "current_net_filename",
        "torch",
        "load",
        "current_net_filename",
        "net",
        "load_state_dict",
        "checkpoint",
        "logger",
        "info",
        "current_net_filename",
        "torch",
        "save",
        "net",
        "state_dict",
        "os",
        "path",
        "join",
        "net_to_play",
        "logger",
        "info",
        "args",
        "MCTS_num_processes",
        "mp",
        "cpu_count",
        "mp",
        "cpu_count",
        "logger",
        "info",
        "num_processes",
        "args",
        "MCTS_num_processes",
        "logger",
        "info",
        "num_processes",
        "torch",
        "no_grad",
        "i",
        "num_processes",
        "mp",
        "Process",
        "target",
        "MCTS_self_play",
        "args",
        "net",
        "args",
        "num_games_per_MCTS_process",
        "start_idx",
        "i",
        "args",
        "iteration",
        "p",
        "start",
        "processes",
        "append",
        "p",
        "p",
        "processes",
        "p",
        "join",
        "logger",
        "info",
        "args",
        "MCTS_num_processes",
        "logger",
        "info",
        "net",
        "eval",
        "os",
        "path",
        "join",
        "net_to_play",
        "os",
        "path",
        "isfile",
        "current_net_filename",
        "torch",
        "load",
        "current_net_filename",
        "net",
        "load_state_dict",
        "checkpoint",
        "logger",
        "info",
        "current_net_filename",
        "torch",
        "save",
        "net",
        "state_dict",
        "os",
        "path",
        "join",
        "net_to_play",
        "logger",
        "info",
        "torch",
        "no_grad",
        "MCTS_self_play",
        "net",
        "args",
        "num_games_per_MCTS_process",
        "start_idx",
        "args",
        "iteration",
        "logger",
        "info"
    ],
    "literals": [
        "'%(asctime)s [%(levelname)s]: %(message)s'",
        "'%m/%d/%Y %I:%M:%S %p'",
        "\"./datasets/\"",
        "'wb'",
        "\"./datasets/\"",
        "'rb'",
        "\"[CPU: %d]: Starting MCTS self-play...\"",
        "\"./datasets/iter_%d\"",
        "\"./datasets/iter_%d\"",
        "\"[CPU: %d]: Game %d\"",
        "\"[CPU: %d]: Game %d POLICY:\\n \"",
        "\"[CPU: %d]: Game %d CURRENT BOARD:\\n\"",
        "\" \"",
        "\"iter_%d/\"",
        "\"dataset_iter%d_cpu%i_%i_%s\"",
        "\"%Y-%m-%d\"",
        "\"%s_iter%d.pth.tar\"",
        "\"Preparing model for multi-process MCTS...\"",
        "\"spawn\"",
        "\"./model_data/\"",
        "'state_dict'",
        "\"Loaded %s model.\"",
        "'state_dict'",
        "\"./model_data/\"",
        "\"Initialized model.\"",
        "\"Required number of processes exceed number of CPUs! Setting MCTS_num_processes to %d\"",
        "\"Spawning %d processes...\"",
        "\"Finished multi-process MCTS!\"",
        "\"Preparing model for MCTS...\"",
        "\"./model_data/\"",
        "'state_dict'",
        "\"Loaded %s model.\"",
        "'state_dict'",
        "\"./model_data/\"",
        "\"Initialized model.\"",
        "\"Finished MCTS!\""
    ],
    "variables": [
        "logger",
        "completeName",
        "completeName",
        "data",
        "game",
        "move",
        "is_expanded",
        "parent",
        "children",
        "child_priors",
        "child_total_value",
        "child_number_visits",
        "action_idxes",
        "bestmove",
        "bestmove",
        "bestmove",
        "current",
        "best_move",
        "current",
        "valid_child_priors",
        "valid_child_priors",
        "child_priors",
        "action_idxs",
        "is_expanded",
        "action_idxs",
        "c_p",
        "is_expanded",
        "action_idxes",
        "c_p",
        "c_p",
        "child_priors",
        "copy_board",
        "copy_board",
        "move",
        "current",
        "current",
        "parent",
        "child_total_value",
        "child_number_visits",
        "root",
        "leaf",
        "encoded_s",
        "encoded_s",
        "encoded_s",
        "child_priors",
        "value_estimate",
        "child_priors",
        "value_estimate",
        "current_board",
        "checkmate",
        "dataset",
        "states",
        "value",
        "move_count",
        "t",
        "t",
        "board_state",
        "root",
        "policy",
        "current_board",
        "value",
        "value",
        "checkmate",
        "dataset_p",
        "s",
        "p",
        "net_to_play",
        "net",
        "cuda",
        "current_net_filename",
        "checkpoint",
        "processes",
        "num_processes",
        "num_processes",
        "p",
        "current_net_filename",
        "checkpoint"
    ],
    "comments": [
        "!/usr/bin/env python",
        "state s",
        "action index",
        "select only legal moves entries in child_priors array",
        "mask all illegal actions",
        "add dirichlet noise to child_priors in root node",
        "make copy of board",
        "same as current.parent.game.player = 0",
        "value estimate +1 = O wins",
        "same as current.parent.game.player = 1",
        "if somebody won or draw",
        "need to make sure valid moves",
        "policy = np.zeros([7], dtype=np.float32)",
        "for idx in np.where(root.child_number_visits!=0)[0]:",
        "policy[idx] = ((root.child_number_visits[idx])**(1/temp))/sum(root.child_number_visits**(1/temp))",
        "to get state, policy, value for neural network training",
        "decode move and move piece(s)",
        "if somebody won",
        "black wins",
        "white wins"
    ],
    "docstrings": [],
    "functions": [
        "save_as_pickle",
        "load_pickle",
        "number_visits",
        "number_visits",
        "total_value",
        "total_value",
        "child_Q",
        "child_U",
        "best_child",
        "select_leaf",
        "add_dirichlet_noise",
        "expand",
        "decode_n_move_pieces",
        "maybe_add_child",
        "backup",
        "UCT_search",
        "do_decode_n_move_pieces",
        "get_policy",
        "MCTS_self_play",
        "run_MCTS"
    ],
    "classes": [
        "UCTNode",
        "DummyNode"
    ]
}