{
    "identifiers": [
        "Collections",
        "Generic",
        "Data",
        "SqlClient",
        "Globalization",
        "IO",
        "Linq",
        "Net",
        "Threading",
        "Tasks",
        "CsvHelper",
        "Dapper",
        "Dfc",
        "CourseDirectory",
        "Models",
        "Enums",
        "Dfc",
        "CourseDirectory",
        "Models",
        "Models",
        "Courses",
        "Dfc",
        "CourseDirectory",
        "Services",
        "Dfc",
        "CourseDirectory",
        "Services",
        "Interfaces",
        "Dfc",
        "ProviderPortal",
        "Packages",
        "AzureFunctions",
        "DependencyInjection",
        "Dfc",
        "ProviderPortal",
        "TribalExporter",
        "Interfaces",
        "Microsoft",
        "Azure",
        "Documents",
        "Client",
        "Microsoft",
        "Azure",
        "Documents",
        "Linq",
        "Microsoft",
        "Azure",
        "WebJobs",
        "Microsoft",
        "Extensions",
        "Configuration",
        "Dfc",
        "ProviderPortal",
        "TribalExporter",
        "Functions",
        "CourseMigrationResult",
        "SkippedDueToErrors",
        "Inserted",
        "Updated",
        "FunctionName",
        "nameof",
        "CourseMigrator",
        "NoAutomaticTrigger",
        "input",
        "Inject",
        "IConfigurationRoot",
        "configuration",
        "Inject",
        "ICosmosDbHelper",
        "cosmosDbHelper",
        "Inject",
        "IVenueCollectionService",
        "venueCollectionService",
        "Inject",
        "ILarsSearchService",
        "larsSearchService",
        "Inject",
        "IBlobStorageHelper",
        "blobHelper",
        "configuration",
        "Now",
        "ToString",
        "configuration",
        "configuration",
        "GetConnectionString",
        "MemoryStream",
        "StreamWriter",
        "logStream",
        "CsvWriter",
        "logStreamWriter",
        "CultureInfo",
        "InvariantCulture",
        "SqlConnection",
        "connectionString",
        "SqlConnection",
        "connectionString",
        "logCsvWriter",
        "WriteField",
        "logCsvWriter",
        "WriteField",
        "logCsvWriter",
        "WriteField",
        "logCsvWriter",
        "WriteField",
        "logCsvWriter",
        "WriteField",
        "logCsvWriter",
        "WriteField",
        "logCsvWriter",
        "NextRecord",
        "GetProviderWhiteList",
        "conn1",
        "OpenAsync",
        "conn2",
        "OpenAsync",
        "conn1",
        "CreateCommand",
        "conn2",
        "CreateCommand",
        "coursesCmd",
        "CommandText",
        "coursesInstancesCmd",
        "CommandText",
        "coursesCmd",
        "ExecuteReader",
        "coursesInstancesCmd",
        "ExecuteReader",
        "CourseInstanceReader",
        "courseInstanceReader",
        "coursesReader",
        "GetRowParser",
        "CourseResult",
        "coursesReader",
        "ReadAsync",
        "courseRowReader",
        "coursesReader",
        "whitelist",
        "Contains",
        "course",
        "UKPRN",
        "instanceReader",
        "ConsumeReader",
        "course",
        "CourseId",
        "instances",
        "Count",
        "errors",
        "Add",
        "IsNullOrEmpty",
        "course",
        "LearningAimRefId",
        "QueryLars",
        "course",
        "LearningAimRefId",
        "Empty",
        "LarsSearchResultItem",
        "Guid",
        "Guid",
        "venueId",
        "instances",
        "Where",
        "i",
        "VenueId",
        "HasValue",
        "Select",
        "i",
        "VenueId",
        "Value",
        "venueCollectionService",
        "GetDocumentByVenueId",
        "venueId",
        "cosmosVenue",
        "errors",
        "Add",
        "venueId",
        "venueIdMap",
        "Add",
        "venueId",
        "Guid",
        "Parse",
        "cosmosVenue",
        "ID",
        "errors",
        "Count",
        "GetExistingCourse",
        "course",
        "CourseId",
        "course",
        "UKPRN",
        "instances",
        "Select",
        "Guid",
        "i",
        "VenueId",
        "HasValue",
        "venueId",
        "venueIdMap",
        "i",
        "VenueId",
        "Value",
        "existingCourseRecord",
        "CourseRuns",
        "SingleOrDefault",
        "r",
        "CourseInstanceId",
        "i",
        "CourseInstanceId",
        "r",
        "StartDate",
        "i",
        "StartDate",
        "id",
        "Guid",
        "NewGuid",
        "MapCourseInstance",
        "course",
        "i",
        "courseRunId",
        "venueId",
        "errors",
        "ToList",
        "existingCourseRecord",
        "id",
        "Guid",
        "NewGuid",
        "MapCourse",
        "course",
        "mappedCourseRuns",
        "larsSearchResults",
        "courseId",
        "errors",
        "UpsertCourse",
        "mappedCourse",
        "result",
        "added",
        "CourseMigrationResult",
        "Inserted",
        "CourseMigrationResult",
        "Updated",
        "result",
        "CourseMigrationResult",
        "SkippedDueToErrors",
        "logCsvWriter",
        "WriteField",
        "course",
        "CourseId",
        "logCsvWriter",
        "WriteField",
        "course",
        "UKPRN",
        "logCsvWriter",
        "WriteField",
        "result",
        "CourseMigrationResult",
        "SkippedDueToErrors",
        "logCsvWriter",
        "WriteField",
        "result",
        "ToString",
        "logCsvWriter",
        "WriteField",
        "instances",
        "Count",
        "logCsvWriter",
        "WriteField",
        "Join",
        "errors",
        "logCsvWriter",
        "NextRecord",
        "logStreamWriter",
        "Flush",
        "logStream",
        "Seek",
        "SeekOrigin",
        "Begin",
        "blobHelper",
        "GetBlobContainer",
        "blobContainer",
        "GetBlockBlobReference",
        "logFileName",
        "blob",
        "UploadFromStreamAsync",
        "logStream",
        "ISet",
        "GetProviderWhiteList",
        "blobHelper",
        "GetBlobContainer",
        "blobContainer",
        "GetBlockBlobReference",
        "whitelistFileName",
        "MemoryStream",
        "blob",
        "DownloadToStreamAsync",
        "ms",
        "ms",
        "Seek",
        "SeekOrigin",
        "Begin",
        "StreamReader",
        "ms",
        "reader",
        "ReadLine",
        "Parse",
        "line",
        "results",
        "Add",
        "ukprn",
        "results",
        "IReadOnlyCollection",
        "LarsSearchResultItem",
        "QueryLars",
        "learningAimRef",
        "larsSearchService",
        "SearchAsync",
        "LarsSearchCriteria",
        "learningAimRef",
        "top",
        "skip",
        "result",
        "IsFailure",
        "result",
        "result",
        "Value",
        "Value",
        "ToList",
        "UpsertCourse",
        "Course",
        "course",
        "UriFactory",
        "CreateDocumentCollectionUri",
        "databaseId",
        "coursesCollectionId",
        "cosmosDbHelper",
        "GetClient",
        "client",
        "UpsertDocumentAsync",
        "collectionLink",
        "course",
        "RequestOptions",
        "PartitionKey",
        "Microsoft",
        "Azure",
        "Documents",
        "PartitionKey",
        "course",
        "ProviderUKPRN",
        "result",
        "StatusCode",
        "HttpStatusCode",
        "Created",
        "Course",
        "GetExistingCourse",
        "courseId",
        "ukprn",
        "UriFactory",
        "CreateDocumentCollectionUri",
        "databaseId",
        "coursesCollectionId",
        "cosmosDbHelper",
        "GetClient",
        "client",
        "CreateDocumentQuery",
        "Course",
        "collectionLink",
        "FeedOptions",
        "PartitionKey",
        "Microsoft",
        "Azure",
        "Documents",
        "PartitionKey",
        "ukprn",
        "Where",
        "d",
        "CourseId",
        "courseId",
        "AsDocumentQuery",
        "query",
        "ExecuteNextAsync",
        "FirstOrDefault",
        "AttendancePattern",
        "MapAttendancePattern",
        "DeliveryMode",
        "deliveryMode",
        "attendancePatternId",
        "hasError",
        "deliveryMode",
        "DeliveryMode",
        "ClassroomBased",
        "hasError",
        "AttendancePattern",
        "Undefined",
        "attendancePatternId",
        "HasValue",
        "hasError",
        "AttendancePattern",
        "Undefined",
        "attendancePatternId",
        "Value",
        "hasError",
        "AttendancePattern",
        "Daytime",
        "hasError",
        "AttendancePattern",
        "DayOrBlockRelease",
        "hasError",
        "AttendancePattern",
        "Evening",
        "hasError",
        "AttendancePattern",
        "Weekend",
        "hasError",
        "AttendancePattern",
        "Undefined",
        "DeliveryMode",
        "MapDeliveryMode",
        "attendanceTypeId",
        "hasError",
        "attendanceTypeId",
        "HasValue",
        "hasError",
        "DeliveryMode",
        "Undefined",
        "attendanceTypeId",
        "Value",
        "hasError",
        "DeliveryMode",
        "ClassroomBased",
        "hasError",
        "DeliveryMode",
        "WorkBased",
        "hasError",
        "DeliveryMode",
        "Online",
        "hasError",
        "DeliveryMode",
        "Undefined",
        "StudyMode",
        "MapStudyMode",
        "DeliveryMode",
        "deliveryMode",
        "studyModeId",
        "hasError",
        "deliveryMode",
        "DeliveryMode",
        "ClassroomBased",
        "hasError",
        "StudyMode",
        "Undefined",
        "studyModeId",
        "HasValue",
        "hasError",
        "StudyMode",
        "Undefined",
        "studyModeId",
        "Value",
        "hasError",
        "StudyMode",
        "FullTime",
        "hasError",
        "StudyMode",
        "PartTime",
        "hasError",
        "StudyMode",
        "Undefined",
        "hasError",
        "StudyMode",
        "Flexible",
        "hasError",
        "StudyMode",
        "Undefined",
        "DurationUnit",
        "MapDuration",
        "durationUnit",
        "durationValue",
        "hasError",
        "durationUnit",
        "HasValue",
        "hasError",
        "DurationUnit",
        "Undefined",
        "durationUnit",
        "Value",
        "hasError",
        "DurationUnit",
        "Hours",
        "durationValue",
        "hasError",
        "DurationUnit",
        "Days",
        "durationValue",
        "hasError",
        "DurationUnit",
        "Weeks",
        "durationValue",
        "hasError",
        "DurationUnit",
        "Months",
        "durationValue",
        "hasError",
        "DurationUnit",
        "Months",
        "hasError",
        "DurationUnit",
        "Years",
        "durationValue",
        "hasError",
        "DurationUnit",
        "Undefined",
        "CourseRun",
        "MapCourseInstance",
        "CourseResult",
        "course",
        "CourseInstanceResult",
        "courseInstance",
        "Guid",
        "id",
        "Guid",
        "venueId",
        "errors",
        "MapDeliveryMode",
        "courseInstance",
        "AttendanceTypeId",
        "deliveryModeError",
        "MapAttendancePattern",
        "deliveryMode",
        "courseInstance",
        "AttendancePatternId",
        "attendancePatternError",
        "MapStudyMode",
        "deliveryMode",
        "courseInstance",
        "StudyModeId",
        "studyModeError",
        "durationUnit",
        "durationValue",
        "MapDuration",
        "courseInstance",
        "DurationUnitId",
        "courseInstance",
        "DurationUnit",
        "durationError",
        "attendancePatternError",
        "errors",
        "Add",
        "hasErrors",
        "deliveryModeError",
        "errors",
        "Add",
        "hasErrors",
        "studyModeError",
        "errors",
        "Add",
        "hasErrors",
        "durationError",
        "errors",
        "Add",
        "hasErrors",
        "IsNullOrEmpty",
        "courseInstance",
        "StartDateDescription",
        "errors",
        "Add",
        "hasErrors",
        "deliveryMode",
        "DeliveryMode",
        "ClassroomBased",
        "venueId",
        "HasValue",
        "errors",
        "Add",
        "hasErrors",
        "hasErrors",
        "RecordStatus",
        "Pending",
        "RecordStatus",
        "Live",
        "CourseRun",
        "AttendancePattern",
        "attendancePattern",
        "Cost",
        "courseInstance",
        "Price",
        "CostDescription",
        "courseInstance",
        "PriceAsText",
        "CourseInstanceId",
        "courseInstance",
        "CourseInstanceId",
        "CourseName",
        "course",
        "CourseTitle",
        "CourseURL",
        "courseInstance",
        "Url",
        "CreatedBy",
        "CreatedDate",
        "Now",
        "DeliveryMode",
        "deliveryMode",
        "DurationUnit",
        "durationUnit",
        "DurationValue",
        "durationValue",
        "FlexibleStartDate",
        "courseInstance",
        "StartDate",
        "HasValue",
        "id",
        "id",
        "ProviderCourseID",
        "courseInstance",
        "ProviderOwnCourseInstanceRef",
        "RecordStatus",
        "recordStatus",
        "Regions",
        "StartDate",
        "courseInstance",
        "StartDate",
        "StudyMode",
        "studyMode",
        "UpdatedDate",
        "Now",
        "VenueId",
        "venueId",
        "Course",
        "MapCourse",
        "CourseResult",
        "course",
        "IReadOnlyCollection",
        "CourseRun",
        "courseRuns",
        "IReadOnlyCollection",
        "LarsSearchResultItem",
        "larsSearchResults",
        "Guid",
        "id",
        "errors",
        "courseRuns",
        "All",
        "r",
        "RecordStatus",
        "HasFlag",
        "RecordStatus",
        "Live",
        "LarlessReason",
        "IsNullOrEmpty",
        "course",
        "LearningAimRefId",
        "LarlessReason",
        "NoLars",
        "larsSearchResults",
        "Count",
        "LarlessReason",
        "UnknownLars",
        "larsSearchResults",
        "Count",
        "LarlessReason",
        "MultipleMatchingLars",
        "LarlessReason",
        "Undefined",
        "larsSearchResults",
        "Count",
        "larsSearchResults",
        "Single",
        "qualification",
        "cr",
        "courseRuns",
        "cr",
        "RecordStatus",
        "RecordStatus",
        "Pending",
        "isValid",
        "Course",
        "AdultEducationBudget",
        "AdvancedLearnerLoan",
        "course",
        "Loans24Plus",
        "AwardOrgCode",
        "qualification",
        "AwardOrgCode",
        "CourseDescription",
        "course",
        "CourseSummary",
        "CourseId",
        "course",
        "CourseId",
        "CourseRuns",
        "courseRuns",
        "CreatedBy",
        "CreatedDate",
        "Now",
        "EntryRequirements",
        "course",
        "EntryRequirements",
        "HowYoullBeAssessed",
        "course",
        "AssessmentMethod",
        "HowYoullLearn",
        "id",
        "id",
        "IsValid",
        "isValid",
        "LarlessReason",
        "larlessReason",
        "LearnAimRef",
        "course",
        "LearningAimRefId",
        "NotionalNVQLevelv2",
        "qualification",
        "NotionalNVQLevelv2",
        "ProviderUKPRN",
        "course",
        "UKPRN",
        "QualificationCourseTitle",
        "qualification",
        "LearnAimRefTitle",
        "QualificationType",
        "UpdatedDate",
        "Now",
        "WhatYoullLearn",
        "WhatYoullNeed",
        "course",
        "EquipmentRequired",
        "WhereNext",
        "Func",
        "SqlDataReader",
        "CourseInstanceResult",
        "SqlDataReader",
        "reader",
        "_reader",
        "reader",
        "_rowParser",
        "_reader",
        "GetRowParser",
        "CourseInstanceResult",
        "_reader",
        "Read",
        "IReadOnlyCollection",
        "CourseInstanceResult",
        "courseId",
        "CourseInstanceResult",
        "item",
        "_rowParser",
        "_reader",
        "item",
        "CourseId",
        "courseId",
        "buffer",
        "Add",
        "item",
        "item",
        "CourseId",
        "courseId",
        "_reader",
        "ReadAsync",
        "buffer",
        "Guid",
        "Guid"
    ],
    "literals": [
        "\"CosmosDbSettings:DatabaseId\"",
        "\"courses\"",
        "\"dd-MM-yy HHmm\"",
        "\"BlobStorageSettings:Container\"",
        "\"ProviderWhiteList.txt\"",
        "\"DefaultConnection\"",
        "\"CourseId\"",
        "\"UKPRN\"",
        "\"Success\"",
        "\"Status\"",
        "\"Course instances\"",
        "\"Error list\"",
        "\"Found zero CourseInstances.\"",
        "\", \"",
        "\"CourseMigrator\"",
        "\"CourseMigrator\""
    ],
    "variables": [
        "databaseId",
        "coursesCollectionId",
        "logFileName",
        "blobContainer",
        "whitelistFileName",
        "connectionString",
        "logStream",
        "logStreamWriter",
        "logCsvWriter",
        "conn1",
        "conn2",
        "whitelist",
        "coursesCmd",
        "coursesInstancesCmd",
        "coursesReader",
        "courseInstanceReader",
        "instanceReader",
        "courseRowReader",
        "course",
        "instances",
        "errors",
        "CourseMigrationResult",
        "result",
        "larsSearchResults",
        "venueIdMap",
        "cosmosVenue",
        "existingCourseRecord",
        "mappedCourseRuns",
        "venueId",
        "courseRunId",
        "courseId",
        "mappedCourse",
        "added",
        "blob",
        "blob",
        "ms",
        "results",
        "reader",
        "line",
        "ukprn",
        "result",
        "collectionLink",
        "client",
        "result",
        "collectionLink",
        "client",
        "query",
        "deliveryMode",
        "attendancePattern",
        "studyMode",
        "hasErrors",
        "recordStatus",
        "isValid",
        "larlessReason",
        "qualification",
        "SqlDataReader",
        "_reader",
        "_rowParser",
        "buffer",
        "CourseInstanceResult",
        "item",
        "CourseId",
        "CourseTitle",
        "CourseSummary",
        "LearningAimRefId",
        "QualificationLevelId",
        "EntryRequirements",
        "ProviderOwnCourseRef",
        "Url",
        "UKPRN",
        "CosmosId",
        "EquipmentRequired",
        "AssessmentMethod",
        "Loans24Plus",
        "CourseInstanceId",
        "CourseId",
        "ProviderOwnCourseInstanceRef",
        "StudyModeId",
        "AttendanceTypeId",
        "AttendancePatternId",
        "DurationUnit",
        "DurationUnitId",
        "DurationAsText",
        "Price",
        "StartDateDescription",
        "StartDate",
        "PriceAsText",
        "Url",
        "VenueId",
        "CosmosId"
    ],
    "comments": [
        "Work around https://github.com/Azure/azure-functions-vs-build-sdk/issues/168",
        "Log CSV headers",
        "If provider is not on whitelist - skip this course",
        "Tribal don't have any Courses with zero CourseInstances...",
        "Check LARS",
        "Check the venues exist",
        "Got the course in Cosmos already?",
        "Retain the existing Cosmos ID if there is one",
        "N.B. We can have more than one match on CourseInstanceId since we 'explode' on multiple start dates",
        "Write to log",
        "Upload log CSV to blob storage",
        "TODO Work-based should have regions(s) or be national",
        "TODO Ignore start dates in the past?",
        "National",
        "UpdatedBy",
        "TODO Consider expired LARS",
        "UpdatedBy",
        "Consumes a DataReader and reads contiguous rows that have the same Course ID.",
        "</summary>"
    ],
    "docstrings": [
        "<summary>"
    ],
    "functions": [
        "Run",
        "CourseInstanceReader",
        "ConsumeReader"
    ],
    "classes": [
        "CourseMigrator",
        "CourseInstanceReader",
        "CourseResult",
        "CourseInstanceResult"
    ]
}