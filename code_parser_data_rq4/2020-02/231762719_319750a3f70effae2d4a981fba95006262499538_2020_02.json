{
    "identifiers": [
        "psycopg2",
        "psycopg2",
        "extras",
        "Json",
        "random",
        "psycopg2",
        "connect",
        "host",
        "port",
        "database",
        "user",
        "password",
        "l",
        "join",
        "random",
        "choice",
        "ascii_letters",
        "i",
        "l",
        "name",
        "r",
        "_",
        "amount",
        "name",
        "_",
        "amount",
        "collections",
        "i",
        "i",
        "k",
        "keys",
        "random",
        "randint",
        "user",
        "name",
        "k",
        "r",
        "k",
        "keys",
        "name",
        "model",
        "conn",
        "id",
        "conn",
        "id",
        "TheCtx",
        "conn",
        "r",
        "ctx",
        "id",
        "ctx",
        "conn",
        "__enter__",
        "conn",
        "back",
        "ctx",
        "value",
        "traceback",
        "ctx",
        "conn",
        "__exit__",
        "value",
        "traceback",
        "MyCtxManager",
        "ctx",
        "ctx",
        "conn",
        "cursor",
        "cur",
        "i",
        "create_model",
        "cur",
        "execute",
        "fqid",
        "Json",
        "model",
        "conn",
        "close"
    ],
    "literals": [
        "\"localhost\"",
        "\"perf\"",
        "\"finn\"",
        "\"finn\"",
        "\"user\"",
        "\"motion\"",
        "\"motion_comment_section\"",
        "\"assignment\"",
        "\"meeting\"",
        "\"projector\"",
        "\"user\"",
        "''",
        "\"id\"",
        "\"username\"",
        "\"{r(15)}{i}\"",
        "\"user\"",
        "f\"enter {self.ctx.id}\"",
        "\"global conn\"",
        "\"conn enter returned\"",
        "\"exit\"",
        "f\"user/{i}\"",
        "\"user\"",
        "\"INSERT INTO models(fqid, data) VALUES (%s, %s)\""
    ],
    "variables": [
        "conn",
        "collections",
        "collections",
        "keys",
        "user",
        "user",
        "k",
        "model",
        "conn",
        "id",
        "ctx",
        "back",
        "i",
        "fqid",
        "model"
    ],
    "comments": [
        "name, #models, #fields per model",
        "k: str(random.randint(10000,100000000))*2",
        "Conn is known globally in the adapter",
        "blub",
        "somewhere in the adapter"
    ],
    "docstrings": [
        "\"\"\"\ntransaction_size = 100\nfor name, amount, amount_fields in collections:\n    model = create_model(name)\n    for block in range(amount//transaction_size):\n        offset = block * transaction_size\n        with conn:\n            with conn.cursor() as cur:\n                for i in range(transaction_size):\n                    i += offset + 1\n                    fqid = f\"{name}/{i}\"\n                    if name == \"user\":\n                        model[\"username\"] = f\"{r(15)}{i}\"\n                    else:\n                        del model[\"username\"]\n                    cur.execute(\n                        \"INSERT INTO models(fqid, data) VALUES (%s, %s)\",\n                        [fqid, Json(model)]\n                    )\n        print(f\"Done {offset + transaction_size} of {name}\")\n\"\"\""
    ],
    "functions": [
        "r",
        "create_user",
        "create_model",
        "__enter__",
        "__exit__"
    ],
    "classes": [
        "TheCtx",
        "MyCtxManager"
    ]
}