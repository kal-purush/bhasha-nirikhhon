{
    "identifiers": [
        "org",
        "nuxeo",
        "ecm",
        "platform",
        "ec",
        "notification",
        "org",
        "junit",
        "Assert",
        "assertEquals",
        "java",
        "io",
        "java",
        "net",
        "URISyntaxException",
        "java",
        "net",
        "URL",
        "java",
        "nio",
        "file",
        "Files",
        "java",
        "nio",
        "file",
        "Paths",
        "java",
        "text",
        "SimpleDateFormat",
        "java",
        "time",
        "Instant",
        "java",
        "util",
        "java",
        "util",
        "javax",
        "inject",
        "Inject",
        "org",
        "junit",
        "Before",
        "org",
        "junit",
        "Test",
        "org",
        "junit",
        "runner",
        "RunWith",
        "org",
        "nuxeo",
        "common",
        "utils",
        "StringUtils",
        "org",
        "nuxeo",
        "ecm",
        "core",
        "api",
        "CoreSession",
        "org",
        "nuxeo",
        "ecm",
        "core",
        "api",
        "DocumentModel",
        "org",
        "nuxeo",
        "ecm",
        "core",
        "api",
        "NuxeoException",
        "org",
        "nuxeo",
        "ecm",
        "core",
        "api",
        "NuxeoPrincipal",
        "org",
        "nuxeo",
        "ecm",
        "core",
        "Event",
        "org",
        "nuxeo",
        "ecm",
        "core",
        "EventService",
        "org",
        "nuxeo",
        "ecm",
        "core",
        "impl",
        "DocumentEventContext",
        "org",
        "nuxeo",
        "ecm",
        "platform",
        "notification",
        "api",
        "NotificationManager",
        "org",
        "nuxeo",
        "ecm",
        "platform",
        "test",
        "PlatformFeature",
        "org",
        "nuxeo",
        "mail",
        "SmtpMailServerFeature",
        "org",
        "nuxeo",
        "runtime",
        "test",
        "runner",
        "Deploy",
        "org",
        "nuxeo",
        "runtime",
        "test",
        "runner",
        "Features",
        "org",
        "nuxeo",
        "runtime",
        "test",
        "runner",
        "FeaturesRunner",
        "org",
        "nuxeo",
        "runtime",
        "test",
        "runner",
        "TransactionalFeature",
        "RunWith",
        "Features",
        "Deploy",
        "Deploy",
        "Deploy",
        "Deploy",
        "Deploy",
        "DUMMY_NOTIFICATION_NAME",
        "DUMMY_EVENT_NAME",
        "DOCUMENT_NAME",
        "EVENT_DATE_FORMAT",
        "Inject",
        "session",
        "Inject",
        "notificationManager",
        "Inject",
        "eventService",
        "Inject",
        "transactionalFeature",
        "Inject",
        "emailsResult",
        "domain",
        "Before",
        "domain",
        "session",
        "createDocumentModel",
        "domain",
        "session",
        "createDocument",
        "domain",
        "Test",
        "documentModel",
        "session",
        "createDocumentModel",
        "DOCUMENT_NAME",
        "documentModel",
        "session",
        "createDocument",
        "documentModel",
        "addDummySubscription",
        "documentModel",
        "ctx",
        "session",
        "session",
        "getPrincipal",
        "documentModel",
        "ctx",
        "newEvent",
        "DUMMY_EVENT_NAME",
        "eventService",
        "fireEvent",
        "transactionalFeature",
        "nextTransaction",
        "checkMailContent",
        "documentModel",
        "Test",
        "folder",
        "session",
        "createDocumentModel",
        "folder",
        "session",
        "createDocument",
        "folder",
        "addDummySubscription",
        "folder",
        "mainDocModel",
        "session",
        "createDocumentModel",
        "DOCUMENT_NAME",
        "mainDocModel",
        "session",
        "createDocument",
        "mainDocModel",
        "ctx",
        "session",
        "session",
        "getPrincipal",
        "mainDocModel",
        "ctx",
        "newEvent",
        "DUMMY_EVENT_NAME",
        "eventService",
        "fireEvent",
        "transactionalFeature",
        "nextTransaction",
        "checkMailContent",
        "mainDocModel",
        "documentModel",
        "assertEquals",
        "emailsResult",
        "getMails",
        "size",
        "mailMessage",
        "emailsResult",
        "getMails",
        "get",
        "assertEquals",
        "format",
        "documentModel",
        "getTitle",
        "mailMessage",
        "getSubject",
        "expectedMailContent",
        "getExpectedMailContent",
        "documentModel",
        "assertEquals",
        "expectedMailContent",
        "mailMessage",
        "getContent",
        "documentModel",
        "principal",
        "session",
        "getPrincipal",
        "subscriber",
        "NotificationConstants",
        "USER_PREFIX",
        "principal",
        "getName",
        "notificationManager",
        "addSubscription",
        "subscriber",
        "DUMMY_NOTIFICATION_NAME",
        "documentModel",
        "principal",
        "DUMMY_NOTIFICATION_NAME",
        "documentModel",
        "url",
        "getResource",
        "fileContent",
        "Files",
        "readString",
        "Paths",
        "get",
        "url",
        "toURI",
        "model",
        "of",
        "documentModel",
        "getTitle",
        "EVENT_DATE_FORMAT",
        "format",
        "Instant",
        "ofEpochMilli",
        "getTime",
        "documentModel",
        "getPropertyValue",
        "documentModel",
        "getPathAsString",
        "documentModel",
        "getVersionLabel",
        "documentModel",
        "getCurrentLifeCycleState",
        "content",
        "StringUtils",
        "expandVars",
        "fileContent",
        "model",
        "content",
        "replaceAll",
        "e",
        "e"
    ],
    "literals": [
        "\"org.nuxeo.ecm.platform.notification.core\"",
        "\"org.nuxeo.ecm.platform.notification.api\"",
        "\"org.nuxeo.ecm.platform.url.api\"",
        "\"org.nuxeo.ecm.platform.url.core\"",
        "\"org.nuxeo.ecm.platform.notification.core.tests:OSGI-INF/notification-event-listener-contrib.xml\"",
        "\"DummyNotificationToSendMail\"",
        "\"dummyNotificationToSendMail\"",
        "\"anyFile\"",
        "\"dd/MM/yyyy - HH:mm\"",
        "\"/\"",
        "\"domain\"",
        "\"Domain\"",
        "\"/domain\"",
        "\"File\"",
        "\"/domain\"",
        "\"anyFolder\"",
        "\"Folder\"",
        "\"/domain/anyFolder\"",
        "\"File\"",
        "\"[Dummy]Notification on the document '%s'\"",
        "\"/templates/dummyExpectedMail.html\"",
        "\"TITLE\"",
        "\"CREATION_DATE\"",
        "\"AUTHOR\"",
        "\"dc:contributors\"",
        "\"LOCATION\"",
        "\"VERSION\"",
        "\"STATE\"",
        "\"\\\\n\"",
        "\"\""
    ],
    "variables": [
        "session",
        "notificationManager",
        "eventService",
        "transactionalFeature",
        "emailsResult",
        "domain"
    ],
    "comments": [
        "check the subject",
        "check the text content",
        "",
        "",
        "",
        "",
        "",
        "just put the content on one line as it will be when retrieved from fake smtp"
    ],
    "docstrings": [
        "* (C) Copyright 2020 Nuxeo (http://nuxeo.com/) and others.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Contributors:\n *     Salem Aouana",
        "* Tests the whole email notification process: from subscribing to a given event to the reception of the email for this\n * event.\n *\n * @since 11.1"
    ],
    "functions": [
        "before",
        "shouldReceiveNotificationMailWhenSubscribeToDocument",
        "shouldReceiveNotificationMailWhenSubscribeToParentDocument",
        "checkMailContent",
        "addDummySubscription",
        "getExpectedMailContent"
    ],
    "classes": [
        "TestEmailNotification"
    ]
}