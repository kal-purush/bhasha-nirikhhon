{
    "identifiers": [
        "pickle",
        "os",
        "numpy",
        "np",
        "tqdm",
        "tqdm",
        "matplotlib",
        "pyplot",
        "plt",
        "mpl_toolkits",
        "mplot3d",
        "Axes3D",
        "dataset_interface",
        "RHD_canonical_trafo",
        "canonical_trafo",
        "flip_right_hand",
        "dataset_interface",
        "RHD_general",
        "crop_image_from_xy",
        "dataset_interface",
        "RHD_relative_trafo",
        "bone_rel_trafo",
        "dataset_interface",
        "base_interface",
        "BaseDataset",
        "tensorflow",
        "tf",
        "BaseDataset",
        "path",
        "batchnum",
        "RHD",
        "path",
        "open",
        "path",
        "fi",
        "pickle",
        "load",
        "fi",
        "np",
        "zeros",
        "shape",
        "len",
        "anno_all",
        "dtype",
        "np",
        "float32",
        "np",
        "zeros",
        "shape",
        "len",
        "anno_all",
        "dtype",
        "np",
        "float32",
        "np",
        "zeros",
        "shape",
        "len",
        "anno_all",
        "dtype",
        "np",
        "float32",
        "label_i",
        "len",
        "anno_all",
        "allxyz",
        "anno_all",
        "label_i",
        "alluv",
        "anno_all",
        "label_i",
        "allk",
        "anno_all",
        "label_i",
        "BaseDataset",
        "listdir",
        "path",
        "len",
        "imagefilenames",
        "tf",
        "constant",
        "imagefilenames",
        "BaseDataset",
        "listdir",
        "path",
        "tf",
        "constant",
        "maskfilenames",
        "example_num",
        "len",
        "anno_all",
        "tf",
        "data",
        "Dataset",
        "from_tensor_slices",
        "imagefilenames",
        "maskfilenames",
        "allxyz",
        "alluv",
        "allk",
        "dataset",
        "RHD",
        "_parse_function",
        "dataset",
        "repeat",
        "dataset",
        "shuffle",
        "buffer_size",
        "dataset",
        "batch",
        "batchnum",
        "dataset",
        "make_one_shot_iterator",
        "iterator",
        "get_next",
        "staticmethod",
        "image",
        "xyz",
        "uv",
        "uv_vis",
        "k",
        "num_px_left_hand",
        "num_px_right_hand",
        "scoremap",
        "uv",
        "uv_vis",
        "xyz",
        "k",
        "np",
        "sum",
        "scoremap",
        "axis",
        "np",
        "matmul",
        "kp_coord_xyz",
        "np",
        "transpose",
        "camera_intrinsic_matrix",
        "kp_coord_uv_proj",
        "kp_coord_uv_proj",
        "plt",
        "figure",
        "fig",
        "add_subplot",
        "ax1",
        "set_title",
        "num_px_left_hand",
        "num_px_right_hand",
        "fig",
        "add_subplot",
        "fig",
        "add_subplot",
        "fig",
        "add_subplot",
        "projection",
        "ax1",
        "imshow",
        "image",
        "ax1",
        "scatter",
        "kp_coord_uv",
        "kp_visible",
        "kp_coord_uv",
        "kp_visible",
        "marker",
        "color",
        "s",
        "image",
        "image",
        "astype",
        "np",
        "int16",
        "ax2",
        "scatter",
        "kp_coord_uv_proj",
        "kp_coord_uv_proj",
        "marker",
        "color",
        "s",
        "ax2",
        "imshow",
        "image",
        "ax3",
        "imshow",
        "scoremap",
        "ax4",
        "scatter",
        "kp_coord_xyz",
        "kp_coord_xyz",
        "kp_coord_xyz",
        "ax4",
        "view_init",
        "azim",
        "elev",
        "ax4",
        "set_xlabel",
        "ax4",
        "set_ylabel",
        "ax4",
        "set_zlabel",
        "plt",
        "show",
        "staticmethod",
        "imagefilename",
        "maskfilename",
        "keypoint_xyz",
        "keypoint_uv",
        "k",
        "tf",
        "read_file",
        "imagefilename",
        "tf",
        "image",
        "decode_png",
        "image_string",
        "tf",
        "image",
        "resize_images",
        "image_decoded",
        "image_size",
        "image_size",
        "method",
        "tf",
        "cast",
        "image_decoded",
        "tf",
        "float32",
        "image",
        "tf",
        "read_file",
        "maskfilename",
        "tf",
        "image",
        "decode_png",
        "mask_string",
        "tf",
        "cast",
        "mask_decoded",
        "tf",
        "int32",
        "tf",
        "cast",
        "keypoint_uv",
        "tf",
        "keypoint_uv",
        "use_wrist_coord",
        "tf",
        "expand_dims",
        "keypoint_xyz",
        "keypoint_xyz",
        "tf",
        "expand_dims",
        "keypoint_xyz",
        "keypoint_xyz",
        "tf",
        "concat",
        "palm_coord_l",
        "keypoint_xyz",
        "palm_coord_r",
        "keypoint_xyz",
        "use_wrist_coord",
        "tf",
        "expand_dims",
        "keypoint_uv",
        "keypoint_uv",
        "tf",
        "expand_dims",
        "keypoint_uv",
        "keypoint_uv",
        "tf",
        "concat",
        "palm_coord_uv_l",
        "keypoint_uv",
        "palm_coord_uv_r",
        "keypoint_uv",
        "coord_uv_noise",
        "tf",
        "truncated_normal",
        "mean",
        "stddev",
        "coord_uv_noise_sigma",
        "keypoint_uv",
        "noise",
        "hue_aug",
        "tf",
        "image",
        "random_hue",
        "image",
        "hue_aug_max",
        "use_wrist_coord",
        "tf",
        "expand_dims",
        "tf",
        "logical_or",
        "keypoint_vis",
        "keypoint_vis",
        "tf",
        "expand_dims",
        "tf",
        "logical_or",
        "keypoint_vis",
        "keypoint_vis",
        "tf",
        "concat",
        "palm_vis_l",
        "keypoint_vis",
        "palm_vis_r",
        "keypoint_vis",
        "tf",
        "ones_like",
        "hand_parts_mask",
        "tf",
        "zeros_like",
        "hand_parts_mask",
        "tf",
        "logical_and",
        "tf",
        "greater",
        "hand_parts_mask",
        "one_map",
        "tf",
        "less",
        "hand_parts_mask",
        "one_map",
        "tf",
        "greater",
        "hand_parts_mask",
        "one_map",
        "tf",
        "where",
        "cond_l",
        "one_map",
        "zero_map",
        "tf",
        "where",
        "cond_r",
        "one_map",
        "zero_map",
        "tf",
        "reduce_sum",
        "hand_map_l",
        "tf",
        "reduce_sum",
        "hand_map_r",
        "keypoint_xyz",
        "keypoint_xyz",
        "tf",
        "logical_and",
        "tf",
        "cast",
        "tf",
        "ones_like",
        "kp_coord_xyz_left",
        "tf",
        "tf",
        "greater",
        "num_px_left_hand",
        "num_px_right_hand",
        "tf",
        "where",
        "cond_left",
        "kp_coord_xyz_left",
        "kp_coord_xyz_right",
        "tf",
        "where",
        "tf",
        "greater",
        "num_px_left_hand",
        "num_px_right_hand",
        "tf",
        "constant",
        "dtype",
        "tf",
        "int32",
        "tf",
        "constant",
        "dtype",
        "tf",
        "int32",
        "tf",
        "one_hot",
        "hand_side",
        "depth",
        "on_value",
        "off_value",
        "dtype",
        "tf",
        "float32",
        "kp_coord_xyz21",
        "kp_coord_xyz21",
        "kp_coord_xyz21",
        "kp_coord_xyz_root",
        "tf",
        "sqrt",
        "tf",
        "reduce_sum",
        "tf",
        "square",
        "kp_coord_xyz21_rel",
        "kp_coord_xyz21_rel",
        "kp_coord_xyz21_rel",
        "index_root_bone_length",
        "bone_rel_trafo",
        "keypoint_xyz21_normed",
        "tf",
        "squeeze",
        "kp_coord_xyz21_local",
        "kp_coord_xyz21_local",
        "canonical_trafo",
        "keypoint_xyz21_normed",
        "tf",
        "squeeze",
        "kp_coord_xyz21_rel_can",
        "tf",
        "squeeze",
        "rot_mat",
        "flip_right_hand",
        "kp_coord_xyz21_rel_can",
        "tf",
        "logical_not",
        "cond_left",
        "kp_coord_xyz21_rel_can",
        "tf",
        "matrix_inverse",
        "rot_mat",
        "keypoint_vis",
        "keypoint_vis",
        "tf",
        "where",
        "cond_left",
        "keypoint_vis_left",
        "keypoint_vis_right",
        "keypoint_vis21",
        "keypoint_uv",
        "keypoint_uv",
        "tf",
        "where",
        "cond_left",
        "keypoint_uv_left",
        "keypoint_uv_right",
        "hand_crop",
        "keypoint_uv21",
        "tf",
        "cond",
        "tf",
        "reduce_all",
        "tf",
        "is_finite",
        "crop_center",
        "crop_center",
        "tf",
        "constant",
        "crop_center",
        "set_shape",
        "crop_center_noise",
        "tf",
        "truncated_normal",
        "mean",
        "stddev",
        "crop_center_noise_sigma",
        "crop_center",
        "noise",
        "tf",
        "constant",
        "crop_scale_noise_",
        "tf",
        "squeeze",
        "tf",
        "random_uniform",
        "minval",
        "maxval",
        "tf",
        "boolean_mask",
        "keypoint_uv21",
        "keypoint_vis21",
        "tf",
        "boolean_mask",
        "keypoint_uv21",
        "keypoint_vis21",
        "tf",
        "stack",
        "kp_coord_h",
        "kp_coord_w",
        "tf",
        "maximum",
        "tf",
        "reduce_min",
        "kp_coord_hw",
        "tf",
        "minimum",
        "tf",
        "reduce_max",
        "kp_coord_hw",
        "image_size",
        "tf",
        "maximum",
        "max_coord",
        "crop_center",
        "crop_center",
        "min_coord",
        "tf",
        "reduce_max",
        "crop_size_best",
        "tf",
        "minimum",
        "tf",
        "maximum",
        "crop_size_best",
        "tf",
        "cond",
        "tf",
        "reduce_all",
        "tf",
        "is_finite",
        "crop_size_best",
        "crop_size_best",
        "tf",
        "constant",
        "crop_size_best",
        "set_shape",
        "tf",
        "cast",
        "crop_size",
        "tf",
        "float32",
        "crop_size_best",
        "tf",
        "minimum",
        "tf",
        "maximum",
        "scale",
        "scale",
        "crop_scale_noise",
        "scale",
        "crop_offset_noise",
        "tf",
        "truncated_normal",
        "mean",
        "stddev",
        "crop_offset_noise_sigma",
        "crop_center",
        "noise",
        "crop_image_from_xy",
        "tf",
        "expand_dims",
        "image",
        "crop_center",
        "crop_size",
        "scale",
        "tf",
        "stack",
        "img_crop",
        "img_crop",
        "img_crop",
        "tf",
        "cast",
        "crop_center",
        "tf",
        "float32",
        "keypoint_uv21",
        "crop_center_float",
        "scale",
        "crop_size",
        "keypoint_uv21",
        "crop_center_float",
        "scale",
        "crop_size",
        "tf",
        "stack",
        "keypoint_uv21_u",
        "keypoint_uv21_v",
        "keypoint_uv21",
        "tf",
        "reshape",
        "scale",
        "tf",
        "dynamic_stitch",
        "scale",
        "scale",
        "tf",
        "reshape",
        "scale_matrix",
        "tf",
        "cast",
        "crop_center",
        "tf",
        "float32",
        "crop_center_float",
        "scale",
        "crop_size",
        "crop_center_float",
        "scale",
        "crop_size",
        "tf",
        "reshape",
        "trans1",
        "tf",
        "reshape",
        "trans2",
        "tf",
        "dynamic_stitch",
        "trans2",
        "trans1",
        "tf",
        "reshape",
        "trans_matrix",
        "tf",
        "matmul",
        "trans_matrix",
        "tf",
        "matmul",
        "scale_matrix",
        "k",
        "tf",
        "stack",
        "keypoint_uv21",
        "keypoint_uv21",
        "image_size",
        "hand_crop",
        "crop_size",
        "crop_size",
        "BaseDataset",
        "create_multiple_gaussian_map",
        "keypoint_hw21",
        "scoremap_size",
        "sigma",
        "valid_vec",
        "keypoint_vis21",
        "scoremap_dropout",
        "tf",
        "nn",
        "dropout",
        "scoremap",
        "scoremap_dropout_prob",
        "noise_shape",
        "scoremap",
        "scoremap_dropout_prob",
        "image_crop",
        "keypoint_xyz21",
        "keypoint_uv21",
        "scoremap",
        "keypoint_vis21",
        "k",
        "num_px_left_hand",
        "num_px_right_hand"
    ],
    "literals": [
        "\"/media/chen/4CBEA7F1BEA7D1AE/Download/hand_dataset/ICCV2017/RHD_published_v2\"",
        "\"/training/anno_training.pickle\"",
        "'rb'",
        "'xyz'",
        "'uv_vis'",
        "'K'",
        "\"/training/color\"",
        "\"/training/mask\"",
        "'标签和样本数量不一致'",
        "'221'",
        "\"left_hand:\"",
        "\"right_hand:\"",
        "'222'",
        "'223'",
        "'224'",
        "'3d'",
        "'o'",
        "'blue'",
        "'x'",
        "'red'",
        "'x'",
        "'y'",
        "'z'"
    ],
    "variables": [
        "anno_all",
        "allxyz",
        "alluv",
        "allk",
        "label_i",
        "label_i",
        "label_i",
        "imagefilenames",
        "example_num",
        "imagefilenames",
        "maskfilenames",
        "maskfilenames",
        "dataset",
        "dataset",
        "dataset",
        "dataset",
        "dataset",
        "iterator",
        "get_batch_data",
        "kp_coord_uv",
        "kp_visible",
        "kp_coord_xyz",
        "camera_intrinsic_matrix",
        "scoremap",
        "kp_coord_uv_proj",
        "kp_coord_uv_proj",
        "fig",
        "ax1",
        "ax2",
        "ax3",
        "ax4",
        "image",
        "image",
        "image_size",
        "image_string",
        "image_decoded",
        "image_decoded",
        "image",
        "image",
        "mask_string",
        "mask_decoded",
        "hand_parts_mask",
        "keypoint_vis",
        "keypoint_uv",
        "batch_size",
        "coord_uv_noise",
        "coord_uv_noise_sigma",
        "crop_center_noise",
        "crop_center_noise_sigma",
        "crop_offset_noise",
        "crop_offset_noise_sigma",
        "crop_scale_noise_",
        "crop_size",
        "hand_crop",
        "hue_aug",
        "hue_aug_max",
        "num_kp",
        "num_samples",
        "random_crop_size",
        "random_crop_to_size",
        "scale_target_size",
        "scale_to_size",
        "scoremap_dropout",
        "scoremap_dropout_prob",
        "sigma",
        "shuffle",
        "use_wrist_coord",
        "palm_coord_l",
        "palm_coord_r",
        "keypoint_xyz",
        "palm_coord_uv_l",
        "palm_coord_uv_r",
        "keypoint_uv",
        "noise",
        "image",
        "palm_vis_l",
        "palm_vis_r",
        "keypoint_vis",
        "one_map",
        "zero_map",
        "cond_l",
        "cond_r",
        "hand_map_l",
        "hand_map_r",
        "num_px_left_hand",
        "num_px_right_hand",
        "kp_coord_xyz_left",
        "kp_coord_xyz_right",
        "cond_left",
        "kp_coord_xyz21",
        "hand_side",
        "hand_side",
        "keypoint_xyz21",
        "kp_coord_xyz_root",
        "kp_coord_xyz21_rel",
        "index_root_bone_length",
        "keypoint_xyz21_normed",
        "kp_coord_xyz21_local",
        "kp_coord_xyz21_local",
        "keypoint_xyz21_local",
        "kp_coord_xyz21_rel_can",
        "rot_mat",
        "kp_coord_xyz21_rel_can",
        "rot_mat",
        "kp_coord_xyz21_rel_can",
        "keypoint_xyz21_can",
        "rot_mat",
        "keypoint_vis_left",
        "keypoint_vis_right",
        "keypoint_vis21",
        "keypoint_vis21",
        "keypoint_uv_left",
        "keypoint_uv_right",
        "keypoint_uv21",
        "crop_center",
        "crop_center",
        "noise",
        "crop_scale_noise",
        "crop_scale_noise",
        "kp_coord_h",
        "kp_coord_w",
        "kp_coord_hw",
        "min_coord",
        "max_coord",
        "crop_size_best",
        "crop_size_best",
        "crop_size_best",
        "crop_size_best",
        "scale",
        "scale",
        "crop_scale",
        "noise",
        "img_crop",
        "image_crop",
        "crop_center_float",
        "keypoint_uv21_u",
        "keypoint_uv21_v",
        "keypoint_uv21",
        "keypoint_uv21",
        "scale",
        "scale_matrix",
        "scale_matrix",
        "crop_center_float",
        "trans1",
        "trans2",
        "trans1",
        "trans2",
        "trans_matrix",
        "trans_matrix",
        "k",
        "keypoint_hw21",
        "scoremap_size",
        "scoremap_size",
        "scoremap",
        "scoremap"
    ],
    "comments": [
        "coding=UTF-8",
        "将标签加载到内存中",
        "将图像文件名列表加载到内存中",
        "创建数据集",
        "self.iterator = self.dataset.make_initializable_iterator() sess.run(dataset_RHD.iterator.initializer)",
        "get info from annotation dictionary",
        "u, v coordinates of 42 hand keypoints, pixel",
        "visibility of the keypoints, boolean",
        "x, y, z coordinates of the keypoints, in meters",
        "matrix containing intrinsic parameters",
        "Project world coordinates into the camera frame",
        "Visualize data",
        "aligns the 3d coord with the camera view",
        "数据的基本处理",
        "general parameters",
        "std dev in px of noise on the uv coordinates",
        "std dev in px: this moves what is in the \"center\", but the crop always contains all keypoints",
        "translates the crop after size calculation (this can move keypoints outside)",
        "size its scaled down to if scale_to_size=True",
        "使用掌心代替手腕",
        "calculate palm visibility",
        "数据的高级处理",
        "figure out dominant hand by analysis of the segmentation mask",
        "We only deal with the more prominent hand for each frame and discard the second set of keypoints",
        "left hand = 0; right hand = 1",
        "对xyz标签进行标准化",
        "make coords relative to root joint",
        "this is the palm coord",
        "relative coords in metric coords",
        "normalized by length of 12->11",
        "calculate local coordinates",
        "calculate viewpoint and coords in canonical coordinates",
        "Set of 21 for visibility",
        "Set of 21 for UV coordinates",
        "catch problem, when no valid kp available (happens almost never)",
        "select visible coords only",
        "determine size of crop (measure spatial extend of hw coords first)",
        "find out larger distance wrt the center of crop",
        "catch problem, when no valid kp available",
        "calculate necessary scaling",
        "Crop image",
        "Modify uv21 coordinates",
        "Modify camera intrinsics",
        "create scoremaps from the subset of 2D annoataion"
    ],
    "docstrings": [
        "\"\"\"参数\n        \n        \"\"\"",
        "\"\"\" DEPENDENT DATA ITEMS: HAND CROP \"\"\"",
        "\"\"\" DEPENDENT DATA ITEMS: Scoremap from the SUBSET of 21 keypoints\"\"\"",
        "\"\"\"\ndataset_RHD = RHD()\nwith tf.Session() as sess:\n\n    for i in tqdm(range(dataset_RHD.example_num)):\n        image, keypoint_xyz, keypoint_uv, scoremap, keypoint_vis, k, num_px_left_hand, num_px_right_hand\\\n            = sess.run(dataset_RHD.get_batch_data)\n        #print(i)\n        #print(dataset_RHD.dataset.output_shapes)\n        #print(dataset_RHD.dataset.output_types)\n        RHD.visualize_data(image[0], keypoint_xyz[0], keypoint_uv[0], keypoint_vis[0], k[0], num_px_left_hand[0], num_px_right_hand[0], scoremap[0])\n\"\"\""
    ],
    "functions": [
        "visualize_data",
        "_parse_function"
    ],
    "classes": [
        "RHD"
    ]
}