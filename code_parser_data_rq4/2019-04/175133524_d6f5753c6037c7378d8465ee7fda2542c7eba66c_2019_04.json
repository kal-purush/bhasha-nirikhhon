{
    "identifiers": [
        "json",
        "re",
        "importlib",
        "import_module",
        "subprocess",
        "os",
        "app",
        "app",
        "create_app",
        "name",
        "create_app",
        "register_all",
        "name",
        "strip",
        "generate_path",
        "auto_install_rely",
        "auto_write_setting",
        "create_data",
        "name",
        "__get_all_plugins",
        "name",
        "split",
        "name",
        "names",
        "name",
        "exit",
        "path_info",
        "plugin_path",
        "name",
        "plugin_path",
        "name",
        "plugin_path",
        "name",
        "DependenciesResolve",
        "app",
        "path_info",
        "e",
        "e",
        "subprocess",
        "CalledProcessError",
        "name",
        "path_info",
        "name",
        "app",
        "config",
        "root_path",
        "name",
        "filename",
        "name",
        "name",
        "os",
        "path",
        "exists",
        "file_path",
        "os",
        "path",
        "getsize",
        "file_path",
        "name",
        "__execute_cmd",
        "cmd",
        "file_path",
        "ret",
        "success_msg",
        "exit",
        "fail_msg",
        "CalledProcessError",
        "__execute_cmd",
        "cmd",
        "file_path",
        "ret",
        "success_msg",
        "exit",
        "fail_msg",
        "e",
        "exit",
        "e",
        "fail_msg",
        "e",
        "exit",
        "e",
        "fail_msg",
        "name",
        "val",
        "path_info",
        "items",
        "import_module",
        "path_info",
        "name",
        "ModuleNotFoundError",
        "e",
        "e",
        "name",
        "_generate_setting",
        "name",
        "info_mod",
        "res",
        "__update_setting",
        "new_setting",
        "setting_text",
        "name",
        "val",
        "path_info",
        "items",
        "import_module",
        "path_info",
        "name",
        "dir",
        "plugin_module",
        "ModuleNotFoundError",
        "e",
        "e",
        "name",
        "dir_info",
        "plugin_module",
        "initial_data",
        "name",
        "info_mod",
        "info_mod",
        "__dict__",
        "path_info",
        "name",
        "info_mod_dic",
        "pop",
        "import_module",
        "path_info",
        "name",
        "cfg_mod",
        "__dict__",
        "key",
        "dic",
        "keys",
        "key",
        "startswith",
        "dic",
        "key",
        "ret",
        "new_setting",
        "app",
        "config",
        "get",
        "__cal_setting",
        "new_setting",
        "old_setting",
        "__format_setting",
        "final_setting",
        "app",
        "config",
        "root_path",
        "open",
        "setting_path",
        "f",
        "f",
        "read",
        "re",
        "sub",
        "pattern",
        "sub_str",
        "content",
        "open",
        "setting_path",
        "f",
        "f",
        "write",
        "result",
        "app",
        "config",
        "root_path",
        "file",
        "os",
        "listdir",
        "path",
        "path",
        "os",
        "path",
        "join",
        "path",
        "file",
        "os",
        "path",
        "isdir",
        "file_path",
        "ret",
        "append",
        "file",
        "ret",
        "classmethod",
        "cls",
        "cmd",
        "subprocess",
        "check_call",
        "cmd",
        "shell",
        "stdout",
        "subprocess",
        "PIPE",
        "code",
        "code",
        "classmethod",
        "cls",
        "setting",
        "setting",
        "setting_str",
        "replace",
        "replace",
        "re",
        "compile",
        "replace_reg",
        "sub",
        "ret",
        "ret",
        "staticmethod",
        "new_setting",
        "old_setting",
        "new_setting",
        "keys",
        "old_setting",
        "keys",
        "key",
        "all_keys",
        "key",
        "old_setting",
        "keys",
        "new_setting",
        "key",
        "key",
        "new_setting",
        "old_setting",
        "key",
        "new_setting",
        "key",
        "old_setting",
        "key",
        "old_setting",
        "key",
        "new_setting",
        "key",
        "final_setting",
        "app_obj",
        "path",
        "app_obj",
        "path",
        "generate_graph",
        "check_dependencies",
        "subprocess",
        "Popen",
        "stdout",
        "subprocess",
        "PIPE",
        "p",
        "communicate",
        "decode",
        "json",
        "loads",
        "r",
        "subprocess",
        "CalledProcessError",
        "e",
        "exit",
        "e",
        "e",
        "exit",
        "e",
        "__generate_plugin_graph",
        "root_graph",
        "__check_top_dependencies",
        "__check_sub_dependencies",
        "name",
        "val",
        "path_info",
        "items",
        "path_info",
        "name",
        "replace",
        "replace",
        "app",
        "config",
        "root_path",
        "plugin_path",
        "open",
        "requirements_path",
        "f",
        "f",
        "readline",
        "line",
        "re",
        "search",
        "pattern",
        "line",
        "search_obj",
        "search_obj",
        "group",
        "search_obj",
        "group",
        "search_obj",
        "group",
        "search_obj",
        "group",
        "lower",
        "plugin_package",
        "key",
        "plugin_package",
        "package_name",
        "plugin_package",
        "version",
        "plugin_package",
        "condition",
        "plugin_package",
        "name",
        "plugin_graph",
        "append",
        "plugin_package",
        "top_package",
        "plugin_package",
        "plugin_graph",
        "top_package",
        "plugin_package",
        "top_package",
        "plugin_package",
        "top_version",
        "plugin_version",
        "top_package",
        "plugin_package",
        "err_msg",
        "dep_package",
        "dependence",
        "dep_package",
        "dependence",
        "dependence",
        "required_version",
        "required_version",
        "split",
        "version_info",
        "version_infos",
        "re",
        "search",
        "pattern",
        "version_info",
        "search_obj",
        "group",
        "search_obj",
        "group",
        "replace",
        "plugin_package",
        "plugin_graph",
        "plugin_package",
        "dep_name",
        "name",
        "plugin_package",
        "replace",
        "plugin_package",
        "name",
        "condition",
        "plugin_package_version",
        "version",
        "err_msg",
        "condition",
        "plugin_package_version",
        "version",
        "err_msg",
        "condition",
        "plugin_package_version",
        "version",
        "err_msg",
        "condition",
        "plugin_package_version",
        "version",
        "err_msg",
        "condition",
        "plugin_package_version",
        "version",
        "err_msg",
        "condition",
        "plugin_package_version",
        "version",
        "err_msg",
        "create_app",
        "register_all",
        "input",
        "PluginInit",
        "plugin_name"
    ],
    "literals": [
        "'app.plugins'",
        "'*'",
        "\" \"",
        "''",
        "'插件名称不能为空，请重试'",
        "'plugin_path'",
        "'.'",
        "'plugin_config_path'",
        "'.'",
        "'.config'",
        "'plugin_info_path'",
        "'.'",
        "'.info'",
        "'安装插件依赖时发生错误！\\nError:'",
        "'正在初始化插件'",
        "'...'",
        "'requirements.txt'",
        "'/plugins/'",
        "'/'",
        "'安装'",
        "'插件的依赖成功'",
        "'插件的依赖安装失败，请[手动安装依赖]: http://doc.7yue.pro/'",
        "'正在安装'",
        "'插件的依赖...'",
        "'pipenv install -r '",
        "'pip install -r '",
        "'\\n'",
        "'\\n'",
        "'正在自动写入配置文件...'",
        "'plugin_info_path'",
        "'\\n未找到插件'",
        "'，请检查您输入的插件名是否正确'",
        "'正在创建基础数据...'",
        "'plugin_path'",
        "'.app.__init__'",
        "'\\n未找到插件'",
        "'，请检查您输入的插件名是否正确或插件中是否有未安装的依赖包'",
        "'initial_data'",
        "'插件初始化成功'",
        "'path'",
        "'plugin_path'",
        "'enable'",
        "'version'",
        "\"__version__\"",
        "'0.0.1'",
        "'plugin_config_path'",
        "'__'",
        "'PLUGIN_PATH'",
        "'PLUGIN_PATH = '",
        "'/config/setting.py'",
        "'r'",
        "'PLUGIN_PATH = \\{([\\s\\S]*)\\}+.*?'",
        "'w+'",
        "'/plugins'",
        "'},'",
        "'},\\n   '",
        "'{'",
        "'{\\n    '",
        "r'\\}$'",
        "'\\n}'",
        "'version'",
        "'version'",
        "\"pipenv\"",
        "\"graph\"",
        "\"--json\"",
        "'utf-8'",
        "\"pipenv指令未安装，请先使用pip安装命令\\nError\"",
        "\"pipenv 错误，请检测你的pipenv配置！\\nError：\"",
        "'package'",
        "'dependencies'",
        "'plugin_path'",
        "'.'",
        "'/'",
        "'app'",
        "''",
        "'/requirements.txt'",
        "'r'",
        "'(.*?)(==|<=|>=|!=|>|<)(.*)'",
        "'package'",
        "'package'",
        "'key'",
        "'package'",
        "'package_name'",
        "'package'",
        "'version'",
        "'package'",
        "'condition'",
        "'package'",
        "'plugin_name'",
        "'installed_version'",
        "'package'",
        "'version'",
        "'key'",
        "'package'",
        "'key'",
        "'由于项目主目录已经存在在包'",
        "''",
        "'package_name'",
        "'，但 '",
        "'package'",
        "'plugin_name'",
        "' 插件尝试重复安装不同版本，请尝试手动去掉该插件的requirements.txt中的包'",
        "'required_version'",
        "'key'",
        "\",\"",
        "'(>=|<=|!=|==|<|>)(.*)'",
        "'.'",
        "''",
        "'package'",
        "'key'",
        "'package'",
        "'version'",
        "'.'",
        "''",
        "'package'",
        "'plugin_name'",
        "'插件的依赖 '",
        "' 与主项目依赖版本发生冲突! 请自行手动解决'",
        "'>='",
        "'=='",
        "'!='",
        "'<='",
        "'<'",
        "'>'",
        "'__main__'",
        "'请输入要初始化的插件名，如果多个插件请使用空格分隔插件名，输入*表示初始化所有插件:\\n'"
    ],
    "variables": [
        "plugin_path",
        "app",
        "name",
        "path_info",
        "names",
        "names",
        "name",
        "filename",
        "file_path",
        "success_msg",
        "fail_msg",
        "ret",
        "ret",
        "setting_text",
        "info_mod",
        "res",
        "setting_text",
        "name",
        "plugin_module",
        "dir_info",
        "info_mod_dic",
        "ret",
        "cfg_mod",
        "dic",
        "ret",
        "key",
        "old_setting",
        "final_setting",
        "sub_str",
        "setting_path",
        "content",
        "pattern",
        "result",
        "ret",
        "path",
        "file_path",
        "code",
        "setting_str",
        "ret",
        "replace_reg",
        "ret",
        "final_setting",
        "all_keys",
        "final_setting",
        "key",
        "final_setting",
        "key",
        "final_setting",
        "key",
        "final_setting",
        "key",
        "app",
        "path_info",
        "root_graph",
        "plugin_graph",
        "p",
        "r",
        "root_graph",
        "plugin_path",
        "requirements_path",
        "line",
        "pattern",
        "search_obj",
        "package_name",
        "condition",
        "version",
        "key",
        "plugin_package",
        "top_version",
        "plugin_version",
        "err_msg",
        "required_version",
        "dep_name",
        "version_infos",
        "pattern",
        "search_obj",
        "condition",
        "version",
        "name",
        "plugin_package_version",
        "err_msg",
        "app",
        "plugin_name"
    ],
    "comments": [
        "插件位置默认前缀",
        "插件相关的路径信息，包含plugin_path(插件路径)，plugin_config_path(插件的配置文件路径)，plugin_info_path(插件的基本信息路径)",
        "根据name生成path，写入到path_info属性中",
        "安装依赖",
        "将插件的配置自动写入setting",
        "创建数据表，并且向表中插入模型中的一些初始数据",
        "使用try except来判断使用pip管理包还是pipenv管理包，首选pipenv",
        "正则匹配setting.py中的配置文件，将配置文件替换成新的setting_doc",
        "调用插件__init__模块中的initial_data方法，创建初始的数据",
        "info_mod_dic.__version__",
        "向setting_doc中写入插件的配置项",
        "得到现存的插件配置",
        "返回所有插件的目录名称",
        "格式化setting字符串",
        "将新旧的setting合并，返回一个字典",
        "1、对比old和new，并且将这两个配置合并",
        "2、如果新的存在，旧的不存在，就追加新的；",
        "3、如果旧的存在，新的不存在，就保留旧的；",
        "4、如果新旧都存在，那么在版本号相同的情况下，保留旧的配置项，否则新的配置覆盖旧的配置。",
        "得到新旧配置的并集",
        "不存在，追加新的",
        "存在，对比版本号，看看是否需要更新  TODO 优化条件判断",
        "新的不存在",
        "新的存在",
        "版本号相同，使用旧的配置",
        "版本号不同，更新配置为新的",
        "主项目的依赖关系列表",
        "所有插件的依赖关系列表",
        "生成主项目和插件依赖关系列表",
        "验证顶级包是否符合规范",
        "验证子包是否符合规范",
        "首先去校验插件依赖于住项目的依赖是否存在冲突",
        "正则匹配requirements的每一行的信息",
        "判断插件中要安装的依赖，是否符合主项目已安装的依赖规定的范围"
    ],
    "docstrings": [
        "\"\"\"\n    :copyright: © 2019 by the Lin team.\n    :license: MIT, see LICENSE for more details.\n\"\"\"",
        "\"\"\"\n插件初始化流程:\n1、输入要初始化的插件名称。（多个用空格隔开，*表示初始化所有）\n2、python依赖的自动检测和安装\n2、将插件的配置写入到项目setting.py中\n3、将model中的模型插入到数据库中\n4、如果有需要，将初始数据插入到数据表中\n\"\"\""
    ],
    "functions": [
        "generate_path",
        "auto_install_rely",
        "auto_write_setting",
        "create_data",
        "_generate_setting",
        "__update_setting",
        "__get_all_plugins",
        "__execute_cmd",
        "__format_setting",
        "__cal_setting",
        "generate_graph",
        "check_dependencies",
        "__generate_plugin_graph",
        "__check_top_dependencies",
        "__check_sub_dependencies"
    ],
    "classes": [
        "PluginInit",
        "DependenciesResolve"
    ]
}