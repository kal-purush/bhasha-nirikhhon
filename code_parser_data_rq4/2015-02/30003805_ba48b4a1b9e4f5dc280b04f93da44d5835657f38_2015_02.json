{
    "identifiers": [
        "edu",
        "berkeley",
        "eecs",
        "cfc_tracker",
        "auth",
        "java",
        "io",
        "BufferedReader",
        "java",
        "io",
        "File",
        "java",
        "io",
        "FileNotFoundException",
        "java",
        "io",
        "FileReader",
        "java",
        "io",
        "java",
        "io",
        "InputStreamReader",
        "java",
        "io",
        "PrintWriter",
        "org",
        "apache",
        "http",
        "HttpResponse",
        "org",
        "apache",
        "http",
        "client",
        "methods",
        "HttpPost",
        "org",
        "apache",
        "http",
        "entity",
        "StringEntity",
        "org",
        "json",
        "JSONException",
        "org",
        "json",
        "JSONObject",
        "android",
        "content",
        "Context",
        "android",
        "net",
        "http",
        "AndroidHttpClient",
        "android",
        "os",
        "AsyncTask",
        "edu",
        "berkeley",
        "eecs",
        "cfc_tracker",
        "auth",
        "GoogleAccountManagerAuth",
        "edu",
        "berkeley",
        "eecs",
        "cfc_tracker",
        "ConnectionSettings",
        "userEmail",
        "googleAuthDone",
        "linkWithMovesDone",
        "savedCtxt",
        "privateFile",
        "theInstance",
        "context",
        "savedCtxt",
        "context",
        "privateFileDir",
        "context",
        "getFilesDir",
        "privateFile",
        "privateFileDir",
        "privateFile",
        "profileJSONStr",
        "readLine",
        "profileObj",
        "profileJSONStr",
        "userEmail",
        "profileObj",
        "getString",
        "googleAuthDone",
        "profileObj",
        "getBoolean",
        "linkWithMovesDone",
        "profileObj",
        "getBoolean",
        "close",
        "e",
        "e",
        "printStackTrace",
        "e",
        "e",
        "printStackTrace",
        "e",
        "e",
        "printStackTrace",
        "profileObj",
        "profileObj",
        "put",
        "userEmail",
        "profileObj",
        "put",
        "googleAuthDone",
        "profileObj",
        "put",
        "linkWithMovesDone",
        "profileJSONStr",
        "profileObj",
        "toString",
        "privateFile",
        "profileJSONStr",
        "flush",
        "close",
        "e",
        "e",
        "printStackTrace",
        "e",
        "e",
        "printStackTrace",
        "userEmail",
        "loadFromFile",
        "userEmail",
        "userEmail",
        "userEmail",
        "userEmail",
        "userEmail",
        "userEmail",
        "saveToFile",
        "userEmail",
        "loadFromFile",
        "googleAuthDone",
        "googleAuthDone",
        "googleAuthDone",
        "googleAuthDone",
        "saveToFile",
        "userEmail",
        "loadFromFile",
        "linkWithMovesDone",
        "linkWithMovesDone",
        "linkWithMovesDone",
        "linkWithMovesDone",
        "saveToFile",
        "context",
        "theInstance",
        "theInstance",
        "context",
        "theInstance",
        "RegisterUserResult",
        "result",
        "callbackObj",
        "thisContext",
        "savedCtxt",
        "userName",
        "getUserEmail",
        "thisCallback",
        "callbackObj",
        "task",
        "Override",
        "userToken",
        "GoogleAccountManagerAuth",
        "getServerToken",
        "thisContext",
        "userName",
        "msg",
        "ConnectionSettings",
        "getConnectURL",
        "thisContext",
        "msg",
        "setHeader",
        "toPush",
        "toPush",
        "put",
        "userToken",
        "msg",
        "setEntity",
        "toPush",
        "toString",
        "connection",
        "AndroidHttpClient",
        "newInstance",
        "response",
        "connection",
        "execute",
        "msg",
        "response",
        "response",
        "getStatusLine",
        "response",
        "getEntity",
        "getContent",
        "builder",
        "currLine",
        "currLine",
        "readLine",
        "builder",
        "append",
        "currLine",
        "rawHTML",
        "builder",
        "toString",
        "close",
        "connection",
        "close",
        "rawHTML",
        "e",
        "e",
        "printStackTrace",
        "e",
        "getLocalizedMessage",
        "e",
        "e",
        "printStackTrace",
        "e",
        "getLocalizedMessage",
        "Override",
        "taskResult",
        "taskResult",
        "thisCallback",
        "registerComplete",
        "taskResult",
        "task",
        "execute"
    ],
    "literals": [
        "\"Creating a new instance of the user profile\"",
        "\"userProfile\"",
        "\"userEmail\"",
        "\"googleAuthDone\"",
        "\"linkWithMovesDone\"",
        "\"userEmail\"",
        "\"googleAuthDone\"",
        "\"linkWithMovesDone\"",
        "\"Setting userEmail from \"",
        "\" -> \"",
        "\"/profile/create\"",
        "\"Content-Type\"",
        "\"application/json\"",
        "\"user\"",
        "\"E-Mission\"",
        "\"Got response \"",
        "\" with status \"",
        "\"\\n\"",
        "\"<html><body>\"",
        "\"</body></html>\"",
        "\"<html><body>\"",
        "\"</body></html>\""
    ],
    "variables": [
        "userEmail",
        "googleAuthDone",
        "linkWithMovesDone",
        "savedCtxt",
        "privateFile",
        "theInstance",
        "params"
    ],
    "comments": [
        "Prevent clients from creating the profile directly",
        "TODO Auto-generated catch block",
        "TODO Auto-generated catch block",
        "TODO Auto-generated catch block",
        "TODO Auto-generated catch block",
        "TODO Auto-generated catch block",
        "final long startMs = System.currentTimeMillis();",
        "TODO: Restructure this later to combine with the data sync class",
        "System.out.println(\"Raw HTML = \"+rawHTML);",
        "TODO Auto-generated catch block",
        "TODO Auto-generated catch block"
    ],
    "docstrings": [
        "* Singleton class that is used to store profile information about the user.\n * The current information is:\n * - user email address\n * - whether they are authenticated or not\n * - whether they have clicked the \"link to moves\" button or not",
        "* We can't use the classic singleton here because the classic java singleton\n\t * creates one object per classloader. While testing this, we found that android\n\t * uses separate classloaders for the user visible activities and for the\n\t * background calls, so a username set by the main activity would not be available\n\t * in the background sync. So we use the filesystem as a shared datastore\n\t * to synchronize between the two contexts.",
        "* For all the get methods below here, we only re-read the file\n\t * if the userEmail == null. This is for performance reasons,\n\t * since reading the file every time we want to check the user email seems\n\t * pretty expensive. We still save on every set since we don't plan to set\n\t * that often. This can cause R after W errors if we have multiple\n\t * contexts. Luckily, I think that we get a new context for each background invocation.\n\t * \n\t * The main problem if not would occur if the user selected a different user using the settings\n\t * activity. If the background invocations reused the context, then we would reuse the old\n\t * account in spite of that. Write a unit case to test this?\n\t * \n\t * We will also unset the values when we get authentication errors, which should avoid\n\t * most of the real errors.\n\t * \n\t * Will I feel better about this if we switch to a database?",
        "* TODO: Pull out the AsyncTask code, now used here, in the DisplayResultSummary, and in the AppSettings\n\t * into a separate class.",
        "long endMs = System.currentTimeMillis();\n\t\t\t\tstatsHelper.storeMeasurement(thisContext.getString(R.string.result_display_duration),\n\t\t\t\t\t\tString.valueOf(endMs - startMs), String.valueOf(endMs));"
    ],
    "functions": [
        "UserProfile",
        "loadFromFile",
        "saveToFile",
        "getUserEmail",
        "setUserEmail",
        "isGoogleAuthDone",
        "setGoogleAuthDone",
        "isLinkWithMovesDone",
        "setLinkWithMovesDone",
        "UserProfile",
        "getInstance",
        "registerComplete",
        "registerUser",
        "doInBackground",
        "onPostExecute"
    ],
    "classes": [
        "UserProfile"
    ]
}