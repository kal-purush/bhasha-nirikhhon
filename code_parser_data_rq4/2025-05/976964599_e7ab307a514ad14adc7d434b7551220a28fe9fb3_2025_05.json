{
    "identifiers": [
        "requests",
        "os",
        "json",
        "API_URL",
        "INPUT_FILE_PATH",
        "SCHEMA_FILE_PATH",
        "open",
        "INPUT_FILE_PATH",
        "input_f",
        "open",
        "SCHEMA_FILE_PATH",
        "schema_f",
        "os",
        "path",
        "basename",
        "INPUT_FILE_PATH",
        "input_f",
        "os",
        "path",
        "basename",
        "SCHEMA_FILE_PATH",
        "schema_f",
        "requests",
        "post",
        "API_URL",
        "files",
        "files_to_upload",
        "response",
        "status_code",
        "response",
        "json",
        "json",
        "dumps",
        "response_json",
        "indent",
        "json",
        "JSONDecodeError",
        "response",
        "text",
        "FileNotFoundError",
        "INPUT_FILE_PATH",
        "SCHEMA_FILE_PATH",
        "requests",
        "exceptions",
        "ConnectionError",
        "e",
        "API_URL",
        "e",
        "e",
        "e",
        "test_format_endpoint"
    ],
    "literals": [
        "\"http://127.0.0.1:8000/format/\"",
        "\"testcases/transformers.bib\"",
        "\"testcases/citations.json\"",
        "f\"Attempting to POST to: {API_URL}\"",
        "f\"Using input file: {INPUT_FILE_PATH}\"",
        "f\"Using schema file: {SCHEMA_FILE_PATH}\"",
        "'rb'",
        "'rb'",
        "'input_file'",
        "'text/plain'",
        "'schema_file'",
        "'application/json'",
        "f\"\\n--- Response ---\"",
        "f\"Status Code: {response.status_code}\"",
        "\"Response JSON:\"",
        "\"Response Body (Not JSON):\"",
        "f\"\\nError: Make sure '{INPUT_FILE_PATH}' and '{SCHEMA_FILE_PATH}' exist.\"",
        "f\"\\nConnection Error: Could not connect to the server at {API_URL}.\"",
        "\"Please ensure your FastAPI server is running.\"",
        "f\"Details: {e}\"",
        "f\"\\nAn unexpected error occurred: {e}\"",
        "\"__main__\""
    ],
    "variables": [
        "API_URL",
        "INPUT_FILE_PATH",
        "SCHEMA_FILE_PATH",
        "files_to_upload",
        "response",
        "response_json"
    ],
    "comments": [
        "--- Configuration ---",
        "URL of your running FastAPI application's endpoint",
        "--- !!! IMPORTANT !!! ---",
        "Create these files in the same directory as this script,",
        "or update the paths to point to your actual test files.",
        "Path to a sample input file (e.g., a dummy text or bib file)",
        "Path to a sample schema file (must be a valid JSON)",
        "--- Main Test Function ---",
        "Open the files in binary read mode ('rb')",
        "Prepare the files dictionary for the multipart/form-data request",
        "The keys ('input_file', 'schema_file') MUST match the parameter",
        "names in your FastAPI endpoint function (`create_format_job`).",
        "Adjust mime type if needed",
        "Send the POST request",
        "Check the response status code",
        "Try to print the JSON response body",
        "Pretty print the JSON",
        "--- Run the test ---"
    ],
    "docstrings": [
        "\"\"\"Sends a request to the /format/ endpoint and prints the response.\"\"\""
    ],
    "functions": [
        "test_format_endpoint"
    ],
    "classes": []
}