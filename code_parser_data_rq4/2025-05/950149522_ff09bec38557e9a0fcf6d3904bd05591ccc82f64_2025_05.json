{
    "identifiers": [
        "pandas",
        "pd",
        "streamlit",
        "st",
        "requests",
        "datetime",
        "datetime",
        "timedelta",
        "datetime",
        "today",
        "date",
        "today",
        "timedelta",
        "days",
        "today",
        "weekday",
        "weekday",
        "today",
        "timedelta",
        "days",
        "days_until_saturday",
        "saturday",
        "timedelta",
        "days",
        "pd",
        "DataFrame",
        "data",
        "pd",
        "to_datetime",
        "df",
        "prompt",
        "prompt",
        "requests",
        "post",
        "headers",
        "json",
        "prompt",
        "response",
        "json",
        "output",
        "e",
        "e",
        "prompt",
        "prompt",
        "requests",
        "post",
        "headers",
        "json",
        "prompt",
        "response",
        "json",
        "output",
        "e",
        "e",
        "st",
        "title",
        "st",
        "subheader",
        "st",
        "write",
        "df",
        "st",
        "text_input",
        "user_query",
        "saturday",
        "isoformat",
        "sunday",
        "isoformat",
        "saturday",
        "timedelta",
        "days",
        "isoformat",
        "sunday",
        "timedelta",
        "days",
        "isoformat",
        "tomorrow",
        "isoformat",
        "today",
        "isoformat",
        "user_query",
        "YiLLM",
        "prompt",
        "st",
        "markdown",
        "model",
        "call",
        "st",
        "markdown",
        "code_value",
        "YiLLM_Eval",
        "validation_prompt",
        "phi_model",
        "call",
        "st",
        "code",
        "phi_code",
        "language",
        "eval",
        "phi_code",
        "st",
        "subheader",
        "st",
        "write",
        "filtered_df",
        "e",
        "st",
        "error",
        "e"
    ],
    "literals": [
        "\"Listing_Name\"",
        "\"Cozy Downtown Loft\"",
        "\"Luxury LA Villa with Pool\"",
        "\"Chic Chicago Apartment\"",
        "\"Beachside Condo in Miami\"",
        "\"Modern Dallas Studio\"",
        "\"Bayview SF Retreat\"",
        "\"Spacious Seattle Suite\"",
        "\"Historic Boston Home\"",
        "\"Vegas Strip High-Rise\"",
        "\"Trendy Austin Bungalow\"",
        "\"Classic Atlanta Townhouse\"",
        "\"Mountain-View Denver Cabin\"",
        "\"Orlando Family Villa\"",
        "\"Country Music Stay - Nashville\"",
        "\"Eco-Friendly Portland Flat\"",
        "\"Location\"",
        "\"New York, NY, USA\"",
        "\"Los Angeles, CA, USA\"",
        "\"Chicago, IL, USA\"",
        "\"Miami, FL, USA\"",
        "\"Dallas, TX, USA\"",
        "\"San Francisco, CA, USA\"",
        "\"Seattle, WA, USA\"",
        "\"Boston, MA, USA\"",
        "\"Las Vegas, NV, USA\"",
        "\"Austin, TX, USA\"",
        "\"Atlanta, GA, USA\"",
        "\"Denver, CO, USA\"",
        "\"Orlando, FL, USA\"",
        "\"Nashville, TN, USA\"",
        "\"Portland, OR, USA\"",
        "\"Availability\"",
        "\"2025-05-10\"",
        "\"2025-05-12\"",
        "\"2025-05-14\"",
        "\"2025-05-11\"",
        "\"2025-05-15\"",
        "\"2025-05-16\"",
        "\"2025-05-13\"",
        "\"2025-05-18\"",
        "\"2025-05-17\"",
        "\"2025-05-19\"",
        "\"2025-05-20\"",
        "\"2025-05-21\"",
        "\"2025-05-22\"",
        "\"2025-05-23\"",
        "\"2025-05-24\"",
        "\"No_of_Guests\"",
        "\"Rating\"",
        "\"Instant_Booking\"",
        "\"House_Type\"",
        "\"Apartment\"",
        "\"Home\"",
        "\"Apartment\"",
        "\"Beach House\"",
        "\"Studio\"",
        "\"Retreat\"",
        "\"Suite\"",
        "\"Home\"",
        "\"High-Rise\"",
        "\"Bungalow\"",
        "\"Townhouse\"",
        "\"Cabin\"",
        "\"Villa\"",
        "\"Hotel Room\"",
        "\"Flat\"",
        "\"Price_per_Night\"",
        "\"Beds\"",
        "\"Rooms\"",
        "\"Bathrooms\"",
        "\"Amenities\"",
        "\"WiFi\"",
        "\"Kitchen\"",
        "\"Pool\"",
        "\"WiFi\"",
        "\"Parking\"",
        "\"WiFi\"",
        "\"AC\"",
        "\"Beach Access\"",
        "\"WiFi\"",
        "\"WiFi\"",
        "\"WiFi\"",
        "\"Balcony\"",
        "\"Parking\"",
        "\"Kitchen\"",
        "\"WiFi\"",
        "\"Washer\"",
        "\"Gym\"",
        "\"WiFi\"",
        "\"WiFi\"",
        "\"Parking\"",
        "\"Mountain View\"",
        "\"WiFi\"",
        "\"WiFi\"",
        "\"Kids Friendly\"",
        "\"WiFi\"",
        "\"Eco-Friendly\"",
        "\"Safety_Amenities\"",
        "\"Smoke Detector\"",
        "\"Smoke Detector\"",
        "\"Fire Extinguisher\"",
        "\"First Aid Kit\"",
        "\"Smoke Detector\"",
        "\"Fire Extinguisher\"",
        "\"Smoke Detector\"",
        "\"Smoke Detector\"",
        "\"None\"",
        "\"First Aid Kit\"",
        "\"None\"",
        "\"None\"",
        "\"Fire Extinguisher\"",
        "\"Smoke Detector\"",
        "\"None\"",
        "\"None\"",
        "\"Shared_Space\"",
        "\"House_Rules\"",
        "\"No smoking\"",
        "\"No pets\"",
        "\"No parties\"",
        "\"No parties\"",
        "\"Quiet hours after 10pm\"",
        "\"No smoking\"",
        "\"No loud music\"",
        "\"No parties\"",
        "\"No smoking\"",
        "\"No pets\"",
        "\"Quiet hours\"",
        "\"No parties\"",
        "\"No guests\"",
        "\"No pets\"",
        "\"No parties\"",
        "\"No smoking\"",
        "\"Availability\"",
        "\"Availability\"",
        "\"http://localhost:1234/v1/chat/completions\"",
        "\"Content-Type\"",
        "\"application/json\"",
        "\"model\"",
        "\"lmstudio-community/Yi-Coder-9B-Chat-GGUF\"",
        "\"messages\"",
        "\"role\"",
        "\"user\"",
        "\"content\"",
        "\"max_tokens\"",
        "\"temperature\"",
        "\"top_p\"",
        "\"repeat_penalty\"",
        "\"choices\"",
        "\"message\"",
        "\"content\"",
        "f\"Error {e}\"",
        "\"http://localhost:1234/v1/chat/completions\"",
        "\"Content-Type\"",
        "\"application/json\"",
        "\"model\"",
        "\"lmstudio-community/Phi-3.1-mini-128k-instruct-GGUF\"",
        "\"messages\"",
        "\"role\"",
        "\"user\"",
        "\"content\"",
        "\"max_tokens\"",
        "\"temperature\"",
        "\"top_p\"",
        "\"repeat_penalty\"",
        "\"choices\"",
        "\"message\"",
        "\"content\"",
        "f\"Error {e}\"",
        "\"Glyph FEAT-AI\"",
        "\"Original DataFrame:\"",
        "\"Enter a query to filter the listings (e.g., Rating above 4)\"",
        "f\"\"\"\n    ### Instruction:\n    You are a Python assistant that converts user queries into pandas DataFrame filter code.\n\n    Assume the DataFrame `df` has the following columns:\n    - Listing_Name (str)\n    - Location (str)\n    - Availability (datetime)\n    - No_of_Guests (int)\n    - Rating (float)\n    - Instant_Booking (bool)\n    - House_Type (str)\n    - Price_per_Night (int)\n    - Beds (int)\n    - Rooms (int)\n    - Bathrooms (int)\n    - Amenities (list[str])\n    - Safety_Amenities (list[str])\n    - Shared_Space (bool)\n    - House_Rules (list[str])\n\n    ### Formatting & Logic Rules:\n    - Use format `YYYY-MM-DD` for dates\n    - For date ranges: `start_date to end_date`\n    - Booleans as `true` or `false`\n    - Lists as Python list format (e.g., [\"WiFi\", \"Pool\"])\n    - Omit fields not mentioned in user query\n\n    ### Matching Logic:\n    - For **all string-based columns** (e.g., Location, Listing_Name, House_Type, House_Rules):\n    - Use **case-insensitive partial matching** with `.str.contains(\"value\", case=False)`\n    - Avoid exact string comparisons (`==`) unless the query clearly specifies a full value\n    - For **list-type fields** (e.g., Amenities, Safety_Amenities, House_Rules):\n    - Use `.apply(lambda x: \"value\" in x)` or match multiple items using `all(...)`/`any(...)` logic\n    - For **numerical ranges**, use `>=`, `<=`, or `between`\n    - For **date ranges**, use: `(df[\"Availability\"] >= \"YYYY-MM-DD\") & (df[\"Availability\"] <= \"YYYY-MM-DD\")`\n\n    ### Date Interpretation Rules:\n    - \"This weekend\": Saturday to Sunday → \"{saturday.isoformat()} to {sunday.isoformat()}\"\n    - \"Next weekend\": One week later → \"{(saturday + timedelta(days=7)).isoformat()} to {(sunday + timedelta(days=7)).isoformat()}\"\n    - \"Tomorrow\": Use {tomorrow.isoformat()}\n    - If only duration is given, assume start date is today → {today.isoformat()}\n    - Always infer `start_date` and `end_date` where relevant\n\n    ### Examples:\n    - \"in New York\" → `df[\"Location\"].str.contains(\"New York\", case=False)`\n    - \"with pool and WiFi\" → `df[\"Amenities\"].apply(lambda x: all(a in x for a in [\"pool\", \"WiFi\"]))`\n    - \"instant book\" → `df[\"Instant_Booking\"] == True`\n    - \"at least 4.5 rating\" → `df[\"Rating\"] >= 4.5`\n    - Combine conditions with `&` and wrap with `df[...]`\n    ---\n\n    ### User Query:\n    {user_query}\n\n    ---\n\n    ### Output:\n    Only output the final pandas filter expression, using proper logical chaining with `&` or `|` as needed.\n    \"\"\"",
        "\"### Processing for Code Generation...\"",
        "\"### Code Generation Completed, Working on Evaluation...\"",
        "f\"\"\"\n    You are a Python expert assistant. Your task is to validate and correct the given pandas DataFrame filter expression.\n\n    Instructions:\n    - Ensure the code is a syntactically valid filter wrapped in `df[...]`.\n    - Fix only syntax issues such as:\n    - Missing or unmatched brackets.\n    - Missing or misplaced logical operators (&, |).\n    - Expressions not wrapped with `df[...]`.\n    - Do NOT change the logical meaning or alter column names, filters, or values.\n\n    Input Expression:\n    {code_value}\n\n    Output:\n    Return only the corrected Python expression (wrapped in `df[...]`), nothing else.\n    \"\"\"",
        "\"python\"",
        "\"Filtered Listings:\"",
        "f\"Error executing code: {e}\""
    ],
    "variables": [
        "today",
        "tomorrow",
        "weekday",
        "days_until_saturday",
        "saturday",
        "sunday",
        "data",
        "df",
        "df",
        "prompt",
        "response",
        "output",
        "prompt",
        "response",
        "output",
        "user_query",
        "prompt",
        "model",
        "code_value",
        "validation_prompt",
        "phi_model",
        "phi_code",
        "filtered_df"
    ],
    "comments": [
        "Initialize the dataframe",
        "Define the LLM class",
        "Make sure this matches your loaded model name",
        "Extract and return just the message content",
        "Make sure this matches your loaded model name",
        "Extract and return just the message content",
        "Streamlit app layout",
        "Display the DataFrame",
        "Get user input for filtering",
        "Prepare the prompt",
        "Show the generated pandas code",
        "Evaluation Part",
        "final_code = sanitize_model_code(code_value)",
        "Execute the generated code on the dataframe"
    ],
    "docstrings": [],
    "functions": [
        "call",
        "call"
    ],
    "classes": [
        "YiLLM",
        "YiLLM_Eval"
    ]
}