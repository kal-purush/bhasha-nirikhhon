{
    "identifiers": [
        "time",
        "unittest",
        "TestCase",
        "numpy",
        "np",
        "openmdao",
        "main",
        "api",
        "Assembly",
        "Component",
        "set_as_top",
        "Driver",
        "openmdao",
        "main",
        "datatypes",
        "api",
        "Str",
        "openmdao",
        "main",
        "mpiwrap",
        "MPI",
        "MPIContext",
        "openmdao",
        "lib",
        "drivers",
        "mpicasedriver",
        "MPICaseDriver",
        "openmdao",
        "lib",
        "drivers",
        "simplecid",
        "SimpleCaseIterDriver",
        "openmdao",
        "test",
        "mpiunittest",
        "MPITestCase",
        "openmdao",
        "util",
        "testutil",
        "assert_rel_error",
        "Component",
        "iotype",
        "Str",
        "iotype",
        "Str",
        "iotype",
        "iotype",
        "iotype",
        "arr_size",
        "ABCDArrayComp",
        "add_trait",
        "np",
        "ones",
        "arr_size",
        "iotype",
        "add_trait",
        "np",
        "ones",
        "arr_size",
        "iotype",
        "add_trait",
        "np",
        "ones",
        "arr_size",
        "iotype",
        "add_trait",
        "np",
        "ones",
        "arr_size",
        "iotype",
        "time",
        "sleep",
        "delay",
        "a",
        "b",
        "a",
        "b",
        "in_string",
        "name",
        "in_list",
        "name",
        "name",
        "a",
        "name",
        "b",
        "name",
        "c",
        "name",
        "d",
        "num_inputs",
        "mpi",
        "set_as_top",
        "Assembly",
        "mpi",
        "MPICaseDriver",
        "SimpleCaseIterDriver",
        "top",
        "add",
        "drv",
        "top",
        "add",
        "ABCDArrayComp",
        "vsize",
        "top",
        "add",
        "ABCDArrayComp",
        "vsize",
        "top",
        "add",
        "ABCDArrayComp",
        "vsize",
        "top",
        "add",
        "ABCDArrayComp",
        "vsize",
        "top",
        "add",
        "ABCDArrayComp",
        "vsize",
        "top",
        "driver",
        "workflow",
        "add",
        "top",
        "connect",
        "top",
        "connect",
        "top",
        "connect",
        "top",
        "connect",
        "top",
        "connect",
        "top",
        "connect",
        "top",
        "connect",
        "top",
        "connect",
        "top",
        "connect",
        "driver",
        "add_parameter",
        "driver",
        "add_parameter",
        "driver",
        "add_parameter",
        "driver",
        "add_parameter",
        "driver",
        "add_response",
        "driver",
        "add_response",
        "driver",
        "add_response",
        "driver",
        "add_response",
        "i",
        "num_inputs",
        "avals",
        "append",
        "np",
        "ones",
        "vsize",
        "a",
        "a",
        "bvals",
        "append",
        "np",
        "ones",
        "vsize",
        "b",
        "b",
        "svals",
        "append",
        "s",
        "i",
        "lvals",
        "append",
        "l",
        "l",
        "i",
        "driver",
        "case_inputs",
        "C1",
        "avals",
        "driver",
        "case_inputs",
        "C1",
        "bvals",
        "driver",
        "case_inputs",
        "C1",
        "svals",
        "driver",
        "case_inputs",
        "C1",
        "lvals",
        "top",
        "MPITestCase",
        "model_setup",
        "top",
        "driver",
        "top",
        "run",
        "TestCase",
        "model_setup",
        "mpi",
        "top",
        "driver",
        "top",
        "run",
        "openmdao",
        "test",
        "mpiunittest",
        "mpirun_tests",
        "mpirun_tests"
    ],
    "literals": [
        "'in'",
        "'in'",
        "'out'",
        "'in'",
        "'out'",
        "'a'",
        "'in'",
        "'b'",
        "'in'",
        "'c'",
        "'out'",
        "'d'",
        "'out'",
        "'_'",
        "':'",
        "\"%s.a = %s\"",
        "\"%s.b = %s\"",
        "\"%s.c = %s\"",
        "\"%s.d = %s\"",
        "\"driver\"",
        "\"C1\"",
        "\"C2\"",
        "\"C3\"",
        "\"C4\"",
        "\"C5\"",
        "'C1'",
        "'C2'",
        "'C3'",
        "'C4'",
        "'C5'",
        "'C1.c'",
        "'C2.a'",
        "'C1.out_string'",
        "'C2.in_string'",
        "'C1.out_list'",
        "'C4.in_list'",
        "'C1.d'",
        "'C3.b'",
        "'C1.c'",
        "'C4.a'",
        "'C2.out_string'",
        "'C5.in_string'",
        "'C3.d'",
        "'C5.b'",
        "'C4.c'",
        "'C5.a'",
        "'C4.out_list'",
        "'C5.in_list'",
        "\"C1.a\"",
        "\"C1.b\"",
        "\"C1.in_string\"",
        "\"C1.in_list\"",
        "\"C5.c\"",
        "\"C5.d\"",
        "\"C5.out_string\"",
        "\"C5.out_list\"",
        "'abcdefghijklmnopqrstuvwxyz'",
        "'__main__'"
    ],
    "variables": [
        "delay",
        "in_string",
        "out_string",
        "in_list",
        "out_list",
        "c",
        "d",
        "out_string",
        "out_list",
        "vsize",
        "top",
        "drv",
        "drv",
        "driver",
        "a",
        "b",
        "s",
        "l",
        "avals",
        "bvals",
        "svals",
        "lvals",
        "l",
        "a",
        "b",
        "in_string",
        "in_list",
        "N_PROCS",
        "top",
        "driver",
        "top",
        "driver"
    ],
    "comments": [
        "self.dump()",
        "array var size",
        "a comp feeds 3 parallel comps which feed",
        "another comp",
        "set up parameters and responses for CaseDriver",
        "set up inputs",
        "class MPITests1(MPITestCase):",
        "",
        "N_PROCS = 2",
        "",
        "def test_fan_out_in(self):",
        "size = 5   # array var size",
        "",
        "# a comp feeds two parallel comps which feed",
        "# another comp",
        "top = set_as_top(Assembly())",
        "top.add(\"C1\", ABCDArrayComp(size))",
        "top.add(\"C2\", ABCDArrayComp(size))",
        "top.add(\"C3\", ABCDArrayComp(size))",
        "top.add(\"C4\", ABCDArrayComp(size))",
        "top.driver.workflow.add(['C1', 'C2', 'C3', 'C4'])",
        "top.connect('C1.c', 'C2.a')",
        "top.connect('C1.d', 'C3.b')",
        "top.connect('C2.c', 'C4.a')",
        "top.connect('C3.d', 'C4.b')",
        "",
        "top.C1.a = np.ones(size, float) * 3.0",
        "top.C1.b = np.ones(size, float) * 7.0",
        "",
        "top.run()",
        "",
        "with MPIContext():",
        "self.assertTrue(all(top.C4.a==np.ones(size, float)*11.))",
        "self.assertTrue(all(top.C4.b==np.ones(size, float)*5.))",
        "",
        "# Piggyback testing of the is_variable_local function.",
        "system = top.driver.workflow._system",
        "self.assertTrue(system.is_variable_local('C1.c') is True)",
        "",
        "# Exclusive or - you either got C2 or C3.",
        "self.assertTrue(system.is_variable_local('C2.a') != system.is_variable_local('C3.a'))",
        "self.assertTrue(system.is_variable_local('C2.c') != system.is_variable_local('C3.c'))",
        "self.assertTrue(all(top.C5.a==np.ones(vsize, float)*11.))",
        "self.assertTrue(all(top.C5.b==np.ones(vsize, float)*5.))",
        "",
        "self.assertEqual(top.C5.out_string, 'foo_C1_C2_C5')",
        "self.assertEqual(top.C5.out_list, [1, 1, 1, 1.5, 1.5, 1.5])"
    ],
    "docstrings": [],
    "functions": [
        "execute",
        "dump",
        "model_setup",
        "test_fan_out_in_noflats",
        "test_fan_out_in_noflats_serial"
    ],
    "classes": [
        "ABCDArrayComp",
        "MPITests3",
        "SerialTests"
    ]
}