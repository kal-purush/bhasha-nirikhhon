{
    "identifiers": [
        "base64",
        "hashlib",
        "logging",
        "os",
        "re",
        "urllib",
        "parse",
        "datetime",
        "datetime",
        "timedelta",
        "asyncio",
        "socket",
        "gaierror",
        "aiohttp",
        "ClientResponse",
        "ClientSession",
        "ClientError",
        "async_timeout",
        "timeout",
        "async_timeout",
        "requests",
        "Session",
        "API_URL",
        "AUTHN_URL",
        "CLIENT_ID",
        "CONSUMPTION_URL",
        "HEADERS",
        "OAUTH2_PROFILE",
        "OAUTH2_URL",
        "REDIRECT",
        "Consumption",
        "Interval",
        "logging",
        "basicConfig",
        "level",
        "logging",
        "DEBUG",
        "logging",
        "Logger",
        "logging",
        "getLogger",
        "__package__",
        "interval",
        "Interval",
        "offset",
        "timedelta",
        "datetime",
        "now",
        "offset",
        "date",
        "offset",
        "interval",
        "Interval",
        "MONTH",
        "date",
        "replace",
        "month",
        "date",
        "replace",
        "day",
        "hour",
        "minute",
        "second",
        "microsecond",
        "date",
        "isoformat",
        "interval",
        "Interval",
        "offset",
        "timedelta",
        "datetime",
        "now",
        "offset",
        "date",
        "offset",
        "interval",
        "Interval",
        "MONTH",
        "date",
        "replace",
        "month",
        "date",
        "replace",
        "day",
        "timedelta",
        "days",
        "date",
        "timedelta",
        "days",
        "date",
        "day",
        "date",
        "replace",
        "hour",
        "minute",
        "second",
        "microsecond",
        "date",
        "isoformat",
        "username",
        "password",
        "session",
        "ClientSession",
        "username",
        "password",
        "session",
        "_session",
        "headers",
        "update",
        "HEADERS",
        "token",
        "_tokens",
        "token",
        "_tokens",
        "get",
        "datetime",
        "fromtimestamp",
        "ts",
        "datetime",
        "now",
        "_tokens",
        "get",
        "datetime",
        "fromtimestamp",
        "ts",
        "datetime",
        "now",
        "_is_token_valid",
        "_LOGGER",
        "debug",
        "_tokens",
        "get",
        "datetime",
        "now",
        "timestamp",
        "_tokens",
        "api_wrapper",
        "method",
        "url",
        "OAUTH2_URL",
        "data",
        "_tokens",
        "get",
        "CLIENT_ID",
        "error",
        "_LOGGER",
        "error",
        "error",
        "tokens",
        "json",
        "base64",
        "urlsafe_b64encode",
        "os",
        "urandom",
        "decode",
        "re",
        "sub",
        "code_verifier",
        "hashlib",
        "sha256",
        "code_verifier",
        "encode",
        "digest",
        "base64",
        "urlsafe_b64encode",
        "code_challenge",
        "decode",
        "replace",
        "Session",
        "session",
        "session",
        "request",
        "method",
        "url",
        "API_URL",
        "replace",
        "CLIENT_ID",
        "REDIRECT",
        "CLIENT_ID",
        "code_challenge",
        "req_code",
        "cookies",
        "get",
        "KeyError",
        "exception",
        "_LOGGER",
        "error",
        "exception",
        "re",
        "search",
        "req_code",
        "text",
        "match",
        "i",
        "i",
        "match",
        "group",
        "split",
        "i",
        "startswith",
        "_LOGGER",
        "debug",
        "transaction_id",
        "_LOGGER",
        "error",
        "session",
        "request",
        "method",
        "url",
        "AUTHN_URL",
        "transaction_id",
        "OAUTH2_PROFILE",
        "data",
        "_username",
        "_password",
        "headers",
        "req_code",
        "url",
        "csrf_token",
        "allow_redirects",
        "session",
        "request",
        "method",
        "url",
        "AUTHN_URL",
        "csrf_token",
        "transaction_id",
        "OAUTH2_PROFILE",
        "allow_redirects",
        "req_auth",
        "headers",
        "redirect",
        "startswith",
        "REDIRECT",
        "_LOGGER",
        "debug",
        "req_auth",
        "status_code",
        "redirect",
        "urllib",
        "parse",
        "parse_qs",
        "urllib",
        "parse",
        "urlparse",
        "redirect",
        "query",
        "KeyError",
        "_LOGGER",
        "error",
        "session",
        "request",
        "method",
        "url",
        "OAUTH2_URL",
        "data",
        "CLIENT_ID",
        "REDIRECT",
        "auth_code",
        "code_verifier",
        "tokens",
        "json",
        "_is_token_valid",
        "_renew_tokens",
        "_b2c_auth",
        "tokens",
        "get",
        "_session",
        "headers",
        "update",
        "tokens",
        "get",
        "tokens",
        "get",
        "tokens",
        "get",
        "_tokens",
        "get",
        "tokens",
        "update",
        "datetime",
        "now",
        "timestamp",
        "tokens",
        "get",
        "_tokens",
        "update",
        "tokens",
        "_LOGGER",
        "error",
        "_tokens",
        "_get_tokens",
        "api_wrapper",
        "method",
        "url",
        "API_URL",
        "headers",
        "CONSUMPTION_URL",
        "json",
        "meter",
        "meters",
        "meter",
        "get",
        "heating_units",
        "meter",
        "get",
        "water_units",
        "meter",
        "get",
        "power_units",
        "meter",
        "get",
        "_LOGGER",
        "info",
        "meters",
        "heating_units",
        "_LOGGER",
        "debug",
        "_heating",
        "update",
        "init",
        "_heating",
        "update",
        "heating_units",
        "water_units",
        "_LOGGER",
        "debug",
        "_water",
        "update",
        "init",
        "_water",
        "update",
        "water_units",
        "power_units",
        "_LOGGER",
        "debug",
        "_power",
        "update",
        "init",
        "_power",
        "update",
        "power_units",
        "_type",
        "Consumption",
        "interval",
        "Interval",
        "_get_tokens",
        "_type",
        "Consumption",
        "ELECTRICITY",
        "_power",
        "Consumption",
        "WATER",
        "_water",
        "Consumption",
        "HEATING",
        "_heating",
        "usage",
        "_LOGGER",
        "debug",
        "_type",
        "name",
        "lower",
        "api_wrapper",
        "method",
        "url",
        "API_URL",
        "start_of_interval",
        "interval",
        "offset",
        "timedelta",
        "seconds",
        "end_of_interval",
        "interval",
        "offset",
        "timedelta",
        "seconds",
        "interval",
        "value",
        "unit",
        "headers",
        "CONSUMPTION_URL",
        "_type",
        "name",
        "lower",
        "json",
        "unit",
        "usage",
        "usage",
        "interval",
        "name",
        "capitalize",
        "update",
        "meter",
        "get",
        "get",
        "index",
        "meter",
        "get",
        "get",
        "index",
        "entry",
        "get",
        "interval",
        "Interval",
        "DAY",
        "entry",
        "get",
        "entry",
        "meter",
        "entry",
        "get",
        "lines",
        "consumption",
        "index",
        "meter",
        "lines",
        "_heating",
        "_water",
        "_power",
        "args",
        "ClientResponse",
        "async_timeout",
        "TIMEOUT",
        "_session",
        "request",
        "args",
        "response",
        "response",
        "read",
        "response",
        "raise_for_status",
        "response",
        "asyncio",
        "TimeoutError",
        "exception",
        "_LOGGER",
        "error",
        "args",
        "exception",
        "KeyError",
        "exception",
        "_LOGGER",
        "error",
        "args",
        "exception",
        "ClientError",
        "gaierror",
        "exception",
        "_LOGGER",
        "error",
        "args",
        "exception",
        "exception",
        "_LOGGER",
        "error",
        "exception"
    ],
    "literals": [
        "f\"{date.isoformat()}.000Z\"",
        "f\"{date.isoformat()}.999Z\"",
        "\"access_token\"",
        "\"expires_on\"",
        "\"refresh\"",
        "\"refresh_token_expires_on\"",
        "\"access_token\"",
        "\"Token is not expired, expires in %d seconds\"",
        "\"expires_on\"",
        "\"POST\"",
        "f\"{OAUTH2_URL}/token\"",
        "\"grant_type\"",
        "\"refresh_token\"",
        "\"refresh_token\"",
        "\"refresh_token\"",
        "\"CLIENT_ID\"",
        "\"An error occurred while trying to renew tokens: %s\"",
        "\"utf-8\"",
        "\"[^a-zA-Z0-9]+\"",
        "\"\"",
        "\"utf-8\"",
        "\"utf-8\"",
        "\"=\"",
        "\"\"",
        "\"GET\"",
        "f\"{API_URL.replace('webservice', 'auth-webservice')}/authorize\"",
        "'webservice'",
        "'auth-webservice'",
        "\"client_id\"",
        "\"redirect_uri\"",
        "\"scope\"",
        "f\"{CLIENT_ID} offline_access\"",
        "\"response_type\"",
        "\"code\"",
        "\"code_challenge\"",
        "\"code_challenge_method\"",
        "\"S256\"",
        "\"x-ms-cpim-csrf\"",
        "\"Error while retrieving CSRF Token: %s\"",
        "r\"var SETTINGS = (\\{[^;]*\\});\"",
        "'\",\"'",
        "\"transId\"",
        "\"Transaction ID: %s\"",
        "\"Failed to get Transaction ID\"",
        "\"POST\"",
        "f\"{AUTHN_URL}/SelfAsserted\"",
        "\"tx\"",
        "\"p\"",
        "\"request_type\"",
        "\"RESPONSE\"",
        "\"logonIdentifier\"",
        "\"password\"",
        "\"Referer\"",
        "\"X-Csrf-Token\"",
        "\"X-Requested-With\"",
        "\"XMLHttpRequest\"",
        "\"GET\"",
        "f\"{AUTHN_URL}/api/CombinedSigninAndSignup/confirmed\"",
        "\"rememberMe\"",
        "\"csrf_token\"",
        "\"tx\"",
        "\"p\"",
        "\"Location\"",
        "\"%d - %s\"",
        "\"code\"",
        "\"An error has occurred while attempting to authenticate. \\\n                        Please ensure your credentials are correct\"",
        "\"POST\"",
        "f\"{OAUTH2_URL}/token\"",
        "\"grant_type\"",
        "\"authorization_code\"",
        "\"client_id\"",
        "\"redirect_uri\"",
        "\"code\"",
        "\"code_verifier\"",
        "\"refresh_token\"",
        "\"access_token\"",
        "\"Authorization\"",
        "f\"{tokens.get('token_type')} {tokens.get('access_token')}\"",
        "'token_type'",
        "'access_token'",
        "\"refresh_token\"",
        "\"refresh_token\"",
        "\"refresh_token_expires_on\"",
        "\"refresh_token_expires_in\"",
        "\"Failed to get tokens\"",
        "\"GET\"",
        "f\"{API_URL}/consumer/superallocationunits\"",
        "\"Referer\"",
        "\"superAllocationUnit\"",
        "\"allocationUnits\"",
        "\"allocationUnits\"",
        "\"allocationUnits\"",
        "\"Meter info: %s\"",
        "\"Meters\"",
        "\"Day\"",
        "\"Month\"",
        "\"ðŸ”¥ Heating meter(s) found\"",
        "\"Units\"",
        "\"ðŸ’§ Water meter(s) found\"",
        "\"Units\"",
        "\"âš¡ Energy meter(s) found\"",
        "\"Units\"",
        "\"No %s meter was found\"",
        "\"GET\"",
        "f\"{API_URL}/consumer/consumption\"",
        "\"startdate\"",
        "\"enddate\"",
        "\"interval\"",
        "\"allocationunit\"",
        "\"Referer\"",
        "f\"{CONSUMPTION_URL}/{_type.name.lower()}\"",
        "\"Units\"",
        "\"Meters\"",
        "\"meter\"",
        "\"meterId\"",
        "\"Name\"",
        "\"meter\"",
        "\"placement\"",
        "\"Values\"",
        "\"fromDate\"",
        "\"consumption\"",
        "\"consumptionValues\"",
        "\"consumption\"",
        "\"consumptionLines\"",
        "\"Heating\"",
        "\"Water\"",
        "\"Electricity\"",
        "\"Timeout error fetching information from %s - %s\"",
        "\"url\"",
        "\"Error parsing information from %s - %s\"",
        "\"url\"",
        "\"Error fetching information from %s - %s\"",
        "\"url\"",
        "\"Something really wrong happened! - %s\""
    ],
    "variables": [
        "_LOGGER",
        "TIMEOUT",
        "date",
        "date",
        "date",
        "date",
        "date",
        "date",
        "date",
        "_username",
        "_password",
        "_session",
        "_power",
        "_water",
        "_heating",
        "_tokens",
        "ts",
        "ts",
        "tokens",
        "code_verifier",
        "code_verifier",
        "code_challenge",
        "code_challenge",
        "req_code",
        "csrf_token",
        "match",
        "transaction_id",
        "req_auth",
        "req_auth",
        "redirect",
        "auth_code",
        "tokens",
        "tokens",
        "tokens",
        "_tokens",
        "meters",
        "water_units",
        "heating_units",
        "power_units",
        "init",
        "usage",
        "usage",
        "usage",
        "consumption"
    ],
    "comments": [
        "Get OAuth 2.0 token object",
        "pylint: disable=broad-except",
        "Initialize challenge values",
        "Initial authorization call",
        "Get CSRF Token & Transaction ID",
        "Use a little magic to avoid proper JSON parsing âœ¨",
        "Post credentials to B2C Endpoint",
        "Get authentication code",
        "Get OAuth 2.0 token object",
        "Check values",
        "Ensure validity of tokens",
        "Add access token to session headers",
        "Calculate refresh expiry",
        "Heating",
        "Water",
        "Electricity",
        "Add all metrics that are not None",
        "pylint: disable=broad-except"
    ],
    "docstrings": [
        "\"\"\"Brunata Online API Client\"\"\"",
        "\"\"\"Returns start of year if interval is \"M\", otherwise start of month\"\"\"",
        "\"\"\"Returns end of year if interval is \"M\", otherwise end of month\"\"\"",
        "\"\"\"Brunata Online API Client\"\"\"",
        "\"\"\"\n        Get access/refresh tokens using credentials or refresh token\n        Returns True if tokens are valid\n        \"\"\"",
        "\"\"\"Get all meters associated with the account.\"\"\"",
        "\"\"\"Get consumption data for a specific meter type.\"\"\"",
        "\"\"\"Return consumption data.\"\"\"",
        "\"\"\"Get information from the API.\"\"\""
    ],
    "functions": [
        "start_of_interval",
        "end_of_interval",
        "_is_token_valid",
        "_renew_tokens",
        "_b2c_auth",
        "_get_tokens",
        "fetch_meters",
        "fetch_consumption",
        "get_consumption",
        "api_wrapper"
    ],
    "classes": [
        "BrunataOnlineApiClient"
    ]
}