{
    "identifiers": [
        "url",
        "client_id",
        "url",
        "url",
        "encodeURI",
        "redirect",
        "url",
        "url",
        "url",
        "handleRedirect",
        "getCode",
        "code",
        "fetchAccessToken",
        "code",
        "redirect",
        "queryString",
        "URLSearchParams",
        "queryString",
        "code",
        "urlParams",
        "code",
        "code",
        "body",
        "encodeURIComponent",
        "code",
        "body",
        "encodeURIComponent",
        "redirect",
        "body",
        "encodeURIComponent",
        "client_id",
        "body",
        "encodeURIComponent",
        "client_secret",
        "callAuthApi",
        "body",
        "body",
        "XMLHttpRequest",
        "xhr",
        "xhr",
        "xhr",
        "btoa",
        "client_id",
        "client_secret",
        "xhr",
        "handleAuthResponse",
        "xhr",
        "xhr",
        "body",
        "refresh_token",
        "localStorage",
        "body",
        "refresh_token",
        "body",
        "client_id",
        "callAuthApi",
        "body",
        "xhr",
        "xhr",
        "xhr",
        "data",
        "data",
        "at",
        "data",
        "localStorage",
        "access_token",
        "access_token",
        "userID",
        "getUserId",
        "access_token",
        "accessToken",
        "access_token",
        "userID",
        "data",
        "data",
        "localStorage",
        "refresh_token",
        "refresh_token",
        "xhr",
        "alert",
        "xhr",
        "accessToken",
        "XMLHttpRequest",
        "xhr",
        "xhr",
        "accessToken",
        "xhr",
        "xhr",
        "xhr",
        "data",
        "xhr",
        "xhr",
        "item",
        "alert",
        "encodeURIComponent",
        "item",
        "callApi",
        "SEARCH",
        "handleSearchResponse",
        "method",
        "url",
        "body",
        "callback",
        "XMLHttpRequest",
        "xhr",
        "method",
        "url",
        "xhr",
        "xhr",
        "localStorage",
        "xhr",
        "xhr",
        "xhr",
        "callback",
        "xhr",
        "xhr",
        "xhr",
        "alert",
        "xhr",
        "body",
        "data",
        "resultsDropdown",
        "data",
        "data",
        "data",
        "track",
        "option",
        "track",
        "track",
        "artist",
        "artist",
        "option",
        "track",
        "resultsDropdown",
        "option",
        "option",
        "option",
        "resultsDropdown",
        "option",
        "resultsDropdown",
        "option",
        "option",
        "id",
        "id",
        "newSelectedIds",
        "id",
        "selectedSongIds",
        "id",
        "selectedSongIds",
        "id",
        "selectedSongIds",
        "selectedSongIds",
        "alert",
        "getRecommendations",
        "selectedSongIds",
        "trackIds",
        "trackIds",
        "callApi",
        "RECOMMENDATIONS_API",
        "handleRecommendationResponse",
        "data",
        "data",
        "data",
        "data",
        "track",
        "track",
        "createPlaylist",
        "playlistName",
        "trackUris",
        "playlistName",
        "trackUris",
        "localStorage",
        "getUserId",
        "accessToken",
        "fetch",
        "userId",
        "accessToken",
        "playlistName",
        "response",
        "response",
        "data",
        "data",
        "addTracksToPlaylist",
        "playlistId",
        "trackUris",
        "error",
        "error",
        "playlistId",
        "trackUris",
        "localStorage",
        "fetch",
        "playlistId",
        "accessToken",
        "trackUris",
        "response",
        "response",
        "data",
        "data",
        "alert",
        "error",
        "error"
    ],
    "literals": [
        "\"http://127.0.0.1:5501/Pages/logged.html\"",
        "\"7a70861c037544ef83eefb3496d2a600\"",
        "\"872d498250dc48ffb00aa2744125f724\"",
        "\"S-TierMix\"",
        "\"https://accounts.spotify.com/authorize\"",
        "\"https://accounts.spotify.com/api/token\"",
        "\"https://api.spotify.com/v1/search\"",
        "\"?client_id=\"",
        "\"&response_type=code\"",
        "\"&redirect_uri=\"",
        "\"&show_dialog=true\"",
        "\"&scope=user-read-private user-read-email playlist-modify-public playlist-modify-private\"",
        "'No query string found.'",
        "\"\"",
        "\"\"",
        "'code'",
        "\"grant_type=authorization_code\"",
        "\"&code=\"",
        "\"&redirect_uri=\"",
        "\"&client_id=\"",
        "\"&client_secret=\"",
        "\"POST\"",
        "\"https://accounts.spotify.com/api/token\"",
        "'Content-Type'",
        "'application/x-www-form-urlencoded'",
        "'Authorization'",
        "'Basic '",
        "\":\"",
        "\"refresh_token\"",
        "\"grant_type=refresh_token\"",
        "\"&refresh_token=\"",
        "\"&client_id=\"",
        "\"access_token\"",
        "\"access token:\"",
        "\"user id: \"",
        "\"refresh_token\"",
        "\"refresh token: \"",
        "\"GET\"",
        "\"https://api.spotify.com/v1/me\"",
        "'Authorization'",
        "'Bearer '",
        "'Failed to get user ID:'",
        "\"songName\"",
        "\"Input a song!\"",
        "https://api.spotify.com/v1/search?q=${encodeURIComponent(item)}&type=track&limit=5",
        "\"GET\"",
        "'Content-Type'",
        "'application/json'",
        "'Authorization'",
        "'Bearer '",
        "\"access_token\"",
        "'API call failed:'",
        "'Failed to fetch songs. Please try again.'",
        "'resultsDropdown'",
        "'<option value=\"\">Select a song...</option>'",
        "'option'",
        "${track.name} by ${track.artists.map(artist => artist.name).join(', ')}",
        "', '",
        "'option'",
        "'No results found.'",
        "\"\"",
        "'resultsDropdown'",
        "'Selected song IDs:'",
        "'Please select at least one song.'",
        "https://api.spotify.com/v1/recommendations?seed_tracks=${trackIds.join(',')}&limit=30",
        "','",
        "\"GET\"",
        "'Recommendations:'",
        "'thanks.html'",
        "'access_token'",
        "https://api.spotify.com/v1/users/${userId}/playlists",
        "'POST'",
        "'Content-Type'",
        "'application/json'",
        "'Authorization'",
        "'Bearer '",
        "'Playlist created from recommendations'",
        "'Error creating playlist:'",
        "'access_token'",
        "https://api.spotify.com/v1/playlists/${playlistId}/tracks",
        "'POST'",
        "'Content-Type'",
        "'application/json'",
        "'Authorization'",
        "'Bearer '",
        "'Tracks added:'",
        "'Playlist created and tracks added!'",
        "'Error adding tracks to playlist:'"
    ],
    "variables": [
        "redirect",
        "client_id",
        "client_secret",
        "playlistName",
        "AUTHORIZE",
        "TOKEN",
        "SEARCH",
        "url",
        "AUTHORIZE",
        "code",
        "code",
        "queryString",
        "urlParams",
        "body",
        "xhr",
        "body",
        "data",
        "access_token",
        "refresh_token",
        "xhr",
        "data",
        "item",
        "SEARCH",
        "xhr",
        "resultsDropdown",
        "option",
        "option",
        "selectedSongIds",
        "resultsDropdown",
        "newSelectedIds",
        "RECOMMENDATIONS_API",
        "trackUris",
        "accessToken",
        "userId",
        "playlistId",
        "accessToken"
    ],
    "comments": [
        "console.log(data);",
        "Reset options",
        "Iterate over the tracks and create option elements for each",
        "Create an option element",
        "Set the text content to the track name and artist names",
        "Store the track id in the value attribute",
        "Append the option to the dropdown",
        "console.log(accessToken);",
        "console.log(userID);",
        "console.log(\"got it:\",accessToken);",
        "console.log(\"got it:\",userId);",
        "console.log(playlistName);"
    ],
    "docstrings": [],
    "functions": [
        "authorize",
        "onPageLoad",
        "handleRedirect",
        "getCode",
        "fetchAccessToken",
        "callAuthApi",
        "refreshAccessToken",
        "handleAuthResponse",
        "getUserId",
        "searchSong",
        "callApi",
        "handleSearchResponse",
        "storeSelectedSong",
        "generatePlaylist",
        "getRecommendations",
        "handleRecommendationResponse",
        "createPlaylist",
        "addTracksToPlaylist"
    ],
    "classes": []
}