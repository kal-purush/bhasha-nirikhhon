{
    "identifiers": [
        "logging",
        "numpy",
        "np",
        "astropy",
        "units",
        "u",
        "astropy",
        "time",
        "Time",
        "astropy",
        "table",
        "Table",
        "astropy",
        "coordinates",
        "SkyCoord",
        "Angle",
        "gammapy",
        "irf",
        "EffectiveAreaTable",
        "EDispKernel",
        "gammapy",
        "spectrum",
        "CountsSpectrum",
        "SpectrumDataset",
        "SpectrumDatasetOnOff",
        "gammapy",
        "cube",
        "MapDataset",
        "PSFKernel",
        "regions",
        "CircleSkyRegion",
        "CircleAnnulusSkyRegion",
        "gammapy",
        "data",
        "EventList",
        "DataStore",
        "GTI",
        "gammapy",
        "maps",
        "HpxNDMap",
        "MapAxis",
        "WcsGeom",
        "gammapy",
        "irf",
        "EnergyDependentTablePSF",
        "gammapy",
        "utils",
        "time",
        "time_ref_from_dict",
        "logging",
        "getLogger",
        "geom",
        "evt_file",
        "exp_file",
        "psf_file",
        "max_radius",
        "log",
        "info",
        "EventList",
        "read",
        "evt_file",
        "HpxNDMap",
        "read",
        "exp_file",
        "exposure",
        "u",
        "Unit",
        "EnergyDependentTablePSF",
        "read",
        "psf_file",
        "geom",
        "_make_mapdataset",
        "max_radius",
        "events",
        "table",
        "meta",
        "u",
        "s",
        "events",
        "table",
        "meta",
        "u",
        "s",
        "time_ref_from_dict",
        "events",
        "table",
        "meta",
        "GTI",
        "create",
        "tstart",
        "tstop",
        "time_ref",
        "psf",
        "dataset",
        "dataset",
        "psf",
        "psf_map",
        "geom",
        "get_coord",
        "psf",
        "evaluate",
        "energy",
        "coord",
        "rad",
        "coord",
        "method",
        "dataset",
        "psf",
        "psf_map",
        "values",
        "max_radius",
        "MapDataset",
        "create",
        "geom",
        "binsz_irf",
        "dataset",
        "counts",
        "fill_events",
        "events",
        "_make_gti",
        "_fill_psfmap",
        "psf",
        "dataset",
        "geom",
        "get_coord",
        "exposure",
        "interp_by_coord",
        "coords",
        "from_geom",
        "geom",
        "data",
        "values",
        "unit",
        "exposure",
        "unit",
        "geom",
        "axes",
        "EDispKernel",
        "from_gauss",
        "e_true",
        "energy",
        "edges",
        "e_reco",
        "energy",
        "edges",
        "sigma",
        "bias",
        "edisp",
        "dataset",
        "target_position",
        "on_radius",
        "off_region",
        "WcsGeom",
        "create",
        "skydir",
        "target_position",
        "width",
        "binsize",
        "events",
        "select_region",
        "on_region",
        "geom",
        "wcs",
        "off_events",
        "events",
        "select_region",
        "off_region",
        "geom",
        "wcs",
        "target_position",
        "on_radius",
        "log",
        "info",
        "EventList",
        "read",
        "HpxNDMap",
        "read",
        "EnergyDependentTablePSF",
        "read",
        "SkyCoord",
        "ra",
        "dec",
        "unit",
        "frame",
        "Angle",
        "CircleSkyRegion",
        "center",
        "crab_pos",
        "radius",
        "on_radius",
        "WcsGeom",
        "create",
        "skydir",
        "crab_pos",
        "width",
        "binsize",
        "events",
        "select_region",
        "on_region",
        "geom",
        "wcs",
        "CircleAnnulusSkyRegion",
        "crab_pos",
        "u",
        "deg",
        "u",
        "deg",
        "events",
        "select_region",
        "off_region",
        "geom",
        "wcs",
        "MapAxis",
        "from_bounds",
        "unit",
        "interp",
        "name",
        "SpectrumDatasetOnOff",
        "create",
        "e_reco",
        "e_reco",
        "on_region",
        "dataset",
        "counts",
        "fill_events",
        "on_events",
        "dataset",
        "counts_off",
        "fill_events",
        "events_off",
        "EDispKernel",
        "from_gauss",
        "e_true",
        "e_reco",
        "edges",
        "e_reco",
        "e_reco",
        "edges",
        "sigma",
        "bias",
        "edisp",
        "extract_aeff",
        "exposure",
        "crab_pos",
        "e_reco",
        "edges",
        "extract_psf_containment",
        "psf",
        "on_radius",
        "e_reco",
        "edges",
        "aeff",
        "data",
        "data",
        "containment_factor",
        "aeff",
        "u",
        "s",
        "log",
        "info",
        "path",
        "dataset",
        "write",
        "path",
        "use_sherpa",
        "overwrite",
        "exposure",
        "target_position",
        "energy",
        "np",
        "sqrt",
        "energy",
        "energy",
        "target_position",
        "galactic",
        "l",
        "target_position",
        "galactic",
        "b",
        "exposure",
        "get_by_coord",
        "lon",
        "value",
        "lat",
        "value",
        "energy_log_ctr",
        "value",
        "Table",
        "energy",
        "energy",
        "expo_values",
        "names",
        "dtype",
        "meta",
        "table",
        "energy",
        "unit",
        "table",
        "energy",
        "unit",
        "table",
        "table",
        "meta",
        "table",
        "meta",
        "table",
        "meta",
        "table",
        "meta",
        "table",
        "meta",
        "table",
        "meta",
        "table",
        "meta",
        "table",
        "meta",
        "table",
        "meta",
        "EffectiveAreaTable",
        "from_table",
        "table",
        "psf",
        "on_radius",
        "energy",
        "np",
        "sqrt",
        "energy",
        "energy",
        "np",
        "asarray",
        "psf",
        "integral",
        "_",
        "rad_min",
        "rad_max",
        "on_radius",
        "_",
        "energy_log_ctr",
        "containment_factor",
        "events",
        "exposure",
        "psf",
        "bkg_estimate",
        "target_position",
        "on_radius",
        "energy",
        "events",
        "exposure",
        "psf",
        "bkg_estimate",
        "target_position",
        "on_radius",
        "energy",
        "to",
        "bkg_estimate",
        "PHACountsSpectrum",
        "energy_lo",
        "energy",
        "energy_hi",
        "energy",
        "backscal",
        "bkg_estimate",
        "a_on",
        "obs_id",
        "_on_vector",
        "copy",
        "_off_vector",
        "_off_vector",
        "bkg_estimate",
        "a_off",
        "_on_vector",
        "u",
        "s",
        "_off_vector",
        "u",
        "s",
        "bkg_estimate",
        "_on_vector",
        "fill",
        "bkg_estimate",
        "on_events",
        "_off_vector",
        "fill",
        "bkg_estimate",
        "off_events",
        "make_empty_vectors",
        "bkg_estimate",
        "extract_counts",
        "bkg_estimate",
        "extract_aeff",
        "exposure",
        "target_position",
        "energy",
        "extract_psf_containment",
        "psf",
        "on_radius",
        "energy",
        "aeff",
        "data",
        "data",
        "containment_factor",
        "EnergyDispersion",
        "from_gauss",
        "e_true",
        "energy",
        "e_reco",
        "energy",
        "sigma",
        "bias",
        "SpectrumObservation",
        "on_vector",
        "_on_vector",
        "aeff",
        "aeff",
        "off_vector",
        "_off_vector",
        "edisp",
        "edisp"
    ],
    "literals": [
        "\"$JOINT_CRAB/data/fermi/events.fits.gz\"",
        "\"$JOINT_CRAB/data/fermi/exposure_cube.fits.gz\"",
        "\"$JOINT_CRAB/data/fermi/psf.fits.gz\"",
        "'0.5 deg'",
        "\"Extracting 1d spectra for Fermi-LAT\"",
        "'cm2s'",
        "'TSTART'",
        "'TSTOP'",
        "'energy'",
        "'theta'",
        "'linear'",
        "'10 deg'",
        "'0.01 deg'",
        "\"Extracting 1d spectra for Fermi-LAT\"",
        "\"$JOINT_CRAB/data/fermi/psf.fits.gz\"",
        "'deg'",
        "'icrs'",
        "'0.3 deg'",
        "'10 deg'",
        "'0.01 deg'",
        "'TeV'",
        "'log'",
        "'energy'",
        "\"results/spectra/fermi\"",
        "f\"Writing to {path}\"",
        "\"ENERG_LO\"",
        "\"ENERG_HI\"",
        "\"SPECRESP\"",
        "\"float64\"",
        "\"float64\"",
        "\"float64\"",
        "\"name\"",
        "\"Fermi-LAT exposure\"",
        "\"ENERG_LO\"",
        "\"ENERG_HI\"",
        "\"SPECRESP\"",
        "\"cm2\"",
        "\"EXTNAME\"",
        "\"SPECRESP\"",
        "\"TELESCOP\"",
        "\"Fermi\"",
        "\"INSTRUME\"",
        "\"LAT\"",
        "\"EXPOSURE\"",
        "\"1\"",
        "\"FILTER\"",
        "\"\"",
        "\"HDUCLASS\"",
        "\"OGIP\"",
        "\"HDUCLAS1\"",
        "\"RESPONSE\"",
        "\"HDUCLAS2\"",
        "\"SPECRESP\"",
        "\"HDUVERS\"",
        "\"1.1.0\"",
        "\"0 deg\"",
        "\"MeV\""
    ],
    "variables": [
        "log",
        "events",
        "exposure",
        "unit",
        "psf",
        "geom",
        "dataset",
        "tstart",
        "tstop",
        "time_ref",
        "coord",
        "values",
        "quantity",
        "dataset",
        "dataset",
        "gti",
        "coords",
        "values",
        "dataset",
        "exposure",
        "energy",
        "edisp",
        "dataset",
        "edisp",
        "geom",
        "on_events",
        "events",
        "exposure",
        "psf",
        "crab_pos",
        "on_radius",
        "on_region",
        "geom",
        "on_events",
        "off_region",
        "off_events",
        "e_reco",
        "dataset",
        "edisp",
        "dataset",
        "edisp",
        "aeff",
        "containment_factor",
        "dataset",
        "aeff",
        "dataset",
        "livetime",
        "path",
        "energy_log_ctr",
        "lon",
        "lat",
        "expo_values",
        "table",
        "unit",
        "unit",
        "unit",
        "energy_log_ctr",
        "containment_factor",
        "events",
        "exposure",
        "psf",
        "bkg_estimate",
        "target_position",
        "on_radius",
        "energy",
        "_on_vector",
        "_off_vector",
        "is_bkg",
        "backscal",
        "livetime",
        "livetime",
        "aeff",
        "containment_factor",
        "edisp"
    ],
    "comments": [
        "Read data",
        "no unit stored on map...",
        "Tentative extraction of the GTI",
        "Fill each bin of the PSFMap with the psf table.",
        "recompute exposure on geom",
        "Not the real Fermi-LAT EDISP: Use 5% energy resolution as approximation",
        "create dummy WcsGeom for event selection. Center it on the Crab",
        "Select ON and OFF events",
        "valid_range = (config.energy_bins >= 30 * u.GeV) * (config.energy_bins <= 2 * u.TeV)",
        "create dummy WcsGeom for event selection. Center it on the Crab",
        "Select ON and OFF events",
        "Create dataset",
        "Fill counts and counts_off",
        "Add edisp",
        "Not the real Fermi-LAT EDISP: Use 5% energy resolution as approximation",
        "Add aeff",
        "Here we cheat. aeff is an exposure (in cm2.s) which is stored as an EffectiveArea.",
        "We have to put a livetime value. Here 1 sec.",
        "here we set the livetime of 1s, because we are actually storing an",
        "exposure rather than an effective area",
        "Not the real Fermi-LAT EDISP",
        "Use 5% energy resolution as approximation"
    ],
    "docstrings": [
        "\"\"\"Extract 1D spectrum information for Fermi-LAT\"\"\"",
        "\"\"\"Simple class to perform aperture photometry and produce SpectrumDatasetOnOff\"\"\"",
        "\"\"\"Create and fill the map dataset\"\"\"",
        "\"\"\"Perform the spectral extraction at target_position for a circular region.\"\"\"",
        "\"\"\"Extract 1d spectra for Fermi-LAT\"\"\""
    ],
    "functions": [
        "_make_gti",
        "_fill_psfmap",
        "_make_mapdataset",
        "run",
        "extract_spectra_fermi",
        "extract_aeff",
        "extract_psf_containment",
        "make_empty_vectors",
        "extract_counts",
        "run"
    ],
    "classes": [
        "FermiAnalysis1D",
        "SpectrumExtractionFermi1D"
    ]
}