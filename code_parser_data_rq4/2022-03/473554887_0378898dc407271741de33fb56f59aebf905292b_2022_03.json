{
    "identifiers": [
        "typing",
        "Dict",
        "gcpdiag",
        "config",
        "lint",
        "models",
        "gcpdiag",
        "queries",
        "gce",
        "monitoring",
        "quotas",
        "Dict",
        "monitoring",
        "TimeSeriesCollection",
        "context",
        "models",
        "Context",
        "gce",
        "get_regions_with_instances",
        "context",
        "regions_with_instances",
        "GCE_SERVICE_NAME",
        "QUOTA_LIMIT_NAME",
        "config",
        "get",
        "context",
        "project_id",
        "monitoring",
        "query",
        "context",
        "project_id",
        "quotas",
        "CONSUMER_QUOTA_QUERY_TEMPLATE",
        "format_map",
        "context",
        "models",
        "Context",
        "report",
        "lint",
        "LintReportRuleInterface",
        "gce",
        "get_regions_with_instances",
        "context",
        "regions_with_instances",
        "report",
        "add_skipped",
        "region",
        "sorted",
        "regions_with_instances",
        "key",
        "r",
        "r",
        "name",
        "context",
        "project_id",
        "QUOTA_METRIC_NAME",
        "region",
        "name",
        "_query_results_per_project_id",
        "context",
        "project_id",
        "ts_key",
        "KeyError",
        "report",
        "add_skipped",
        "region",
        "day_value",
        "ts",
        "day_value",
        "day_value",
        "ratio",
        "QUOTA_LIMIT_THRESHOLD",
        "exceeded",
        "report",
        "add_failed",
        "region",
        "ratio",
        "limit",
        "QUOTA_LIMIT_NAME",
        "QUOTA_METRIC_NAME",
        "report",
        "add_ok",
        "region"
    ],
    "literals": [
        "'compute.googleapis.com'",
        "'INSTANCES-per-project-region'",
        "'compute.googleapis.com/instances'",
        "'service_name'",
        "'limit_name'",
        "'within_days'",
        "'within_days'",
        "'no instances found'",
        "f'resource.project_id:{context.project_id}'",
        "f'metric.quota_metric:{QUOTA_METRIC_NAME}'",
        "f'resource.location:{region.name}'",
        "'no data'",
        "'values'",
        "f'Region has reached {ratio:.0%} of {limit} limit:\\n'",
        "f' quota limit: {QUOTA_LIMIT_NAME}\\n'",
        "f' quota metric: {QUOTA_METRIC_NAME}'"
    ],
    "variables": [
        "GCE_SERVICE_NAME",
        "QUOTA_LIMIT_NAME",
        "QUOTA_METRIC_NAME",
        "QUOTA_LIMIT_THRESHOLD",
        "_query_results_per_project_id",
        "regions_with_instances",
        "_query_results_per_project_id",
        "regions_with_instances",
        "ts_key",
        "ts",
        "exceeded",
        "ratio",
        "limit",
        "exceeded"
    ],
    "comments": [
        "Copyright 2022 Google LLC",
        "",
        "Licensed under the Apache License, Version 2.0 (the \"License\");",
        "you may not use this file except in compliance with the License.",
        "You may obtain a copy of the License at",
        "",
        "http://www.apache.org/licenses/LICENSE-2.0",
        "",
        "Unless required by applicable law or agreed to in writing, software",
        "distributed under the License is distributed on an \"AS IS\" BASIS,",
        "WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.",
        "See the License for the specific language governing permissions and",
        "limitations under the License.",
        "name of the quota limit",
        "name of the quota metric",
        "percentage of the quota limit usage",
        "fetch the metrics if we have any instances",
        "did we exceeded threshold on any day?"
    ],
    "docstrings": [
        "\"\"\"GCE VM instances quota is not near the limit.\n\nVM instances quota is a regional quota and limits the number of VM instances\nthat can exist in a given region.\n\nRule will start failing if quota usage will be higher then configured threshold (80%).\n\"\"\""
    ],
    "functions": [
        "prefetch_rule",
        "run_rule"
    ],
    "classes": []
}