{
    "identifiers": [
        "com",
        "yehan",
        "web",
        "controller",
        "java",
        "io",
        "File",
        "java",
        "io",
        "java",
        "io",
        "InputStream",
        "java",
        "util",
        "java",
        "util",
        "Arrays",
        "javax",
        "servlet",
        "http",
        "HttpServletRequest",
        "org",
        "apache",
        "commons",
        "io",
        "FileUtils",
        "org",
        "apache",
        "commons",
        "io",
        "comparator",
        "LastModifiedFileComparator",
        "org",
        "springframework",
        "beans",
        "factory",
        "annotation",
        "Value",
        "org",
        "springframework",
        "ui",
        "Model",
        "org",
        "springframework",
        "web",
        "bind",
        "annotation",
        "PostMapping",
        "org",
        "springframework",
        "web",
        "bind",
        "annotation",
        "RequestMapping",
        "org",
        "springframework",
        "web",
        "bind",
        "annotation",
        "RequestMethod",
        "org",
        "springframework",
        "web",
        "bind",
        "annotation",
        "RequestParam",
        "org",
        "springframework",
        "web",
        "bind",
        "annotation",
        "RestController",
        "org",
        "springframework",
        "web",
        "multipart",
        "MultipartFile",
        "org",
        "springframework",
        "web",
        "servlet",
        "ModelAndView",
        "org",
        "springframework",
        "web",
        "servlet",
        "view",
        "RedirectView",
        "com",
        "yehan",
        "web",
        "vo",
        "FileVO",
        "RestController",
        "Value",
        "fileDownloadDirectory",
        "RequestMapping",
        "value",
        "method",
        "RequestMethod",
        "GET",
        "model",
        "year",
        "modelAndView",
        "modelAndView",
        "setViewName",
        "dirFile",
        "fileDownloadDirectory",
        "year",
        "fileList",
        "dirFile",
        "listFiles",
        "Arrays",
        "sort",
        "fileList",
        "LastModifiedFileComparator",
        "LASTMODIFIED_REVERSE",
        "dataList",
        "file",
        "fileList",
        "fileVO",
        "fileVO",
        "setFilename",
        "file",
        "getName",
        "fileVO",
        "setName",
        "fileVO",
        "setUrl",
        "year",
        "fileVO",
        "setContent",
        "dataList",
        "add",
        "fileVO",
        "file",
        "getName",
        "model",
        "addAttribute",
        "dataList",
        "model",
        "addAttribute",
        "year",
        "e",
        "e",
        "toString",
        "e",
        "getStackTrace",
        "modelAndView",
        "RequestMapping",
        "value",
        "method",
        "RequestMethod",
        "GET",
        "model",
        "modelAndView",
        "modelAndView",
        "setViewName",
        "modelAndView",
        "RequestMapping",
        "value",
        "method",
        "RequestMethod",
        "POST",
        "filevo",
        "filevo",
        "toString",
        "filevo",
        "getFilename",
        "year",
        "i",
        "a",
        "filevo",
        "getMultiFiles",
        "file",
        "a",
        "getOriginalFilename",
        "file",
        "ext",
        "file",
        "substring",
        "a",
        "getOriginalFilename",
        "lastIndexOf",
        "ext",
        "i",
        "file",
        "fileDownloadDirectory",
        "year",
        "filevo",
        "getFilename",
        "valueOf",
        "i",
        "ext",
        "file",
        "fileDownloadDirectory",
        "year",
        "filevo",
        "getFilename",
        "ext",
        "targetFile",
        "file",
        "fileStream",
        "a",
        "getInputStream",
        "FileUtils",
        "copyInputStreamToFile",
        "fileStream",
        "targetFile",
        "i",
        "e",
        "e",
        "printStackTrace"
    ],
    "literals": [
        "\"${file.download.directory}\"",
        "\"/\"",
        "\"list\"",
        "\"\"",
        "\"upload/\"",
        "\"/\"",
        "\"\"",
        "\"파일정보 : \"",
        "\"dataList\"",
        "\"year\"",
        "\"/upload\"",
        "\"upload\"",
        "\"/upload\"",
        "\"### upload\"",
        "\"2022\"",
        "\"원본이미지명 : \"",
        "\".\"",
        "\"확장자명 : \"",
        "\"/\"",
        "\".\"",
        "\"/\"",
        "\".\"",
        "\"/\""
    ],
    "variables": [
        "fileDownloadDirectory"
    ],
    "comments": [
        "인덱스 페이지",
        "if(String.valueOf(year) == null) {",
        "year = \"2021\";",
        "}",
        "파일리스트",
        "if (file.getName().contains(\"upload_\")) {   // upload_ 문자열이 있는지 체크",
        "fileVO.setName(file.getName().substring(0,3));",
        "}",
        "TODO: handle exception",
        "사진업로드 화면",
        "사진업로드",
        "확장자 구하기",
        "FileUtils.deleteQuietly(targetFile);",
        "@RequestMapping(value = \"/upload\", method = RequestMethod.POST)",
        "public RedirectView upload(@RequestParam(\"multiFiles\") MultipartFile[] multipartFile, @RequestParam(value =\"filename\") String filename ) {",
        "System.out.println(\"### upload\");",
        "System.out.println(filename);",
        "String year = \"2022\";",
        "int i=0;",
        "try {",
        "for(MultipartFile a : multipartFile) {",
        "// 확장자 구하기",
        "String file = a.getOriginalFilename();",
        "System.out.println(\"원본이미지명 : \" + file);",
        "String ext = file.substring(a.getOriginalFilename().lastIndexOf(\".\") + 1);",
        "System.out.println(\"확장자명 : \" + ext);",
        "if(i!=0)",
        "file = fileDownloadDirectory + year + \"/\" + filename + String.valueOf(i) + \".\" + ext;",
        "else",
        "file = fileDownloadDirectory + year + \"/\" + filename + \".\" + ext;",
        "",
        "File targetFile = new File(file);",
        "InputStream fileStream = a.getInputStream();",
        "FileUtils.copyInputStreamToFile(fileStream, targetFile);",
        "",
        "i++;",
        "}",
        "} catch (IOException e) {",
        "FileUtils.deleteQuietly(targetFile);",
        "e.printStackTrace();",
        "}",
        "",
        "return new RedirectView(\"/\");",
        "}"
    ],
    "docstrings": [],
    "functions": [
        "ModelAndView",
        "hello",
        "ModelAndView",
        "upload",
        "RedirectView",
        "upload"
    ],
    "classes": [
        "FileUploadController"
    ]
}