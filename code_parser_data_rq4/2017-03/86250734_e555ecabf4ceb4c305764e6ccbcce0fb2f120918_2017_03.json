{
    "identifiers": [
        "$",
        "F_Global",
        "NSINKA_Global",
        "NSINKA_Global",
        "a",
        "a",
        "a",
        "check",
        "navigator",
        "navigator",
        "NSINKA_Global",
        "check",
        "check",
        "$",
        "$",
        "wW",
        "wH",
        "wW",
        "wH",
        "wH",
        "wW",
        "factor",
        "$",
        "$",
        "wW",
        "wH",
        "wW",
        "wH",
        "wH",
        "wW",
        "factor",
        "url",
        "fnAfter",
        "NSINKA_Global",
        "NSINKA_Global",
        "NSINKA_Global",
        "$",
        "url",
        "data",
        "$data",
        "$",
        "data",
        "item",
        "item",
        "item",
        "item",
        "title",
        "$data",
        "item",
        "item",
        "item",
        "$",
        "$",
        "title",
        "fnAfter",
        "$data",
        "id",
        "data",
        "data",
        "data",
        "_",
        "$",
        "id",
        "data",
        "$body",
        "$body",
        "$body",
        "$",
        "$",
        "$body",
        "$body",
        "$",
        "$this",
        "$",
        "jsaction",
        "i",
        "fn",
        "fn",
        "fn",
        "NSINKA_Actions",
        "fn",
        "NSINKA_Actions",
        "fn",
        "$this",
        "attrs",
        "fn",
        "attrs",
        "$this",
        "attrs",
        "$this",
        "e",
        "e",
        "e",
        "$",
        "$html",
        "opened_class",
        "$this",
        "button_active_class",
        "$html",
        "opened_class",
        "$this",
        "button_active_class",
        "$html",
        "opened_class",
        "$this",
        "$this",
        "e",
        "percentage",
        "percentage",
        "$this",
        "$this",
        "$this",
        "$",
        "$",
        "$this",
        "$this",
        "$this",
        "NSINKA_Map",
        "$this",
        "$",
        "e",
        "route",
        "calcDuration",
        "route",
        "showWaypoints",
        "route",
        "route",
        "route",
        "$",
        "route",
        "i",
        "waypoint",
        "duration",
        "waypoint",
        "$this",
        "duration",
        "route",
        "$",
        "NSINKA_Global",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "$this",
        "$tmpl",
        "$tmpl",
        "i",
        "NSINKA_Map",
        "i",
        "$tmpl",
        "ui",
        "NSINKA_Map",
        "$tmpl",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Actions",
        "$tmpl",
        "$this",
        "$this",
        "$",
        "$this",
        "$row",
        "deactivatedClass",
        "$row",
        "deactivatedClass",
        "$row",
        "deactivatedClass",
        "$changeIcon",
        "$this",
        "$this",
        "$this",
        "$this",
        "$changeIcon",
        "NSINKA_Map",
        "$row",
        "inactive",
        "NSINKA_Map",
        "NSINKA_Map",
        "$this",
        "$this",
        "e",
        "e",
        "e",
        "$",
        "$form",
        "$form",
        "activeClass",
        "$form",
        "activeClass",
        "$input",
        "$form",
        "activeClass",
        "$input",
        "$this",
        "$this",
        "$",
        "NSINKA_Global",
        "NSINKA_Map",
        "$",
        "$tmpl",
        "$tmpl",
        "$locations__wrapper",
        "$this",
        "$tmpl",
        "$locations__wrapper",
        "$locations__wrapper",
        "$tmpl",
        "$tmpl",
        "$tmpl",
        "transitionEndTrigger",
        "$tmpl",
        "setTimeout",
        "$tmpl",
        "$this",
        "$this",
        "NSINKA_Map",
        "$",
        "NSINKA_Map",
        "$this",
        "$this",
        "$header",
        "$this",
        "e",
        "percentage",
        "percentage",
        "$header",
        "headerStandardValue",
        "$header",
        "jQuery",
        "fn",
        "$",
        "$",
        "e",
        "e",
        "e",
        "e",
        "fn",
        "$",
        "$",
        "ResizeSensor",
        "$content",
        "$content",
        "$",
        "$",
        "$",
        "ResizeSensor",
        "$this",
        "$this",
        "$this",
        "$this",
        "$",
        "$this",
        "$content",
        "$",
        "$body",
        "$body",
        "$body",
        "$",
        "$",
        "e",
        "e",
        "e",
        "e",
        "NSINKA_Global",
        "NSINKA_Layers",
        "$body",
        "$body",
        "$body",
        "$",
        "$",
        "$body",
        "$",
        "$",
        "item",
        "item",
        "item",
        "item",
        "$data",
        "$main",
        "$",
        "$data",
        "item",
        "item",
        "item",
        "NSINKA_Layers",
        "$main",
        "$",
        "$",
        "$main",
        "$",
        "$ajaxSibling",
        "$",
        "$ajaxSibling",
        "$sChildLayer",
        "$tChildLayer",
        "$t",
        "$sChildLayer",
        "$tChildLayer",
        "$tChildLayer",
        "$sChildLayer",
        "$tChildLayer",
        "$t",
        "$sChildLayer",
        "$",
        "$layers",
        "$",
        "$main",
        "$",
        "$",
        "$",
        "$",
        "$layerContentHeader",
        "$layerContentHeader",
        "handle",
        "$",
        "$",
        "handle",
        "parseFloat",
        "$",
        "$",
        "$",
        "$",
        "$",
        "id",
        "$",
        "id",
        "e",
        "preventThisPropagation",
        "e",
        "$",
        "$",
        "preventThisPropagation",
        "$",
        "e",
        "e",
        "e",
        "e",
        "e",
        "e",
        "$",
        "$",
        "i",
        "$item",
        "$item",
        "$",
        "e",
        "e",
        "$",
        "e",
        "e",
        "e",
        "e",
        "e",
        "currentClientY",
        "calc",
        "currentClientY",
        "calc",
        "calc",
        "$",
        "calc",
        "calc",
        "calc",
        "calc",
        "currentClientY",
        "e",
        "e",
        "finalHeight",
        "transitionEndTrigger",
        "$",
        "_this",
        "$",
        "$",
        "$",
        "e",
        "e",
        "Event",
        "CustomEvent",
        "e",
        "e",
        "simulatedEvent",
        "simulatedEvent",
        "Event",
        "NSINKA_Global",
        "$",
        "i",
        "eventType",
        "_this",
        "eventType",
        "_this",
        "Event",
        "$",
        "Event",
        "Event",
        "$",
        "Event",
        "Event",
        "afterFn",
        "$",
        "afterFn",
        "afterFn",
        "$layer",
        "$",
        "$layer",
        "$layer",
        "NSINKA_Layers",
        "$layer",
        "$layer",
        "NSINKA_Layers",
        "setTimeout",
        "$layer",
        "transitionEndTrigger",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "google",
        "NSINKA_Map",
        "google",
        "NSINKA_Map",
        "google",
        "google",
        "NSINKA_Map",
        "google",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "$",
        "google",
        "NSINKA_Map",
        "NSINKA_Map",
        "$",
        "$",
        "NSINKA_Map",
        "i",
        "waypoint",
        "NSINKA_Map",
        "google",
        "waypoint",
        "waypoint",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "select",
        "NSINKA_Map",
        "select",
        "NSINKA_Map",
        "$",
        "NSINKA_Map",
        "i",
        "elem",
        "$",
        "i",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "i",
        "NSINKA_Map",
        "i",
        "$",
        "NSINKA_Map",
        "i",
        "route",
        "route",
        "route",
        "NSINKA_Map",
        "i",
        "NSINKA_Map",
        "pos",
        "pos",
        "NSINKA_Map",
        "google",
        "pos",
        "pos",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "google",
        "r",
        "r",
        "r",
        "r",
        "r",
        "r",
        "r",
        "google",
        "NSINKA_Map",
        "NSINKA_Map",
        "google",
        "s",
        "s",
        "s",
        "google",
        "s",
        "s",
        "r",
        "NSINKA_Map",
        "NSINKA_Map",
        "pos",
        "compass",
        "pos",
        "NSINKA_Map",
        "pos",
        "NSINKA_Map",
        "pos",
        "compass",
        "NSINKA_Map",
        "icon",
        "compass",
        "icon",
        "NSINKA_Map",
        "icon",
        "eventData",
        "compassdir",
        "compassdir",
        "NSINKA_Map",
        "compassdir",
        "$",
        "compassdir",
        "navigator",
        "navigator",
        "fnAfter",
        "navigator",
        "fnAfter",
        "fnAfter",
        "pos",
        "NSINKA_Map",
        "google",
        "pos",
        "pos",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "NSINKA_Map",
        "google",
        "NSINKA_Map",
        "NSINKA_Map",
        "$",
        "$",
        "NSINKA_Map",
        "i",
        "waypoint",
        "waypoint",
        "waypoint",
        "waypoints_inactive",
        "waypoint",
        "waypoints_active",
        "waypoint",
        "waypoints_active",
        "active_length",
        "NSINKA_Map",
        "NSINKA_Map",
        "google",
        "waypoints_active",
        "google",
        "waypoints_active",
        "active_length",
        "start",
        "end",
        "$",
        "$",
        "waypoints_active",
        "waypoint",
        "waypoint",
        "google",
        "response",
        "status",
        "status",
        "google",
        "NSINKA_Map",
        "response",
        "response",
        "$",
        "response",
        "waypoint",
        "i",
        "waypoint",
        "waypoints_active",
        "i",
        "response",
        "NSINKA_Map",
        "$",
        "response",
        "$",
        "NSINKA_Map",
        "i",
        "item",
        "item",
        "response",
        "response",
        "$",
        "waypoints_active",
        "i",
        "marker",
        "google",
        "google",
        "marker",
        "marker",
        "NSINKA_Map",
        "r",
        "r",
        "r",
        "r",
        "r",
        "r",
        "r",
        "google",
        "_marker",
        "waypoints_active",
        "i",
        "NSINKA_Map",
        "_marker",
        "NSINKA_Map",
        "_marker",
        "setTimeout",
        "NSINKA_Map",
        "status",
        "$",
        "$",
        "waypoints_inactive",
        "i",
        "marker",
        "google",
        "google",
        "marker",
        "r",
        "r",
        "r",
        "r",
        "r",
        "r",
        "r",
        "google",
        "_marker",
        "marker",
        "NSINKA_Map",
        "_marker",
        "NSINKA_Map",
        "_marker",
        "_marker",
        "NSINKA_Map",
        "waypoints_active",
        "setTimeout",
        "$",
        "browserHasGeolocation",
        "pos",
        "NSINKA_Map",
        "pos",
        "NSINKA_Map",
        "browserHasGeolocation",
        "marker",
        "marker",
        "$",
        "NSINKA_Global",
        "marker",
        "NSINKA_Map",
        "marker",
        "google",
        "NSINKA_Map",
        "$",
        "$win",
        "setPos",
        "$win",
        "$win",
        "NSINKA_Map",
        "$win",
        "$win",
        "NSINKA_Map",
        "$win",
        "$",
        "NSINKA_Map",
        "i",
        "NSINKA_Map",
        "NSINKA_Map",
        "$win",
        "$win",
        "$win",
        "$win",
        "$",
        "google",
        "google",
        "$elem",
        "NSINKA_Map",
        "gmap",
        "gmap",
        "gmap",
        "gmap",
        "gmap",
        "gmap",
        "marker",
        "google",
        "worldPoint",
        "bottomLeft",
        "scale",
        "worldPoint",
        "topRight",
        "scale",
        "$elem",
        "point",
        "$elem",
        "point",
        "$elem",
        "NSINKA_Map",
        "NSINKA_Specifics",
        "NSINKA_Specifics",
        "$",
        "e",
        "NSINKA_Specifics",
        "actions",
        "NSINKA_Specifics",
        "actions",
        "NSINKA_Specifics",
        "$",
        "actions",
        "i",
        "action",
        "NSINKA_Specifics",
        "action",
        "$",
        "NSINKA_Specifics",
        "e",
        "i",
        "action",
        "$",
        "action",
        "i",
        "_action",
        "action",
        "_action",
        "action",
        "action",
        "action",
        "$",
        "action",
        "i",
        "_action",
        "action",
        "action",
        "action",
        "action",
        "action",
        "$",
        "$",
        "$quicklinks",
        "$",
        "$",
        "ResizeSensor",
        "$quicklinks",
        "$map",
        "$map",
        "$map",
        "$",
        "$parent",
        "$quicklinks",
        "$footer",
        "$",
        "$parent",
        "$quicklinks",
        "$",
        "$",
        "$",
        "ResizeSensor",
        "$quicklinks",
        "$map",
        "$footer",
        "NSINKA_Chronicle",
        "$",
        "NSINKA_Global",
        "NSINKA_Chronicle",
        "NSINKA_Chronicle",
        "$",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "$handle",
        "NSINKA_Global",
        "$handle",
        "$",
        "i",
        "eventType",
        "$handle",
        "eventType",
        "_this",
        "Event",
        "e",
        "preventThisPropagation",
        "e",
        "$",
        "preventThisPropagation",
        "$",
        "e",
        "e",
        "e",
        "e",
        "e",
        "e",
        "$",
        "$",
        "i",
        "$item",
        "$item",
        "$",
        "e",
        "e",
        "$",
        "e",
        "e",
        "e",
        "e",
        "e",
        "currentClientX",
        "calc",
        "currentClientX",
        "calc",
        "calc",
        "calc",
        "calc",
        "calc",
        "currentClientX",
        "e",
        "e",
        "finalWidth",
        "transitionEndTrigger",
        "$",
        "_this",
        "$",
        "$",
        "$",
        "e",
        "e",
        "Event",
        "CustomEvent",
        "e",
        "e",
        "simulatedEvent",
        "simulatedEvent",
        "$",
        "$",
        "$",
        "$",
        "$this",
        "$",
        "data",
        "thisYear",
        "$dd",
        "$",
        "$this",
        "$this",
        "$this",
        "data",
        "thisYear",
        "thisMonth",
        "data",
        "thisYear",
        "thisMonth",
        "data",
        "thisYear",
        "thisMonth",
        "thisTeaser",
        "$this",
        "i",
        "i",
        "$",
        "$dd",
        "$monthDiv",
        "$",
        "data",
        "thisYear",
        "i",
        "i",
        "entries",
        "$",
        "$monthDiv",
        "$dot",
        "data",
        "$",
        "$",
        "$this",
        "$article",
        "$this",
        "$containers",
        "$this",
        "$"
    ],
    "literals": [
        "'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd'",
        "'TITLE'",
        "'MAIN'",
        "'TITLE'",
        "'title'",
        "\"html\"",
        "'#tmpl_'",
        "'body'",
        "'*[data-jsaction]'",
        "'[data-jsaction]'",
        "'jsaction'",
        "''",
        "','",
        "'undefined'",
        "'not found! function NSINKA_Actions.functions.'",
        "'('",
        "','",
        "')'",
        "'html'",
        "'nav_open'",
        "'is-active'",
        "'moveTransitionStatus'",
        "'layer'",
        "'transformed'",
        "'#logo__container span'",
        "'layer'",
        "'transformed'",
        "'#logo__container span'",
        "'scroll__header'",
        "'closeLayer'",
        "'routeHasBeenCalculated'",
        "' Std.'",
        "'routeSettings'",
        "'layer-content'",
        "'layer-content-opened'",
        "''",
        "'li'",
        "'ul'",
        "\"placeholder\"",
        "'li'",
        "\"y\"",
        "'clone'",
        "'.drag-handle'",
        "'a.deactivate'",
        "'deactivated'",
        "'li'",
        "'change-icon'",
        "'change-icon'",
        "'location-id'",
        "'button'",
        "'form'",
        "'input[type=\"search\"]'",
        "'active'",
        "'location'",
        "'body'",
        "'#locations__wrapper'",
        "'li'",
        "'location-id'",
        "'#location_prev,#location_next'",
        "'location_next'",
        "'slickNext'",
        "'slickPrev'",
        "'#location_close'",
        "'active'",
        "'active'",
        "'layer-content-header'",
        "'moveTransitionStatus'",
        "'Stadtrundgang'",
        "'click'",
        "'touchstart'",
        "'mousedown mousemove mouseup'",
        "'touchstart'",
        "'layer'",
        "'main>.content'",
        "'browserhack_inherit_height'",
        "'layer>article'",
        "'layer>article'",
        "'_resize'",
        "'_resize'",
        "'min-height'",
        "'_resize'",
        "'browserhack_inherit_height'",
        "'height'",
        "''",
        "'height'",
        "'browserhack_inherit_height'",
        "'body'",
        "'a[href]'",
        "'body'",
        "'layer'",
        "'main,layer'",
        "'#'",
        "''",
        "'>'",
        "'>'",
        "'#'",
        "''",
        "'MAIN'",
        "'layer'",
        "'layer[data-id=\"'",
        "'id'",
        "'\"]'",
        "'>layer'",
        "'>layer'",
        "'id'",
        "'id'",
        "'removeLayer'",
        "'layer'",
        "'layer'",
        "'layer-content'",
        "'>layer-content'",
        "'<layer-height-indicator />'",
        "'disabled'",
        "'layer-content-header'",
        "'handle'",
        "'min-height'",
        "'opened'",
        "'true'",
        "'whileOpenClose'",
        "'whileOpenClose'",
        "','",
        "'#'",
        "'moveTransitionStatus'",
        "'touchstart'",
        "'undefined'",
        "'undefined'",
        "'touchstartPositionY'",
        "'closeLayer'",
        "'open'",
        "'touchstart'",
        "'touchmove'",
        "'undefined'",
        "'undefined'",
        "'invertTouch'",
        "'true'",
        "'moveTransitionStatus'",
        "'touchstart'",
        "'touchmove'",
        "'touchend'",
        "'layer-opened'",
        "'moveTransitionStatus'",
        "'layer-closed'",
        "'moveTransitionStatus'",
        "'touchend'",
        "'open'",
        "'layerChange'",
        "'layerChange'",
        "\"mousedown\"",
        "\"touchstart\"",
        "\"mousemove\"",
        "\"touchmove\"",
        "\"mouseup\"",
        "\"touchend\"",
        "'touchend'",
        "'dev'",
        "'test'",
        "'touchend'",
        "'touchstart'",
        "'touchmove'",
        "'touchend'",
        "'touchcancel'",
        "'mousedown'",
        "'mousemove'",
        "'mouseup'",
        "'mouseup'",
        "'closeLayer'",
        "'touchstart'",
        "'touchend'",
        "'openLayer'",
        "'touchstart'",
        "'touchend'",
        "'undefined'",
        "'inactive'",
        "'inactive--transition'",
        "'inactive'",
        "'Route XY'",
        "'Eigene Route'",
        "'custom'",
        "'Freie Spiel- und Sportvereinigung, (FSSV) am Adenauerring'",
        "'Adenauerring 36'",
        "'Ludwig Marum, Ludwig-Marum-Straße'",
        "'Ludwig-Marum-Straße'",
        "'Adolf-Hitler-Haus,Ritterstraße 28/30'",
        "'Ritterstraße 28/30'",
        "'Arbeiterbildungsverein'",
        "'Wilhelmstraße 14'",
        "'August-Dosenbach-Straße'",
        "'August-Dosenbach-Straße'",
        "'Badisches Innenministerium'",
        "'Schlossplatz 19'",
        "'Bankhaus Veit L. Homburger'",
        "'Karlstraße 11'",
        "'DWM Deutsche Waffen- und Munitionsfabrik AG'",
        "'Lorenzstraße'",
        "'Führer-Verlag'",
        "'Kaiserstraße 133'",
        "'Gefängnis Riefstahlstraße'",
        "'Riefstahlstr.9'",
        "'Gestapo-Hauptstelle'",
        "'Ebertstr. 26'",
        "'Hauptbahnhof'",
        "'Bahnhofsplatz'",
        "'Jüdischer Friedhof'",
        "'Haid- und Neu-Str. 41, 45'",
        "'Wohn- und ehemaliges Gemeindehaus'",
        "'Herrenstraße 14'",
        "'HJ und BDM'",
        "'Rüppurrer Straße'",
        "'Hotel Nassauer Hof '",
        "'Kriegsstr. 88'",
        "'Jüdische Schule in der Lidellschule'",
        "'Markgrafenstraße'",
        "'Kaufhaus Hertie'",
        "'Kaiserstraße 92'",
        "'Kaufhaus Karstadt'",
        "'Kaiserstraße 147-159'",
        "'Ludwig-Marum-Straße'",
        "'Ludwig-Marum-Straße'",
        "'Marktplatz'",
        "'Karl-Friedrich-Straße 7'",
        "'Polizeipräsidium Marktplatz'",
        "''",
        "'Schlossplatz - Bücherverbrennung im Juni 1933'",
        "'Schlossplatz'",
        "'Staatliche Kunsthalle'",
        "'Hans-Thoma-Str. 2-6'",
        "'Synagoge in der - Karl-Friedrich-Straße 14-18'",
        "'Karl-Friedrich-Straße 14-18'",
        "'Synagoge Kronenstraße'",
        "'Kronenstraße 15'",
        "'Technische Hochschule'",
        "'Kaiserstraße 12'",
        "'\"Volkshaus\"'",
        "'Schützenstraße 14'",
        "'Wohnhaus Kreuzstraße 6-8'",
        "'Kreuzstraße 6-8'",
        "'Zentralverband der Angestellten'",
        "'Gartenstraße 25'",
        "''",
        "''",
        "'map'",
        "'layerChange'",
        "\"resize\"",
        "'custom'",
        "'M-'",
        "',0a'",
        "','",
        "' 0 1,0 '",
        "',0a'",
        "','",
        "' 0 1,0 -'",
        "',0'",
        "'#0066CC'",
        "'#0066CC'",
        "'M 0 0 L '",
        "' 0 L '",
        "' '",
        "' z'",
        "'#0066CC'",
        "'deviceorientation'",
        "'compassHeading'",
        "'no location'",
        "\"#000000\"",
        "'undefined'",
        "'routeHasBeenCalculated'",
        "'M-'",
        "',0a'",
        "','",
        "' 0 1,0 '",
        "',0a'",
        "','",
        "' 0 1,0 -'",
        "',0'",
        "'#f6ae95'",
        "'Directions request failed due to '",
        "'M-'",
        "',0a'",
        "','",
        "' 0 1,0 '",
        "',0a'",
        "','",
        "' 0 1,0 -'",
        "',0'",
        "'#000000'",
        "'routeHasBeenCalculated'",
        "'Error: The Geolocation service failed.'",
        "'Error: Your browser doesn\\'t support geolocation.'",
        "'click'",
        "'mapWindow'",
        "'idle'",
        "'#placeholder'",
        "'bounds_changed'",
        "'close'",
        "'zoom_changed'",
        "'close'",
        "'close'",
        "'.close'",
        "'close'",
        "'smartphone-actions tablet-actions desktop-actions'",
        "''",
        "','",
        "'_now'",
        "','",
        "'function'",
        "'resize,_now'",
        "'#quicklinks'",
        "'#map'",
        "'#footer'",
        "'_resize'",
        "'_resize'",
        "'_resize'",
        "'#quicklinks'",
        "'#map'",
        "'#footer'",
        "''",
        "'_resize'",
        "''",
        "'_resize'",
        "'resize__chronicle'",
        "'resize__chronicle'",
        "'.chronicle--global>.chronicle__handle'",
        "'article'",
        "'.article-content-wrapper'",
        "'touchstart'",
        "'touchmove'",
        "'touchend'",
        "'touchcancel'",
        "'mousedown'",
        "'mousemove'",
        "'mouseup'",
        "'mouseup'",
        "'article'",
        "'touchstart'",
        "'undefined'",
        "'undefined'",
        "'touchstartPositionX'",
        "'closeLayer'",
        "'open'",
        "'touchstart'",
        "'touchmove'",
        "'undefined'",
        "'undefined'",
        "'invertTouch'",
        "'true'",
        "'transform'",
        "'translateX('",
        "'px)'",
        "'touchstart'",
        "'touchmove'",
        "'touchend'",
        "'layer-opened'",
        "'moveTransitionStatus'",
        "'layer-closed'",
        "'moveTransitionStatus'",
        "'transform'",
        "'translateX('",
        "'px)'",
        "'touchend'",
        "'open'",
        "'layerChange'",
        "'layerChange'",
        "\"mousedown\"",
        "\"touchstart\"",
        "\"mousemove\"",
        "\"touchmove\"",
        "\"mouseup\"",
        "\"touchend\"",
        "'touchend'",
        "'dev'",
        "'test'",
        "'.chronicle__list'",
        "'dt'",
        "'dd'",
        "'.chronicle__list__month'",
        "'month'",
        "'teaser'",
        "' …'",
        "'undefined'",
        "'<div class=\"chronicle__list__month chronicle__list__month--tiny\">'",
        "'<div class=\"chronicle__list__month__dot\">'",
        "'.chronicle__container'",
        "'.content'",
        "'.chronicle__container'",
        "'input[type=\"range\"]'"
    ],
    "variables": [
        "transitionEndTrigger",
        "F_Global",
        "check",
        "wW",
        "wH",
        "factor",
        "wW",
        "wH",
        "factor",
        "NSINKA_Actions",
        "$this",
        "jsaction",
        "attrs",
        "fn",
        "$html",
        "opened_class",
        "button_active_class",
        "duration",
        "$tmpl",
        "deactivatedClass",
        "$this",
        "$row",
        "inactive",
        "inactive",
        "$form",
        "$input",
        "activeClass",
        "$tmpl",
        "$locations__wrapper",
        "$header",
        "headerStandardValue",
        "NSINKA_jQueryExtensions",
        "NSINKA_Layers",
        "$content",
        "$article",
        "$this",
        "$t",
        "$ajaxSibling",
        "$tChildLayer",
        "$sChildLayer",
        "layerTag",
        "layerContentTag",
        "$layerContentHeader",
        "_this",
        "currentClientY",
        "calc",
        "calc",
        "targetPosition",
        "finalHeight",
        "finalHeight",
        "simulatedEvent",
        "NSINKA_Map",
        "r",
        "s",
        "icon",
        "compassdir",
        "zoom",
        "waypoints_active",
        "waypoints_inactive",
        "active_length",
        "start",
        "end",
        "leg",
        "r",
        "legs",
        "_marker",
        "r",
        "_marker",
        "$win",
        "gmap",
        "topRight",
        "bottomLeft",
        "scale",
        "worldPoint",
        "point",
        "NSINKA_Specifics",
        "actions",
        "actions",
        "actions",
        "$quicklinks",
        "$parent",
        "$map",
        "$footer",
        "$quicklinks",
        "$map",
        "$footer",
        "NSINKA_Chronicle",
        "_this",
        "$handle",
        "currentClientX",
        "calc",
        "calc",
        "targetPosition",
        "finalWidth",
        "finalWidth",
        "_this",
        "simulatedEvent",
        "$chronicleList",
        "data",
        "$this",
        "$dd",
        "thisYear",
        "$this",
        "thisMonth",
        "thisTeaser",
        "i",
        "$monthDiv",
        "$dot",
        "$this",
        "$article",
        "$containers"
    ],
    "comments": [
        "$(window).width() > 414 &&",
        "$(window).width() > 414 &&",
        ".fadeIn()",
        ".fadeOut(function() {\n                        //$(this).hide();\n                    })",
        "var $logo = $this.find('#logo__container');",
        "$logo.after($logo.clone(true,true).addClass('clone'));",
        "$tmpl.find('#location_close').slick('slickPrev');",
        "Safari iOS browserhack inherit min-height",
        "e.preventDefault();",
        "if(this.direction != this.prevDirection) {\n                    console.log(this.direction, this.prevDirection);\n                    return;\n                }",
        "e.preventDefault();",
        "if(this.direction != this.prevDirection) {\n                    this.prevDirection = this.direction;\n                    return;\n                }",
        "$(window.currentTouchedElem).trigger('touchend');",
        "this.vars.$layerContent.trigger('touchend', this.eventHandler.touchend);",
        "this.vars.$handle.on(\n                'mousedown mousemove mouseup',\n                this.eventHandler.touchSimulation\n            );",
        "$(window).on('mouseup', this.eventHandler.touchSimulation);",
        "this.vars.$layerContent.trigger('touchstart').trigger('touchend');",
        "$(this).removeClass('inactive--transition');",
        "var listener = google.maps.event.addListener(NSINKA_Map.vars.map, \"idle\", function() {\n                NSINKA_Map.vars.map.setZoom(13);\n                google.maps.event.removeListener(listener);\n            });",
        "NSINKA_Map.vars.infoWindow = new google.maps.InfoWindow({map: NSINKA_Map.vars.map});",
        "on compass change",
        "on position change",
        "NSINKA_Map.vars.directionsService.setMap(null);",
        "Active markers",
        "if(i == (legs.length-1) || !i) {\n                                return;\n                            }",
        "Inactive markers",
        "infowindow.open(NSINKA_Map.vars.map, marker);",
        "calc = e.changedTouches[0].clientX;",
        "if(this.direction != this.prevDirection) {\n                            console.log(this.direction, this.prevDirection);\n                            return;\n                        }",
        "e.preventDefault();",
        "if(this.direction != this.prevDirection) {\n                            this.prevDirection = this.direction;\n                            return;\n                        }",
        "$(window.currentTouchedElem).trigger('touchend');",
        "handleClass: 'chronicle__rangeslider__handle'",
        "# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLmpzIiwiYmFzZS5qcyIsImNvbXBvbmVudHMvYWN0aW9ucy5qcyIsImNvbXBvbmVudHMvalF1ZXJ5RXh0ZW5zaW9ucy5qcyIsImNvbXBvbmVudHMvbGF5ZXJzLmpzIiwiY29tcG9uZW50cy9tYXAuanMiLCJjb21wb25lbnRzL3NwZWNpZmljcy5qcyIsImxheWVyLWNhc2VzL2FydGljbGUtY2hyb25pY2xlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDek5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzdXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDMUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHRyYW5zaXRpb25FbmRUcmlnZ2VyID0gJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQnO1xuXG4kKHdpbmRvdykucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgRl9HbG9iYWwuaW5pdCgpO1xufSkuc2Nyb2xsKGZ1bmN0aW9uKCkge1xufSkucmVzaXplKGZ1bmN0aW9uKCkge1xuXG59KTtcbiIsIi8qKlxuKiBEZXNjcmlwdGlvbiBmb3IgR09fR2xvYmFsXG4qIEBwcml2YXRlXG4qIEBwcm9wZXJ0eSBHT19HbG9iYWxcbiovXG52YXIgRl9HbG9iYWwgPSB7XG4gICAgdmFyczoge1xuICAgIH0sXG4gICAgLyoqXG4gICAgKiBEZXNjcmlwdGlvbiBmb3IgaW5pdFxuICAgICogQHByaXZhdGVcbiAgICAqIEBtZXRob2QgaW5pdFxuICAgICogQHJldHVybiB7T2JqZWN0fSBkZXNjcmlwdGlvblxuICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG5cbiAgICB9LFxuICAgIC8qKlxuICAgICogRGVzY3JpcHRpb24gZm9yIGlzX21vYmlsZVxuICAgICogQHByaXZhdGVcbiAgICAqIEBtZXRob2QgaXNfbW9iaWxlXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IGRlc2NyaXB0aW9uXG4gICAgKi9cbiAgICBpc19tb2JpbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZihOU0lOS0FfR2xvYmFsLnZhcnMuaXNfbW9iaWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBOU0lOS0FfR2xvYmFsLnZhcnMuaXNfbW9iaWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7XG4gICAgICAgIChmdW5jdGlvbihhKXtpZigvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZHxhZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2kudGVzdChhKXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLDQpKSkgY2hlY2sgPSB0cnVlO30pKG5hdmlnYXRvci51c2VyQWdlbnR8fG5hdmlnYXRvci52ZW5kb3J8fHdpbmRvdy5vcGVyYSk7XG4gICAgICAgIE5TSU5LQV9HbG9iYWwudmFycy5pc19tb2JpbGUgPSBjaGVjaztcbiAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgIH0sXG4gICAgaXNfdGFibGV0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHdXID0gJCh3aW5kb3cpLndpZHRoKCksXG4gICAgICAgICAgICB3SCA9ICQod2luZG93KS5oZWlnaHQoKSxcbiAgICAgICAgICAgIGZhY3RvciA9IHdXPndIP3dXL3dIOndIL3dXO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5pc19tb2JpbGUoKSAmJlxuICAgICAgICAgICAgLy8kKHdpbmRvdykud2lkdGgoKSA+IDQxNCAmJlxuICAgICAgICAgICAgZmFjdG9yIDwgMS42XG4gICAgICAgICk7XG4gICAgfSxcbiAgICBpc19zbWFydHBob25lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHdXID0gJCh3aW5kb3cpLndpZHRoKCksXG4gICAgICAgICAgICB3SCA9ICQod2luZG93KS5oZWlnaHQoKSxcbiAgICAgICAgICAgIGZhY3RvciA9IHdXPndIP3dXL3dIOndIL3dXO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5pc19tb2JpbGUoKSAmJlxuICAgICAgICAgICAgLy8kKHdpbmRvdykud2lkdGgoKSA+IDQxNCAmJlxuICAgICAgICAgICAgZmFjdG9yID4gMS42XG4gICAgICAgICk7XG4gICAgfSxcbiAgICBhamF4UGFnZTogZnVuY3Rpb24odXJsLCBmbkFmdGVyKSB7XG4gICAgICAgIGlmKE5TSU5LQV9HbG9iYWwudmFycy54aHIpIHtcbiAgICAgICAgICAgIE5TSU5LQV9HbG9iYWwudmFycy54aHIuYWJvcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIE5TSU5LQV9HbG9iYWwudmFycy54aHIgPSAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsIDogdXJsLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICRkYXRhID0gJC5wYXJzZUhUTUwoZGF0YSkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5ub2RlTmFtZSA9PSAnVElUTEUnIHx8IGl0ZW0ubm9kZU5hbWUgPT0gJ01BSU4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGl0bGUgPSAkZGF0YS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBpZihpdGVtLm5vZGVOYW1lID09ICdUSVRMRScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkKCd0aXRsZScpLnRleHQoJCh0aXRsZVswXSkudGV4dCgpKTtcblxuICAgICAgICAgICAgICAgIGZuQWZ0ZXIoJGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAqIERlc2NyaXB0aW9uIGZvciB0bXBsXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQG1ldGhvZCB0bXBsXG4gICAgKiBAcGFyYW0ge09iamVjdH0gaWQgKHJlcXVpcmVkKVxuICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgKGRlZmF1bHQ6IG51bGwpXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IGpRdWVyeSBlbGVtZW50c1xuICAgICovXG4gICAgdG1wbDogZnVuY3Rpb24oaWQsIGRhdGEpIHtcbiAgICAgICAgZGF0YSA9IHsgZGF0YSA6IGRhdGEgfSB8fCB7IGRhdGEgOiB7fSB9O1xuXG4gICAgICAgIHJldHVybiBfLnRlbXBsYXRlKCQoJyN0bXBsXycraWQpLmNsb25lKCkudGV4dCgpKShkYXRhKTtcbiAgICB9XG59XG4iLCIvKipcbiogRGVzY3JpcHRpb24gZm9yIE5TSU5LQV9BY3Rpb25zXG4qIEBwcml2YXRlXG4qIEBwcm9wZXJ0eSBOU0lOS0FfQWN0aW9uc1xuKi9cbnZhciBOU0lOS0FfQWN0aW9ucyA9IHtcbiAgICB2YXJzOiB7XG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbigkYm9keSkge1xuICAgICAgICAkYm9keSA9ICRib2R5IHx8ICQoJ2JvZHknKTtcbiAgICAgICAgJCgnKltkYXRhLWpzYWN0aW9uXScsICRib2R5KS5hZGQoJGJvZHkuZmlsdGVyKCdbZGF0YS1qc2FjdGlvbl0nKSkuZWFjaCh0aGlzLl9fdHJpZ2dlckFjdGlvbik7XG4gICAgfSxcbiAgICBfX3RyaWdnZXJBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAganNhY3Rpb24gPSAkdGhpcy5kYXRhKCdqc2FjdGlvbicpO1xuXG4gICAgICAgICQuZWFjaChqc2FjdGlvbi5tYXRjaCgvXFx3KyhcXChbXlxcKV0rXFwpKT8vZyksIGZ1bmN0aW9uKGksIGZuKSB7XG4gICAgICAgICAgICB2YXIgYXR0cnMgPSBmbi5yZXBsYWNlKC9eXFx3K1xcKHxcXCkkL2csICcnKS5zcGxpdCgnLCcpLFxuICAgICAgICAgICAgICAgIGZuID0gZm4ubWF0Y2goL15cXHcrLylbMF07XG4gICAgICAgICAgICBpZih0eXBlb2YgTlNJTktBX0FjdGlvbnMuZnVuY3Rpb25zW2ZuXSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIE5TSU5LQV9BY3Rpb25zLmZ1bmN0aW9uc1tmbl0oJHRoaXMsIGF0dHJzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignbm90IGZvdW5kISBmdW5jdGlvbiBOU0lOS0FfQWN0aW9ucy5mdW5jdGlvbnMuJytmbisnKCcrYXR0cnMuam9pbignLCcpKycpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZnVuY3Rpb25zOiB7XG4gICAgICAgIG9wZW5tZW51OiBmdW5jdGlvbigkdGhpcywgYXR0cnMpIHtcbiAgICAgICAgICAgICR0aGlzLmNsaWNrdG91Y2goZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHZhciAkaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgICAgICAgICAgb3BlbmVkX2NsYXNzID0gJ25hdl9vcGVuJyxcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uX2FjdGl2ZV9jbGFzcyA9ICdpcy1hY3RpdmUnO1xuICAgICAgICAgICAgICAgIGlmKCRodG1sLmhhc0NsYXNzKG9wZW5lZF9jbGFzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoYnV0dG9uX2FjdGl2ZV9jbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICRodG1sLnJlbW92ZUNsYXNzKG9wZW5lZF9jbGFzcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoYnV0dG9uX2FjdGl2ZV9jbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICRodG1sLmFkZENsYXNzKG9wZW5lZF9jbGFzcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zZm9ybWxvZ286IGZ1bmN0aW9uKCR0aGlzKSB7XG4gICAgICAgICAgICAkdGhpcy5vbignbW92ZVRyYW5zaXRpb25TdGF0dXMnLCBmdW5jdGlvbihlLCBwZXJjZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgaWYocGVyY2VudGFnZT4wKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmNsb3Nlc3QoJ2xheWVyJykucmVtb3ZlQ2xhc3MoJ3RyYW5zZm9ybWVkJykuZmluZCgnI2xvZ29fX2NvbnRhaW5lciBzcGFuJykvKi5mYWRlSW4oKSovO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmNsb3Nlc3QoJ2xheWVyJykuYWRkQ2xhc3MoJ3RyYW5zZm9ybWVkJykuZmluZCgnI2xvZ29fX2NvbnRhaW5lciBzcGFuJykvKi5mYWRlT3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8kKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvbmVIZWFkZXI6IGZ1bmN0aW9uKCR0aGlzKSB7XG4gICAgICAgICAgICAkKHdpbmRvdykub24oJ3Njcm9sbF9faGVhZGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYoJCh3aW5kb3cpLnNjcm9sbFRvcCgpPjIpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMudHJpZ2dlcignY2xvc2VMYXllcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL3ZhciAkbG9nbyA9ICR0aGlzLmZpbmQoJyNsb2dvX19jb250YWluZXInKTtcbiAgICAgICAgICAgIC8vJGxvZ28uYWZ0ZXIoJGxvZ28uY2xvbmUodHJ1ZSx0cnVlKS5hZGRDbGFzcygnY2xvbmUnKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXJ0RGlyZWN0aW9uczogZnVuY3Rpb24oJHRoaXMpIHtcbiAgICAgICAgICAgICR0aGlzLmNsaWNrdG91Y2goTlNJTktBX01hcC5zdGFydERpcmVjdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICByZWNlaXZlUm91dGVEdXJhdGlvbjogZnVuY3Rpb24oJHRoaXMpIHtcbiAgICAgICAgICAgICQod2luZG93KS5vbigncm91dGVIYXNCZWVuQ2FsY3VsYXRlZCcsIGZ1bmN0aW9uKGUsIHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgY2FsY0R1cmF0aW9uKHJvdXRlKTtcbiAgICAgICAgICAgICAgICBzaG93V2F5cG9pbnRzKHJvdXRlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBjYWxjRHVyYXRpb24ocm91dGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYoIU9iamVjdC5rZXlzKHJvdXRlKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICQuZWFjaChyb3V0ZS5yb3V0ZXNbMF0ubGVncywgZnVuY3Rpb24oaSwgd2F5cG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gKz0gd2F5cG9pbnQuZHVyYXRpb24udmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkdGhpcy50ZXh0KChNYXRoLnJvdW5kKChkdXJhdGlvbi82MC82MCkqNCkvNCkrJyBTdGQuJyk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gc2hvd1dheXBvaW50cyhyb3V0ZSkge1xuICAgICAgICAgICAgICAgIHZhciAkdG1wbCA9ICQoTlNJTktBX0dsb2JhbC50bXBsKCdyb3V0ZVNldHRpbmdzJywge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb25zOiBOU0lOS0FfTWFwLnZhcnMud2F5cG9pbnRzLFxuICAgICAgICAgICAgICAgICAgICByb3V0ZXM6IE5TSU5LQV9NYXAudmFycy5yb3V0ZXMsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSb3V0ZTogTlNJTktBX01hcC52YXJzLmN1cnJlbnRSb3V0ZSxcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICAkdGhpcy5jbG9zZXN0KCdsYXllci1jb250ZW50JykuZmluZCgnbGF5ZXItY29udGVudC1vcGVuZWQnKS5odG1sKCcnKS5hcHBlbmQoJHRtcGwpO1xuXG4gICAgICAgICAgICAgICAgJHRtcGwuZmluZCgnbGknKS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBEYXRhID0gTlNJTktBX01hcC52YXJzLndheXBvaW50c1tpXTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICR0bXBsLmZpbmQoJ3VsJykuc29ydGFibGUoe1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJwbGFjZWhvbGRlclwiLFxuICAgICAgICAgICAgICAgICAgICBzdG9wOiBmdW5jdGlvbihldmVudCx1aSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBOU0lOS0FfTWFwLnZhcnMud2F5cG9pbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAkdG1wbC5maW5kKCdsaScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTlNJTktBX01hcC52YXJzLndheXBvaW50cy5wdXNoKHRoaXMubWFwRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIE5TSU5LQV9NYXAuaW5pdEN1c3RvbVJvdXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBOU0lOS0FfTWFwLmdlblJvdXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGF4aXM6IFwieVwiLFxuICAgICAgICAgICAgICAgICAgICBoZWxwZXI6ICdjbG9uZScsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZTogJy5kcmFnLWhhbmRsZSdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIE5TSU5LQV9BY3Rpb25zLmluaXQoJHRtcGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByb3V0ZVNldHRpbmdzOiBmdW5jdGlvbigkdGhpcykge1xuICAgICAgICAgICAgJHRoaXMuZmluZCgnYS5kZWFjdGl2YXRlJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlYWN0aXZhdGVkQ2xhc3MgPSAnZGVhY3RpdmF0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICRyb3cgPSAkdGhpcy5jbG9zZXN0KCdsaScpO1xuXG5cbiAgICAgICAgICAgICAgICBpZigkcm93Lmhhc0NsYXNzKGRlYWN0aXZhdGVkQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAkcm93LnJlbW92ZUNsYXNzKGRlYWN0aXZhdGVkQ2xhc3MpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICRyb3cuYWRkQ2xhc3MoZGVhY3RpdmF0ZWRDbGFzcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJGNoYW5nZUljb24gPSAkdGhpcy5kYXRhKCdjaGFuZ2UtaWNvbicpO1xuICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ2NoYW5nZS1pY29uJywgJHRoaXMudGV4dCgpKTtcbiAgICAgICAgICAgICAgICAkdGhpcy50ZXh0KCRjaGFuZ2VJY29uKTtcblxuICAgICAgICAgICAgICAgIE5TSU5LQV9NYXAudmFycy53YXlwb2ludHNbJHJvdy5kYXRhKCdsb2NhdGlvbi1pZCcpXS5pbmFjdGl2ZSA9IGluYWN0aXZlO1xuXG4gICAgICAgICAgICAgICAgTlNJTktBX01hcC5pbml0Q3VzdG9tUm91dGUoKTtcbiAgICAgICAgICAgICAgICBOU0lOS0FfTWFwLmdlblJvdXRlKCk7XG5cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHNlYXJjaDogZnVuY3Rpb24oJHRoaXMpIHtcbiAgICAgICAgICAgICR0aGlzLmZpbmQoJ2J1dHRvbicpLmNsaWNrdG91Y2goZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHZhciAkZm9ybSA9ICQodGhpcykuY2xvc2VzdCgnZm9ybScpLFxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQgPSAkZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic2VhcmNoXCJdJyksXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNsYXNzID0gJ2FjdGl2ZSc7XG4gICAgICAgICAgICAgICAgaWYoJGZvcm0uaGFzQ2xhc3MoYWN0aXZlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICRmb3JtLnJlbW92ZUNsYXNzKGFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LmJsdXIoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkZm9ybS5hZGRDbGFzcyhhY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvcGVuTG9jYXRpb246IGZ1bmN0aW9uKCR0aGlzKSB7XG5cbiAgICAgICAgICAgICR0aGlzLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkdG1wbCA9ICQoTlNJTktBX0dsb2JhbC50bXBsKCdsb2NhdGlvbicsIHtkaXJlY3Rpb25zIDogTlNJTktBX01hcC52YXJzLndheXBvaW50c30pKTtcblxuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5wcmVwZW5kKCR0bXBsKTtcblxuICAgICAgICAgICAgICAgIHZhciAkbG9jYXRpb25zX193cmFwcGVyID0gJHRtcGwuZmluZCgnI2xvY2F0aW9uc19fd3JhcHBlcicpO1xuXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uc19fd3JhcHBlci5zbGljayh7XG4gICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlV2lkdGg6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxTbGlkZTogJHRoaXMuY2xvc2VzdCgnbGknKS5kYXRhKCdsb2NhdGlvbi1pZCcpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyR0bXBsLmZpbmQoJyNsb2NhdGlvbl9jbG9zZScpLnNsaWNrKCdzbGlja1ByZXYnKTtcbiAgICAgICAgICAgICAgICAkdG1wbC5maW5kKCcjbG9jYXRpb25fcHJldiwjbG9jYXRpb25fbmV4dCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmlkID09ICdsb2NhdGlvbl9uZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uc19fd3JhcHBlci5zbGljaygnc2xpY2tOZXh0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb25zX193cmFwcGVyLnNsaWNrKCdzbGlja1ByZXYnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJHRtcGwuZmluZCgnI2xvY2F0aW9uX2Nsb3NlJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICR0bXBsLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgJHRtcGwub25lKHRyYW5zaXRpb25FbmRUcmlnZ2VyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0bXBsLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRtcGwuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH0sMTAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RSb3V0ZTogZnVuY3Rpb24oJHRoaXMpIHtcbiAgICAgICAgICAgICR0aGlzLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBOU0lOS0FfTWFwLmluaXRSb3V0ZSgkKHRoaXMpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICBOU0lOS0FfTWFwLmdlblJvdXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcXVpY2tsaW5rczogZnVuY3Rpb24oJHRoaXMpIHtcbiAgICAgICAgICAgIHZhciAkaGVhZGVyID0gJHRoaXMuZmluZCgnbGF5ZXItY29udGVudC1oZWFkZXInKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJTdGFuZGFyZFZhbHVlID0gJGhlYWRlci50ZXh0KCk7XG4gICAgICAgICAgICAkdGhpcy5vbignbW92ZVRyYW5zaXRpb25TdGF0dXMnLCBmdW5jdGlvbihlLCBwZXJjZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgaWYocGVyY2VudGFnZT4wKSB7XG4gICAgICAgICAgICAgICAgICAgICRoZWFkZXIudGV4dChoZWFkZXJTdGFuZGFyZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkaGVhZGVyLnRleHQoJ1N0YWR0cnVuZGdhbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxufVxuIiwiLyoqXG4qIERlc2NyaXB0aW9uIGZvciBOU0lOS0FfQWN0aW9uc1xuKiBAcHJpdmF0ZVxuKiBAcHJvcGVydHkgTlNJTktBX0FjdGlvbnNcbiovXG52YXIgTlNJTktBX2pRdWVyeUV4dGVuc2lvbnMgPSB7XG4gICAgdmFyczoge1xuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGpRdWVyeS5mbi5leHRlbmQodGhpcy5mdW5jdGlvbnMpO1xuICAgIH0sXG4gICAgZnVuY3Rpb25zOiB7XG4gICAgICAgIGNsaWNrdG91Y2g6IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykub24oJ2NsaWNrJyxmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXIoJ3RvdWNoc3RhcnQnLFt0cnVlXSk7XG4gICAgICAgICAgICB9KS5vbignbW91c2Vkb3duIG1vdXNlbW92ZSBtb3VzZXVwJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9KS5vbigndG91Y2hzdGFydCcsIGZuKTtcbiAgICAgICAgfVxuXG4gICAgfVxufVxuIiwiLyoqXG4qIERlc2NyaXB0aW9uIGZvciBOU0lOS0FfTGF5ZXJzXG4qIEBwcml2YXRlXG4qIEBwcm9wZXJ0eSBOU0lOS0FfTGF5ZXJzXG4qL1xudmFyIE5TSU5LQV9MYXllcnMgPSB7XG4gICAgdmFyczoge1xuICAgICAgICBzbmFwUG9pbnQ6IDUwXG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5pbml0SHRtbExheWVyVGFnKCk7XG4gICAgICAgICQoJ2xheWVyJykuZWFjaCh0aGlzLnNpbmdsZSk7XG4gICAgICAgIHRoaXMubGF5ZXJMaW5rcygpO1xuICAgICAgICB0aGlzLmlkZW50aWZ5TGF5ZXJzKCk7XG5cbiAgICAgICAgLyogU2FmYXJpIGlPUyBicm93c2VyaGFjayBpbmhlcml0IG1pbi1oZWlnaHQqL1xuICAgICAgICB2YXIgJGNvbnRlbnQgPSAkKCdtYWluPi5jb250ZW50Jyk7XG4gICAgICAgIG5ldyBSZXNpemVTZW5zb3IoJGNvbnRlbnRbMF0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGNvbnRlbnQudHJpZ2dlcignYnJvd3NlcmhhY2tfaW5oZXJpdF9oZWlnaHQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyICRhcnRpY2xlID0gJCgnbGF5ZXI+YXJ0aWNsZScpO1xuICAgICAgICAkKCdsYXllcj5hcnRpY2xlJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICBuZXcgUmVzaXplU2Vuc29yKCR0aGlzLnBhcmVudCgpWzBdLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkdGhpcy50cmlnZ2VyKCdfcmVzaXplJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHRoaXMub24oJ19yZXNpemUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkdGhpcy5jc3MoeyAnbWluLWhlaWdodCcgOiAkKHdpbmRvdykuaGVpZ2h0KCkgLSAkdGhpcy5vZmZzZXQoKS50b3AgfSk7XG4gICAgICAgICAgICB9KS50cmlnZ2VyKCdfcmVzaXplJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRjb250ZW50Lm9uKCdicm93c2VyaGFja19pbmhlcml0X2hlaWdodCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2hlaWdodCcsICcnKS5jc3MoJ2hlaWdodCcsIHRoaXMuY2xpZW50SGVpZ2h0KTtcbiAgICAgICAgfSkudHJpZ2dlcignYnJvd3NlcmhhY2tfaW5oZXJpdF9oZWlnaHQnKTtcblxuICAgIH0sXG4gICAgbGF5ZXJMaW5rczogZnVuY3Rpb24oJGJvZHkpIHtcbiAgICAgICAgJGJvZHkgPSAkYm9keSB8fCAkKCdib2R5Jyk7XG4gICAgICAgICQoJ2FbaHJlZl0nKS5jbGljayhmdW5jdGlvbihlKSB7IGUucHJldmVudERlZmF1bHQoKTsgfSkuY2xpY2t0b3VjaChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBOU0lOS0FfR2xvYmFsLmFqYXhQYWdlKHRoaXMuaHJlZiwgTlNJTktBX0xheWVycy5wcmVwYXJlUmVjZWl2ZXJMYXllcik7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgaWRlbnRpZnlMYXllcnM6IGZ1bmN0aW9uKCRib2R5KSB7XG4gICAgICAgICRib2R5ID0gJGJvZHkgfHwgJCgnYm9keScpO1xuICAgICAgICAkKCdsYXllcicsICRib2R5KS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhc2V0LmlkID0gJC5tYXAoJCh0aGlzKS5wYXJlbnRzKCkuZmlsdGVyKCdtYWluLGxheWVyJyksIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5ub2RlTmFtZSsoaXRlbS5pZD8nIycraXRlbS5pZDonJyk7XG4gICAgICAgICAgICB9KS5yZXZlcnNlKCkuam9pbignPicpKyc+Jyt0aGlzLm5vZGVOYW1lKyh0aGlzLmlkPycjJyt0aGlzLmlkOicnKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBwcmVwYXJlUmVjZWl2ZXJMYXllcjogZnVuY3Rpb24oJGRhdGEpIHtcbiAgICAgICAgJG1haW4gPSAkKCRkYXRhLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICBpZihpdGVtLm5vZGVOYW1lID09ICdNQUlOJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pWzBdKTtcblxuICAgICAgICBOU0lOS0FfTGF5ZXJzLmlkZW50aWZ5TGF5ZXJzKCRtYWluKTtcblxuICAgICAgICAkKCdsYXllcicpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICRhamF4U2libGluZyA9ICRtYWluLmZpbmQoJ2xheWVyW2RhdGEtaWQ9XCInKyQodGhpcykuZGF0YSgnaWQnKSsnXCJdJyk7XG5cbiAgICAgICAgICAgIGlmKCRhamF4U2libGluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHRDaGlsZExheWVyID0gJCh0aGlzKS5maW5kKCc+bGF5ZXInKSxcbiAgICAgICAgICAgICAgICAgICAgJHNDaGlsZExheWVyID0gJGFqYXhTaWJsaW5nLmZpbmQoJz5sYXllcicpO1xuICAgICAgICAgICAgICAgIGlmKCRzQ2hpbGRMYXllci5sZW5ndGggJiYgISR0Q2hpbGRMYXllci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRbMF0uYXBwZW5kTGF5ZXIoJHNDaGlsZExheWVyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoJHRDaGlsZExheWVyLmxlbmd0aCAmJiAoJHRDaGlsZExheWVyLmRhdGEoJ2lkJykgIT0gJHNDaGlsZExheWVyLmRhdGEoJ2lkJykpKSB7XG4gICAgICAgICAgICAgICAgICAgICR0Q2hpbGRMYXllclswXS5yZW1vdmVMYXllcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0WzBdLmFwcGVuZExheWVyKCRzQ2hpbGRMYXllcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdyZW1vdmVMYXllcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkbGF5ZXJzID0gJCgkbWFpblswXSkuZmluZCgnbGF5ZXInKTtcbiAgICB9LFxuICAgIGluaXRIdG1sTGF5ZXJUYWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGF5ZXJUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYXllcicpO1xuICAgICAgICB2YXIgbGF5ZXJDb250ZW50VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGF5ZXItY29udGVudCcpO1xuICAgIH0sXG4gICAgc2luZ2xlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy52YXJzID0ge1xuICAgICAgICAgICAgJGxheWVyQ29udGVudDogJCh0aGlzKS5maW5kKCc+bGF5ZXItY29udGVudCcpLFxuICAgICAgICAgICAgJGxheWVyQ29udGVudEhlaWdodEluZGljYXRvcjogJCgnPGxheWVyLWhlaWdodC1pbmRpY2F0b3IgLz4nKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmKCQodGhpcykuYXR0cignZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YXJzLiRsYXllckNvbnRlbnQuYXBwZW5kKCB0aGlzLnZhcnMuJGxheWVyQ29udGVudEhlaWdodEluZGljYXRvcik7XG4gICAgICAgIHZhciAkbGF5ZXJDb250ZW50SGVhZGVyID0gJCh0aGlzKS5maW5kKCdsYXllci1jb250ZW50LWhlYWRlcicpO1xuICAgICAgICB0aGlzLnZhcnMuJGhhbmRsZSA9ICRsYXllckNvbnRlbnRIZWFkZXIubGVuZ3RoID8gJGxheWVyQ29udGVudEhlYWRlciA6IHRoaXMudmFycy4kbGF5ZXJDb250ZW50O1xuXG4gICAgICAgIGlmKGhhbmRsZSA9ICQodGhpcykuYXR0cignaGFuZGxlJykpIHtcbiAgICAgICAgICAgIHRoaXMudmFycy4kaGFuZGxlID0gJChoYW5kbGUsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YXJzLiRoYW5kbGVbMF0ubWluSGVpZ2h0ID0gcGFyc2VGbG9hdCh0aGlzLnZhcnMuJGxheWVyQ29udGVudC5jc3MoJ21pbi1oZWlnaHQnKSk7XG4gICAgICAgIHRoaXMudmFycy4kaGFuZGxlWzBdLm1heEhlaWdodCA9IHRoaXMudmFycy4kbGF5ZXJDb250ZW50SGVpZ2h0SW5kaWNhdG9yWzBdLm9mZnNldFRvcDtcblxuICAgICAgICB0aGlzLnZhcnMuJGhhbmRsZVswXS5vcGVuZWQgPSAoJCh0aGlzKS5hdHRyKCdvcGVuZWQnKT09J3RydWUnKSB8fCBmYWxzZTtcblxuICAgICAgICB0aGlzLnZhcnMuJGhhbmRsZVswXS5wcmV2RGlyZWN0aW9uID0gdGhpcy52YXJzLiRoYW5kbGVbMF0ub3BlbmVkID8gLTEgOiAxO1xuXG4gICAgICAgIHRoaXMudmFycy4kaGFuZGxlWzBdLiRsYXllciA9ICQodGhpcyk7XG4gICAgICAgIHRoaXMudmFycy4kaGFuZGxlWzBdLiRsYXllckNvbnRlbnQgPSB0aGlzLnZhcnMuJGxheWVyQ29udGVudDtcblxuICAgICAgICB0aGlzLnZhcnMuJGxheWVyQ29udGVudC5jc3Moe1xuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnZhcnMuJGxheWVyQ29udGVudFswXS5vcGVuZWQ/dGhpcy52YXJzLiRsYXllckNvbnRlbnQuaGVpZ2h0KCk6dGhpcy52YXJzLiRsYXllckNvbnRlbnRbMF0ubWluSGVpZ2h0XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdGhpcy52YXJzLiRoYW5kbGVbMF0ud2hpbGVPcGVuQ2xvc2UgPVxuICAgICAgICAgICAgKCQodGhpcykuYXR0cignd2hpbGVPcGVuQ2xvc2UnKT8kLm1hcCgkKHRoaXMpLmF0dHIoJ3doaWxlT3BlbkNsb3NlJykuc3BsaXQoJywnKSwgZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJCgnIycraWQpO1xuICAgICAgICAgICAgfSk6ZmFsc2UpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIgPSB7XG4gICAgICAgICAgICB0b3VjaHN0YXJ0OiBmdW5jdGlvbihlLCBwcmV2ZW50VGhpc1Byb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy9lLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICQodGhpcykudHJpZ2dlcignbW92ZVRyYW5zaXRpb25TdGF0dXMnLCAoKCQodGhpcykuaGVpZ2h0KCkvdGhpcy5tYXhIZWlnaHQpKjEwMCkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhIZWlnaHQgPSB0aGlzLiRsYXllclswXS52YXJzLiRsYXllckNvbnRlbnRIZWlnaHRJbmRpY2F0b3JbMF0ub2Zmc2V0VG9wO1xuXG4gICAgICAgICAgICAgICAgaWYocHJldmVudFRoaXNQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygndG91Y2hzdGFydCcpO1xuXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGUuZGV0YWlsICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBlLmRldGFpbC5jaGFuZ2VkVG91Y2hlcyAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jaGFuZ2VkVG91Y2hlcyA9IGUuZGV0YWlsLmNoYW5nZWRUb3VjaGVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICB0aGlzLnByZXZDbGllbnRZID0gdGhpcy50b3VjaHN0YXJ0UG9zaXRpb25ZID0gKGUuY2hhbmdlZFRvdWNoZXMgPyAoZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZLXRoaXMub2Zmc2V0VG9wKSA6IDApO1xuICAgICAgICAgICAgICAgIHRoaXMudG91Y2hzdGFydEhlaWdodCA9ICQodGhpcykuaGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpc3RhbmNlID0gMS4xO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndG91Y2hzdGFydFBvc2l0aW9uWScsIHRoaXMudG91Y2hzdGFydFBvc2l0aW9uWSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMub3BlbmVkPy0xOjE7XG5cbiAgICAgICAgICAgICAgICBpZighdGhpcy5vcGVuZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHRoaXMud2hpbGVPcGVuQ2xvc2UsIGZ1bmN0aW9uKGksICRpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaXRlbS50cmlnZ2VyKCdjbG9zZUxheWVyJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG91Y2htb3ZlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCd0b3VjaHN0YXJ0JykuYWRkQ2xhc3MoJ3RvdWNobW92ZScpO1xuXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGUuZGV0YWlsICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBlLmRldGFpbC5jaGFuZ2VkVG91Y2hlcyAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jaGFuZ2VkVG91Y2hlcyA9IGUuZGV0YWlsLmNoYW5nZWRUb3VjaGVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDbGllbnRZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZLXRoaXMub2Zmc2V0VG9wLFxuICAgICAgICAgICAgICAgICAgICBjYWxjID0gY3VycmVudENsaWVudFktdGhpcy50b3VjaHN0YXJ0UG9zaXRpb25ZLFxuICAgICAgICAgICAgICAgICAgICBjYWxjID0gdGhpcy50b3VjaHN0YXJ0SGVpZ2h0K2NhbGM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMucHJldkNsaWVudFkgPiBjdXJyZW50Q2xpZW50WSA/IC0xIDogMTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgaWYodGhpcy5kaXJlY3Rpb24gIT0gdGhpcy5wcmV2RGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGlyZWN0aW9uLCB0aGlzLnByZXZEaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgICAgICBpZih0aGlzLiRsYXllci5hdHRyKCdpbnZlcnRUb3VjaCcpID09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uKi0xO1xuICAgICAgICAgICAgICAgICAgICBjYWxjID0gKGNhbGMtdGhpcy50b3VjaHN0YXJ0SGVpZ2h0KSotMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXIoJ21vdmVUcmFuc2l0aW9uU3RhdHVzJywgKChjYWxjL3RoaXMubWF4SGVpZ2h0KSoxMDApKTtcblxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRQb3NpdGlvbiA9IHRoaXMuZGlyZWN0aW9uID09PSAxID8gdGhpcy5tYXhIZWlnaHQgOiB0aGlzLm1pbkhlaWdodDtcblxuICAgICAgICAgICAgICAgIGlmKFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5kaXJlY3Rpb24gPT09IDEgJiYgY2FsYyA+PSB0aGlzLm1heEhlaWdodCApIHx8XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmRpcmVjdGlvbiA9PT0gLTEgJiYgY2FsYyA8PSB0aGlzLm1pbkhlaWdodCApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRsYXllckNvbnRlbnQuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAoY2FsYylcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVzaXN0YW5jZSA9IHRoaXMucmVzaXN0YW5jZSouMTtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZDbGllbnRZID0gY3VycmVudENsaWVudFk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG91Y2hlbmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAvL2UucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uICE9IHRoaXMucHJldkRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZEaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2RGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247XG5cbiAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGxheWVyQ29udGVudC5yZW1vdmVDbGFzcygndG91Y2hzdGFydCcpLnJlbW92ZUNsYXNzKCd0b3VjaG1vdmUnKS5hZGRDbGFzcygndG91Y2hlbmQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoc3RhcnRQb3NpdGlvblkgPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5kaXJlY3Rpb24gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbGF5ZXJDb250ZW50LnBhcmVudCgpLnRyaWdnZXIoJ2xheWVyLW9wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmluYWxIZWlnaHQgPSB0aGlzLm1heEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRsYXllckNvbnRlbnQudHJpZ2dlcignbW92ZVRyYW5zaXRpb25TdGF0dXMnLCAxMDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGxheWVyQ29udGVudC5wYXJlbnQoKS50cmlnZ2VyKCdsYXllci1jbG9zZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmFsSGVpZ2h0ID0gdGhpcy5taW5IZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGxheWVyQ29udGVudC50cmlnZ2VyKCdtb3ZlVHJhbnNpdGlvblN0YXR1cycsIDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuJGxheWVyQ29udGVudC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGZpbmFsSGVpZ2h0XG4gICAgICAgICAgICAgICAgfSkub25lKHRyYW5zaXRpb25FbmRUcmlnZ2VyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygndG91Y2hlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoX3RoaXMudmFycy4kaGFuZGxlWzBdLm9wZW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICQod2luZG93KS50cmlnZ2VyKCdsYXllckNoYW5nZScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQod2luZG93KS50cmlnZ2VyKCdsYXllckNoYW5nZScpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvdWNoU2ltdWxhdGlvbjogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGUudHlwZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwidG91Y2hzdGFydFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtb3VzZW1vdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNNb3VzZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gXCJ0b3VjaG1vdmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtb3VzZXVwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gXCJ0b3VjaGVuZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcyA9PSB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY3VycmVudFRvdWNoZWRFbGVtLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd0b3VjaGVuZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyQod2luZG93LmN1cnJlbnRUb3VjaGVkRWxlbSkudHJpZ2dlcigndG91Y2hlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgICAgIGlmKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmN1cnJlbnRUb3VjaGVkRWxlbSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzaW11bGF0ZWRFdmVudCA9IG5ldyBDdXN0b21FdmVudCh0eXBlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb286ICdkZXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZFRvdWNoZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFggOiBlLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFkgOiBlLmNsaWVudFlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAgICAgICAgIHNpbXVsYXRlZEV2ZW50LnRlc3QgPSAndGVzdCc7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHNpbXVsYXRlZEV2ZW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy52YXJzLiRsYXllckNvbnRlbnRbMF0ubWluSGVpZ2h0ID49IHRoaXMudmFycy4kbGF5ZXJDb250ZW50WzBdLm1heEhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy52YXJzLiRsYXllckNvbnRlbnRbMF0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3RvdWNoZW5kJykpO1xuICAgICAgICAgICAgLy90aGlzLnZhcnMuJGxheWVyQ29udGVudC50cmlnZ2VyKCd0b3VjaGVuZCcsIHRoaXMuZXZlbnRIYW5kbGVyLnRvdWNoZW5kKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cblxuICAgICAgICB0aGlzLnZhcnMuJGhhbmRsZVswXS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5ldmVudEhhbmRsZXIudG91Y2hzdGFydCwgeyBwYXNzaXZlIDogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy52YXJzLiRoYW5kbGVbMF0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5ldmVudEhhbmRsZXIudG91Y2htb3ZlLCB7IHBhc3NpdmUgOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnZhcnMuJGhhbmRsZVswXS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuZXZlbnRIYW5kbGVyLnRvdWNoZW5kLCB7IHBhc3NpdmUgOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnZhcnMuJGhhbmRsZVswXS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMuZXZlbnRIYW5kbGVyLnRvdWNoZW5kLCB7IHBhc3NpdmUgOiB0cnVlIH0pO1xuXG4gICAgICAgIGlmKCFOU0lOS0FfR2xvYmFsLmlzX21vYmlsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnZhcnMuJGhhbmRsZVswXS5pc01vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgLyp0aGlzLnZhcnMuJGhhbmRsZS5vbihcbiAgICAgICAgICAgICAgICAnbW91c2Vkb3duIG1vdXNlbW92ZSBtb3VzZXVwJyxcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci50b3VjaFNpbXVsYXRpb25cbiAgICAgICAgICAgICk7Ki9cblxuICAgICAgICAgICAgJC5lYWNoKFsnbW91c2Vkb3duJywgJ21vdXNlbW92ZScsICdtb3VzZXVwJ10sIGZ1bmN0aW9uKGksIGV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnZhcnMuJGhhbmRsZVswXS5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgX3RoaXMuZXZlbnRIYW5kbGVyLnRvdWNoU2ltdWxhdGlvbiwgeyBwYXNzaXZlIDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ21vdXNldXAnKSk7XG4gICAgICAgICAgICAvLyQod2luZG93KS5vbignbW91c2V1cCcsIHRoaXMuZXZlbnRIYW5kbGVyLnRvdWNoU2ltdWxhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAkKHRoaXMpLm9uKCdjbG9zZUxheWVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZih0aGlzLnZhcnMuJGhhbmRsZVswXS5vcGVuZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhcnMuJGhhbmRsZVswXS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgndG91Y2hzdGFydCcpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhcnMuJGhhbmRsZVswXS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgndG91Y2hlbmQnKSk7XG4gICAgICAgICAgICAgICAgLy90aGlzLnZhcnMuJGxheWVyQ29udGVudC50cmlnZ2VyKCd0b3VjaHN0YXJ0JykudHJpZ2dlcigndG91Y2hlbmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCh0aGlzKS5vbignb3BlbkxheWVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZighdGhpcy52YXJzLiRoYW5kbGVbMF0ub3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YXJzLiRoYW5kbGVbMF0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3RvdWNoc3RhcnQnKSk7XG4gICAgICAgICAgICAgICAgdGhpcy52YXJzLiRoYW5kbGVbMF0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3RvdWNoZW5kJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlbW92ZUxheWVyID0gZnVuY3Rpb24oYWZ0ZXJGbikge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBhZnRlckZuICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgYWZ0ZXJGbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYXBwZW5kTGF5ZXIgPSBmdW5jdGlvbigkbGF5ZXIpIHtcbiAgICAgICAgICAgICQodGhpcykuYXBwZW5kKCRsYXllcik7XG4gICAgICAgICAgICAkbGF5ZXIuYWRkQ2xhc3MoJ2luYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIE5TSU5LQV9MYXllcnMubGF5ZXJMaW5rcygkbGF5ZXIpO1xuXG4gICAgICAgICAgICAkbGF5ZXIuZWFjaChOU0lOS0FfTGF5ZXJzLnNpbmdsZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRsYXllci5hZGRDbGFzcygnaW5hY3RpdmUtLXRyYW5zaXRpb24nKS5yZW1vdmVDbGFzcygnaW5hY3RpdmUnKS5vbih0cmFuc2l0aW9uRW5kVHJpZ2dlciwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5hY3RpdmUtLXRyYW5zaXRpb24nKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG5cbiAgICB9LFxuXG59XG4iLCIvKipcbiogRGVzY3JpcHRpb24gZm9yIE5TSU5LQV9NYXBcbiogQHByaXZhdGVcbiogQHByb3BlcnR5IE5TSU5LQV9NYXBcbiovXG5cbnZhciBOU0lOS0FfTWFwID0ge1xuICAgIHZhcnM6IHtcbiAgICAgICAgdXNlckdlb1Bvc2l0aW9uOiBuZXcgQXJyYXkoKSxcbiAgICAgICAgZGlyZWN0aW9uc1NlcnZpY2U6IGZhbHNlLFxuICAgICAgICBkaXJlY3Rpb25zRGlzcGxheTogZmFsc2UsXG4gICAgICAgIGluZm9XaW5kb3c6IGZhbHNlLFxuICAgICAgICBtYXA6IGZhbHNlLFxuICAgICAgICByb3V0ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZSA6ICdSb3V0ZSBYWScsXG4gICAgICAgICAgICAgICAgcm91dGU6IFsgMSwgNSwgOCwgMTJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlIDogJ0VpZ2VuZSBSb3V0ZScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2N1c3RvbSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgY3VycmVudFJvdXRlOiAwLFxuICAgICAgICB3YXlwb2ludHM6IFtcblxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnRnJlaWUgU3BpZWwtIHVuZCBTcG9ydHZlcmVpbmlndW5nLCAoRlNTVikgYW0gQWRlbmF1ZXJyaW5nJyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdBZGVuYXVlcnJpbmcgMzYnLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogNDkuMDI0MjEwLFxuICAgICAgICAgICAgICAgICAgICBsbmc6IDguMzk0NDY0XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0x1ZHdpZyBNYXJ1bSwgTHVkd2lnLU1hcnVtLVN0cmHDn2UnLFxuICAgICAgICAgICAgICAgIHN0cmVldDogJ0x1ZHdpZy1NYXJ1bS1TdHJhw59lJyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IDQ5LjAxMzkzMSxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiA4LjM2ODU0N1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5hY3RpdmU6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdBZG9sZi1IaXRsZXItSGF1cyxSaXR0ZXJzdHJhw59lIDI4LzMwJyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdSaXR0ZXJzdHJhw59lIDI4LzMwJyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IDQ5LjAwNDk2OSxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiA4LjM5NzkxNVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5hY3RpdmU6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdBcmJlaXRlcmJpbGR1bmdzdmVyZWluJyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdXaWxoZWxtc3RyYcOfZSAxNCcsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMDI5NDIsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC40MDU0MDhcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnQXVndXN0LURvc2VuYmFjaC1TdHJhw59lJyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdBdWd1c3QtRG9zZW5iYWNoLVN0cmHDn2UnLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogNDkuMDAxMTMzLFxuICAgICAgICAgICAgICAgICAgICBsbmc6IDguMzQxMTIwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0JhZGlzY2hlcyBJbm5lbm1pbmlzdGVyaXVtJyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdTY2hsb3NzcGxhdHogMTknLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogNDkuMDEwNzcyLFxuICAgICAgICAgICAgICAgICAgICBsbmc6IDguNDAxOTg1XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0JhbmtoYXVzIFZlaXQgTC4gSG9tYnVyZ2VyJyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdLYXJsc3RyYcOfZSAxMScsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OC45OTcxOTgsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC4zOTQwNDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnRFdNIERldXRzY2hlIFdhZmZlbi0gdW5kIE11bml0aW9uc2ZhYnJpayBBRycsXG4gICAgICAgICAgICAgICAgc3RyZWV0OiAnTG9yZW56c3RyYcOfZScsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMDE0OTksXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC4zODMwOTNcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnRsO8aHJlci1WZXJsYWcnLFxuICAgICAgICAgICAgICAgIHN0cmVldDogJ0thaXNlcnN0cmHDn2UgMTMzJyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IDQ5LjAwOTU0MSxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiA4LjQwNTIxMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5hY3RpdmU6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdHZWbDpG5nbmlzIFJpZWZzdGFobHN0cmHDn2UnLFxuICAgICAgICAgICAgICAgIHN0cmVldDogJ1JpZWZzdGFobHN0ci45JyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IDQ5LjAxMzg3MSxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiA4LjM4NTA1NlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5hY3RpdmU6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdHZXN0YXBvLUhhdXB0c3RlbGxlJyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdFYmVydHN0ci4gMjYnLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogNDguOTk1MDkwLFxuICAgICAgICAgICAgICAgICAgICBsbmc6IDguMzkxODY3XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0hhdXB0YmFobmhvZicsXG4gICAgICAgICAgICAgICAgc3RyZWV0OiAnQmFobmhvZnNwbGF0eicsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMTQwNzksXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC40Mjk4MzZcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnSsO8ZGlzY2hlciBGcmllZGhvZicsXG4gICAgICAgICAgICAgICAgc3RyZWV0OiAnSGFpZC0gdW5kIE5ldS1TdHIuIDQxLCA0NScsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMTQyNzksXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC40MzEyNjRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnV29obi0gdW5kIGVoZW1hbGlnZXMgR2VtZWluZGVoYXVzJyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdIZXJyZW5zdHJhw59lIDE0JyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IDQ5LjAxMDQzNixcbiAgICAgICAgICAgICAgICAgICAgbG5nOiA4LjM5OTkxMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5hY3RpdmU6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdISiB1bmQgQkRNJyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdSw7xwcHVycmVyIFN0cmHDn2UnLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogNDkuMDAwNzkzLFxuICAgICAgICAgICAgICAgICAgICBsbmc6IDguNDEwNjg0XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdIb3RlbCBOYXNzYXVlciBIb2YgJyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdLcmllZ3NzdHIuIDg4JyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IDQ5LjAwNjAyMSxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiA4LjQwNzIwM1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5hY3RpdmU6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnSsO8ZGlzY2hlIFNjaHVsZSBpbiBkZXIgTGlkZWxsc2NodWxlJyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdNYXJrZ3JhZmVuc3RyYcOfZScsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMDc3NjIsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC40MDgwMTlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0thdWZoYXVzIEhlcnRpZScsXG4gICAgICAgICAgICAgICAgc3RyZWV0OiAnS2Fpc2Vyc3RyYcOfZSA5MicsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMTAwOTgsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC40MDEyMTNcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnS2F1ZmhhdXMgS2Fyc3RhZHQnLFxuICAgICAgICAgICAgICAgIHN0cmVldDogJ0thaXNlcnN0cmHDn2UgMTQ3LTE1OScsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMDk1MjMsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC40MDIwMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnTHVkd2lnLU1hcnVtLVN0cmHDn2UnLFxuICAgICAgICAgICAgICAgIHN0cmVldDogJ0x1ZHdpZy1NYXJ1bS1TdHJhw59lJyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IDQ5LjAxNDMwNCxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiA4LjM2ODI4MlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5hY3RpdmU6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdNYXJrdHBsYXR6JyxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6ICdLYXJsLUZyaWVkcmljaC1TdHJhw59lIDcnLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogNDkuMDA5NDEwLFxuICAgICAgICAgICAgICAgICAgICBsbmc6IDguNDAzOTEyXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1BvbGl6ZWlwcsOkc2lkaXVtIE1hcmt0cGxhdHonLFxuICAgICAgICAgICAgICAgIHN0cmVldDogJycsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMTA1NDMsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC40MDIyMzhcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnU2NobG9zc3BsYXR6IC0gQsO8Y2hlcnZlcmJyZW5udW5nIGltIEp1bmkgMTkzMycsXG4gICAgICAgICAgICAgICAgc3RyZWV0OiAnU2NobG9zc3BsYXR6JyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IDQ5LjAxMDk5OSxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiA4LjQwMzg1NFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5hY3RpdmU6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdTdGFhdGxpY2hlIEt1bnN0aGFsbGUnLFxuICAgICAgICAgICAgICAgIHN0cmVldDogJ0hhbnMtVGhvbWEtU3RyLiAyLTYnLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogNDkuMDEyMDA2LFxuICAgICAgICAgICAgICAgICAgICBsbmc6IDguMzk5OTQ5XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1N5bmFnb2dlIGluIGRlciAtIEthcmwtRnJpZWRyaWNoLVN0cmHDn2UgMTQtMTgnLFxuICAgICAgICAgICAgICAgIHN0cmVldDogJ0thcmwtRnJpZWRyaWNoLVN0cmHDn2UgMTQtMTgnLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogNDkuMDA3ODc2LFxuICAgICAgICAgICAgICAgICAgICBsbmc6IDguNDAzNTE3XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1N5bmFnb2dlIEtyb25lbnN0cmHDn2UnLFxuICAgICAgICAgICAgICAgIHN0cmVldDogJ0tyb25lbnN0cmHDn2UgMTUnLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogNDkuMDA5OTI2LFxuICAgICAgICAgICAgICAgICAgICBsbmc6IDguNDA4Mjc2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1RlY2huaXNjaGUgSG9jaHNjaHVsZScsXG4gICAgICAgICAgICAgICAgc3RyZWV0OiAnS2Fpc2Vyc3RyYcOfZSAxMicsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMDk2NzUsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC40MTE2MTNcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnXCJWb2xrc2hhdXNcIicsXG4gICAgICAgICAgICAgICAgc3RyZWV0OiAnU2Now7x0emVuc3RyYcOfZSAxNCcsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMDI0MzAsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC40MDQ5NDJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnV29obmhhdXMgS3JldXpzdHJhw59lIDYtOCcsXG4gICAgICAgICAgICAgICAgc3RyZWV0OiAnS3JldXpzdHJhw59lIDYtOCcsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMTAxNDYsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC40MDUyMjlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnWmVudHJhbHZlcmJhbmQgZGVyIEFuZ2VzdGVsbHRlbicsXG4gICAgICAgICAgICAgICAgc3RyZWV0OiAnR2FydGVuc3RyYcOfZSAyNScsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiA0OS4wMDQ3NDUsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogOC4zOTI5NzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgIF0sXG4gICAgICAgIHN0YXJ0UG9pbnQ6ICcnLFxuICAgICAgICBlbmRQb2ludDogJycsXG4gICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgIHdheXBvaW50czogW10sXG4gICAgICAgICAgICB3YXlwb2ludHNfaW5hY3RpdmU6IFtdLFxuICAgICAgICAgICAgdXNlckxvY2F0aW9uOiBbXSxcbiAgICAgICAgICAgIHdpbmRvd3M6IFtdXG4gICAgICAgIH0sXG4gICAgICAgIGFsbE1hcmtlcnNCb3VuZDogZmFsc2UsXG4gICAgICAgIG92ZXJsYXk6IGZhbHNlXG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1hcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKTtcblxuICAgICAgICBpZighbWFwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBOU0lOS0FfTWFwLnZhcnMuc3RhcnRQb2ludCA9IE5TSU5LQV9NYXAudmFycy53YXlwb2ludHNbMF0ubG9jYXRpb247XG4gICAgICAgIE5TSU5LQV9NYXAudmFycy5lbmRQb2ludCA9IE5TSU5LQV9NYXAudmFycy53YXlwb2ludHNbTlNJTktBX01hcC52YXJzLndheXBvaW50cy5sZW5ndGgtMV0ubG9jYXRpb247XG5cbiAgICAgICAgTlNJTktBX01hcC52YXJzLmRpcmVjdGlvbnNTZXJ2aWNlID0gbmV3IGdvb2dsZS5tYXBzLkRpcmVjdGlvbnNTZXJ2aWNlO1xuXG4gICAgICAgIE5TSU5LQV9NYXAudmFycy5hbGxNYXJrZXJzQm91bmQgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG5cbiAgICAgICAgTlNJTktBX01hcC52YXJzLm1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwLCB7XG4gICAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgICAgICBsYXQ6IDQ5LjAxNTc2NDMsXG4gICAgICAgICAgICAgICAgbG5nOiA4LjI2OTg0NTdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNhYmxlRGVmYXVsdFVJOiB0cnVlLFxuICAgICAgICAgICAgem9vbUNvbnRyb2w6IHRydWUsXG4gICAgICAgICAgICB6b29tQ29udHJvbE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkxFRlRfQk9UVE9NXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgem9vbTogMTNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgTlNJTktBX01hcC52YXJzLm92ZXJsYXkgPSBuZXcgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXcoKTtcbiAgICAgICAgTlNJTktBX01hcC52YXJzLm92ZXJsYXkuZHJhdyA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgIE5TSU5LQV9NYXAudmFycy5vdmVybGF5LnNldE1hcChOU0lOS0FfTWFwLnZhcnMubWFwKTtcblxuXG4gICAgICAgICQod2luZG93KS5vbignbGF5ZXJDaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIoTlNJTktBX01hcC52YXJzLm1hcCwgXCJyZXNpemVcIik7XG4gICAgICAgICAgICAvKnZhciBsaXN0ZW5lciA9IGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKE5TSU5LQV9NYXAudmFycy5tYXAsIFwiaWRsZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBOU0lOS0FfTWFwLnZhcnMubWFwLnNldFpvb20oMTMpO1xuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH0pOyAgKi9cbiAgICAgICAgICAgIE5TSU5LQV9NYXAucmVDZW50ZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJC5lYWNoKCQuZXh0ZW5kKHRydWUsIHt9LCBOU0lOS0FfTWFwLnZhcnMud2F5cG9pbnRzKSwgZnVuY3Rpb24oaSwgd2F5cG9pbnQpIHtcbiAgICAgICAgICAgIE5TSU5LQV9NYXAudmFycy5hbGxNYXJrZXJzQm91bmQuZXh0ZW5kKG5ldyBnb29nbGUubWFwcy5MYXRMbmcod2F5cG9pbnQubG9jYXRpb24ubGF0LCB3YXlwb2ludC5sb2NhdGlvbi5sbmcpKTtcbiAgICAgICAgfSlcblxuICAgICAgICAvL05TSU5LQV9NYXAudmFycy5pbmZvV2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe21hcDogTlNJTktBX01hcC52YXJzLm1hcH0pO1xuICAgICAgICBOU0lOS0FfTWFwLmluaXRSb3V0ZSgpO1xuICAgICAgICBOU0lOS0FfTWFwLnJlQ2VudGVyKCk7XG4gICAgICAgIE5TSU5LQV9NYXAuZ2VuVXNlckxvY2F0aW9uTWFrZXIoKTtcbiAgICAgICAgTlNJTktBX01hcC5nZW5Sb3V0ZSgpO1xuICAgIH0sXG4gICAgaW5pdFJvdXRlOiBmdW5jdGlvbihzZWxlY3QpIHtcbiAgICAgICAgTlNJTktBX01hcC52YXJzLmN1cnJlbnRSb3V0ZSA9IHNlbGVjdCB8fMKgTlNJTktBX01hcC52YXJzLmN1cnJlbnRSb3V0ZTtcblxuICAgICAgICAkLmVhY2goTlNJTktBX01hcC52YXJzLndheXBvaW50cywgZnVuY3Rpb24oaSwgZWxlbSkge1xuICAgICAgICAgICAgaWYoJC5pbkFycmF5KGksIE5TSU5LQV9NYXAudmFycy5yb3V0ZXNbTlNJTktBX01hcC52YXJzLmN1cnJlbnRSb3V0ZV0ucm91dGUpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgTlNJTktBX01hcC52YXJzLndheXBvaW50c1tpXS5pbmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBOU0lOS0FfTWFwLnZhcnMud2F5cG9pbnRzW2ldLmluYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9LFxuICAgIGluaXRDdXN0b21Sb3V0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICQuZWFjaChOU0lOS0FfTWFwLnZhcnMucm91dGVzLCBmdW5jdGlvbihpLCByb3V0ZSkge1xuICAgICAgICAgICAgaWYocm91dGUudHlwZSkge1xuICAgICAgICAgICAgICAgIGlmKHJvdXRlLnR5cGUgPT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgTlNJTktBX01hcC52YXJzLmN1cnJlbnRSb3V0ZSA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHJlQ2VudGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgTlNJTktBX01hcC5nZXRVc2VyTG9jYXRpb24oZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICBpZihwb3MpIHtcbiAgICAgICAgICAgICAgICBOU0lOS0FfTWFwLnZhcnMubWFwLnNldENlbnRlcihuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHBvcy5jb29yZHMubGF0aXR1ZGUscG9zLmNvb3Jkcy5sb25naXR1ZGUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTlNJTktBX01hcC52YXJzLm1hcC5maXRCb3VuZHMoTlNJTktBX01hcC52YXJzLmFsbE1hcmtlcnNCb3VuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2VuVXNlckxvY2F0aW9uTWFrZXI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciByID0gNjtcbiAgICAgICAgTlNJTktBX01hcC52YXJzLnVzZXJHZW9Qb3NpdGlvbi5iYWNrZ3JvdW5kID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgaWNvbjoge1xuICAgICAgICAgICAgICAgIHBhdGg6ICdNLScrKHIpKycsMGEnKyhyKSsnLCcrKHIpKycgMCAxLDAgJysocioyKSsnLDBhJysocikrJywnKyhyKSsnIDAgMSwwIC0nKyhyKjIpKycsMCcsXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzAwNjZDQycsXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMCwwKSxcbiAgICAgICAgICAgICAgICBzdHJva2VDb2xvcjogJyMwMDY2Q0MnLFxuICAgICAgICAgICAgICAgIHN0cm9rZVdlaWdodDogNDAsXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogLjI1LFxuICAgICAgICAgICAgICAgIHNjYWxlOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2hhZG93OiBudWxsLFxuICAgICAgICAgICAgekluZGV4OiA5OTksXG4gICAgICAgICAgICBtYXA6IE5TSU5LQV9NYXAudmFycy5tYXBcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzID0gNDtcbiAgICAgICAgTlNJTktBX01hcC52YXJzLnVzZXJHZW9Qb3NpdGlvbi5hcnJvdyA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICAgICAgY2xpY2thYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGljb246IHtcbiAgICAgICAgICAgICAgICBwYXRoOiAnTSAwIDAgTCAnKyhzKjIpKycgMCBMICcrKHMpKycgJysocyoyKSsnIHonLFxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwMDY2Q0MnLFxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogbmV3IGdvb2dsZS5tYXBzLlBvaW50KChzLzIpLCgocy8yKS0ocis1KSkpLFxuICAgICAgICAgICAgICAgIHN0cm9rZVdlaWdodDogMCxcbiAgICAgICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogNDVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaGFkb3c6IG51bGwsXG4gICAgICAgICAgICB6SW5kZXg6IDk5OSxcbiAgICAgICAgICAgIG1hcDogTlNJTktBX01hcC52YXJzLm1hcFxuICAgICAgICB9KTtcblxuXG4gICAgICAgIE5TSU5LQV9NYXAudmFycy51c2VyR2VvUG9zaXRpb24uc2V0UG9zaXRpb24gPSBmdW5jdGlvbihwb3MsIGNvbXBhc3MpIHtcblxuICAgICAgICAgICAgaWYocG9zKSB7XG4gICAgICAgICAgICAgICAgTlNJTktBX01hcC52YXJzLnVzZXJHZW9Qb3NpdGlvbi5iYWNrZ3JvdW5kLnNldFBvc2l0aW9uKHBvcyk7XG4gICAgICAgICAgICAgICAgTlNJTktBX01hcC52YXJzLnVzZXJHZW9Qb3NpdGlvbi5hcnJvdy5zZXRQb3NpdGlvbihwb3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihjb21wYXNzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGljb24gPSBOU0lOS0FfTWFwLnZhcnMudXNlckdlb1Bvc2l0aW9uLmFycm93LmdldEljb24oKVxuICAgICAgICAgICAgICAgIGljb24ucm90YXRpb24gPSBjb21wYXNzLTE4MDtcbiAgICAgICAgICAgICAgICBpY29uLmZpbGxPcGFjaXR5ID0gMTtcbiAgICAgICAgICAgICAgICBOU0lOS0FfTWFwLnZhcnMudXNlckdlb1Bvc2l0aW9uLmFycm93LnNldEljb24oaWNvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9uIGNvbXBhc3MgY2hhbmdlXG4gICAgICAgIGlmICh3aW5kb3cuRGV2aWNlT3JpZW50YXRpb25FdmVudCkge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgZnVuY3Rpb24oZXZlbnREYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBhc3NkaXI7XG4gICAgICAgICAgICAgICAgaWYoZXZlbnQud2Via2l0Q29tcGFzc0hlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFzc2RpciA9IGV2ZW50LndlYmtpdENvbXBhc3NIZWFkaW5nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBhc3NkaXIgPSBldmVudC5hbHBoYTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTlNJTktBX01hcC52YXJzLnVzZXJHZW9Qb3NpdGlvbi5zZXRQb3NpdGlvbihudWxsLCBjb21wYXNzZGlyKTtcbiAgICAgICAgICAgICAgICAkKHdpbmRvdykudHJpZ2dlcignY29tcGFzc0hlYWRpbmcnLCBjb21wYXNzZGlyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbih0aGlzLnNldFVzZXJMb2NhdGlvbiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdubyBsb2NhdGlvbicpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBvbiBwb3NpdGlvbiBjaGFuZ2VcbiAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24odGhpcy5zZXRVc2VyTG9jYXRpb24pO1xuXG5cbiAgICB9LFxuICAgIGdldFVzZXJMb2NhdGlvbjogZnVuY3Rpb24oZm5BZnRlcikge1xuICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZuQWZ0ZXIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm5BZnRlcihmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBzZXRVc2VyTG9jYXRpb246IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICBOU0lOS0FfTWFwLnZhcnMudXNlckdlb1Bvc2l0aW9uLmxhdExuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcocG9zLmNvb3Jkcy5sYXRpdHVkZSwgcG9zLmNvb3Jkcy5sb25naXR1ZGUpO1xuICAgICAgICBOU0lOS0FfTWFwLnZhcnMudXNlckdlb1Bvc2l0aW9uLnNldFBvc2l0aW9uKE5TSU5LQV9NYXAudmFycy51c2VyR2VvUG9zaXRpb24ubGF0TG5nKTtcbiAgICB9LFxuICAgIGdlblJvdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHpvb20gPSBOU0lOS0FfTWFwLnZhcnMubWFwLmdldFpvb20oKTtcbiAgICAgICAgaWYoTlNJTktBX01hcC52YXJzLmRpcmVjdGlvbnNEaXNwbGF5KXtcbiAgICAgICAgICAgIC8vTlNJTktBX01hcC52YXJzLmRpcmVjdGlvbnNTZXJ2aWNlLnNldE1hcChudWxsKTtcbiAgICAgICAgICAgIE5TSU5LQV9NYXAudmFycy5kaXJlY3Rpb25zRGlzcGxheS5zZXRNYXAobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBOU0lOS0FfTWFwLnZhcnMuZGlyZWN0aW9uc0Rpc3BsYXkgPSBuZXcgZ29vZ2xlLm1hcHMuRGlyZWN0aW9uc1JlbmRlcmVyKHtcbiAgICAgICAgICAgIHBvbHlsaW5lT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiBcIiMwMDAwMDBcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHByZXNzTWFya2VyczogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBOU0lOS0FfTWFwLnZhcnMuZGlyZWN0aW9uc0Rpc3BsYXkuc2V0TWFwKE5TSU5LQV9NYXAudmFycy5tYXApO1xuXG4gICAgICAgIHZhciB3YXlwb2ludHNfYWN0aXZlID0gW10sXG4gICAgICAgICAgICB3YXlwb2ludHNfaW5hY3RpdmUgPSBbXTtcblxuICAgICAgICAkLmVhY2goJC5leHRlbmQodHJ1ZSwge30sIE5TSU5LQV9NYXAudmFycy53YXlwb2ludHMpLCBmdW5jdGlvbihpLCB3YXlwb2ludCkge1xuICAgICAgICAgICAgaWYodHlwZW9mIHdheXBvaW50LmluYWN0aXZlICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgaWYod2F5cG9pbnQuaW5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2F5cG9pbnRzX2luYWN0aXZlLnB1c2god2F5cG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2F5cG9pbnRzX2FjdGl2ZS5wdXNoKHdheXBvaW50KTtcbiAgICAgICAgfSlcblxuICAgICAgICB2YXIgYWN0aXZlX2xlbmd0aCA9IE9iamVjdC5rZXlzKHdheXBvaW50c19hY3RpdmUpLmxlbmd0aDtcblxuXG4gICAgICAgIGlmKGFjdGl2ZV9sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IE5TSU5LQV9NYXAudmFycy51c2VyR2VvUG9zaXRpb24ubGF0TG5nID9cbiAgICAgICAgICAgICAgICAgICAgICAgIE5TSU5LQV9NYXAudmFycy51c2VyR2VvUG9zaXRpb24ubGF0TG5nIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBnb29nbGUubWFwcy5MYXRMbmcod2F5cG9pbnRzX2FjdGl2ZVswXS5sb2NhdGlvbiksXG4gICAgICAgICAgICAgICAgICAgIGVuZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHdheXBvaW50c19hY3RpdmVbYWN0aXZlX2xlbmd0aC0xXS5sb2NhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgO1xuXG5cbiAgICAgICAgICAgICAgICB0aGlzLnZhcnMuZGlyZWN0aW9uc1NlcnZpY2Uucm91dGUoe1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW46IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogZW5kLFxuICAgICAgICAgICAgICAgICAgICB3YXlwb2ludHM6ICQubWFwKCQuZXh0ZW5kKHRydWUsIHt9LCB3YXlwb2ludHNfYWN0aXZlKSwgZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24gOiB3YXlwb2ludC5sb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIG9wdGltaXplV2F5cG9pbnRzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0cmF2ZWxNb2RlOiBnb29nbGUubWFwcy5UcmF2ZWxNb2RlLldBTEtJTkdcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSwgc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IGdvb2dsZS5tYXBzLkRpcmVjdGlvbnNTdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE5TSU5LQV9NYXAudmFycy5kaXJlY3Rpb25zRGlzcGxheS5zZXREaXJlY3Rpb25zKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGVzY3JpYmVkX3dheXBvaW50cyA9ICQubWFwKHJlc3BvbnNlLmdlb2NvZGVkX3dheXBvaW50cywgZnVuY3Rpb24od2F5cG9pbnQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih3YXlwb2ludCwgd2F5cG9pbnRzX2FjdGl2ZVtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uuc3lzdGVtX3dheXBvaW50cyA9IE5TSU5LQV9NYXAudmFycy53YXlwb2ludHM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQod2luZG93KS50cmlnZ2VyKCdyb3V0ZUhhc0JlZW5DYWxjdWxhdGVkJywgcmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goTlNJTktBX01hcC52YXJzLm1hcmtlcnMud2F5cG9pbnRzLCBmdW5jdGlvbihpLCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXRNYXAobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlZyA9IHJlc3BvbnNlLnJvdXRlc1sgMCBdLmxlZ3NbIDAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByID0gNTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQWN0aXZlIG1hcmtlcnMgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZWdzID0gcmVzcG9uc2Uucm91dGVzWyAwIF0ubGVncztcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaCh3YXlwb2ludHNfYWN0aXZlLCBmdW5jdGlvbihpLCBtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmlmKGkgPT0gKGxlZ3MubGVuZ3RoLTEpIHx8ICFpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ki9cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKG1hcmtlci5sb2NhdGlvbi5sYXQsIG1hcmtlci5sb2NhdGlvbi5sbmcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXA6IE5TSU5LQV9NYXAudmFycy5tYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICdNLScrKHIpKycsMGEnKyhyKSsnLCcrKHIpKycgMCAxLDAgJysocioyKSsnLDBhJysocikrJywnKyhyKSsnIDAgMSwwIC0nKyhyKjIpKycsMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjZjZhZTk1JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMCwwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdlaWdodDogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbWFya2VyLm5zaW5rYURhdGEgPSB3YXlwb2ludHNfYWN0aXZlW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTlNJTktBX01hcC52YXJzLm1hcmtlcnMud2F5cG9pbnRzLnB1c2goX21hcmtlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTlNJTktBX01hcC5tYXJrZXJXaW5kb3coX21hcmtlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5TSU5LQV9NYXAudmFycy5tYXAuc2V0Wm9vbSgxMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hbGVydCgnRGlyZWN0aW9ucyByZXF1ZXN0IGZhaWxlZCBkdWUgdG8gJyArIHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgICAgIC8qIEluYWN0aXZlIG1hcmtlcnMgKi9cbiAgICAgICAgJC5lYWNoKCQuZXh0ZW5kKHRydWUsIHt9LCB3YXlwb2ludHNfaW5hY3RpdmUpLCBmdW5jdGlvbihpLCBtYXJrZXIpIHtcbiAgICAgICAgICAgIHZhciByID0gNTtcblxuICAgICAgICAgICAgdmFyIF9tYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhtYXJrZXIubG9jYXRpb24pLFxuICAgICAgICAgICAgICAgIGljb246IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogJ00tJysocikrJywwYScrKHIpKycsJysocikrJyAwIDEsMCAnKyhyKjIpKycsMGEnKyhyKSsnLCcrKHIpKycgMCAxLDAgLScrKHIqMikrJywwJyxcbiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAuNSxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMCwwKSxcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2VpZ2h0OiAwLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgX21hcmtlci5uc2lua2FEYXRhID0gbWFya2VyO1xuXG4gICAgICAgICAgICBOU0lOS0FfTWFwLm1hcmtlcldpbmRvdyhfbWFya2VyKTtcblxuICAgICAgICAgICAgTlNJTktBX01hcC52YXJzLm1hcmtlcnMud2F5cG9pbnRzX2luYWN0aXZlLnB1c2goX21hcmtlcik7XG5cbiAgICAgICAgICAgIF9tYXJrZXIuc2V0TWFwKE5TSU5LQV9NYXAudmFycy5tYXApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmKCFPYmplY3Qua2V5cyh3YXlwb2ludHNfYWN0aXZlKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ3JvdXRlSGFzQmVlbkNhbGN1bGF0ZWQnLCB7fSk7XG4gICAgICAgICAgICB9LCAxMDAwKVxuICAgICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVFcnJvcjogZnVuY3Rpb24oYnJvd3Nlckhhc0dlb2xvY2F0aW9uLCBwb3MpIHtcbiAgICAgICAgTlNJTktBX01hcC52YXJzLmluZm9XaW5kb3cuc2V0UG9zaXRpb24ocG9zKTtcbiAgICAgICAgTlNJTktBX01hcC52YXJzLmluZm9XaW5kb3cuc2V0Q29udGVudChicm93c2VySGFzR2VvbG9jYXRpb24gP1xuICAgICAgICAnRXJyb3I6IFRoZSBHZW9sb2NhdGlvbiBzZXJ2aWNlIGZhaWxlZC4nIDpcbiAgICAgICAgJ0Vycm9yOiBZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgZ2VvbG9jYXRpb24uJyk7XG4gICAgfSxcbiAgICBtYXJrZXJXaW5kb3c6IGZ1bmN0aW9uKG1hcmtlcikge1xuICAgICAgICBtYXJrZXIuYWRkTGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHdpbiA9ICQoTlNJTktBX0dsb2JhbC50bXBsKCdtYXBXaW5kb3cnLCBtYXJrZXIubnNpbmthRGF0YSkpO1xuXG4gICAgICAgICAgICBOU0lOS0FfTWFwLnZhcnMubWFwLnBhblRvKG1hcmtlci5nZXRQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyT25jZShOU0lOS0FfTWFwLnZhcnMubWFwLCAnaWRsZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJCgnI3BsYWNlaG9sZGVyJykuYXBwZW5kKCR3aW4pO1xuICAgICAgICAgICAgICAgIHNldFBvcygkd2luKTtcblxuICAgICAgICAgICAgICAgICR3aW5bMF0uZXZlbnRfZHJhZyA9IE5TSU5LQV9NYXAudmFycy5tYXAuYWRkTGlzdGVuZXIoJ2JvdW5kc19jaGFuZ2VkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICR3aW4udHJpZ2dlcignY2xvc2UnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICR3aW5bMF0uZXZlbnRfem9vbSA9IE5TSU5LQV9NYXAudmFycy5tYXAuYWRkTGlzdGVuZXIoJ3pvb21fY2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkd2luLnRyaWdnZXIoJ2Nsb3NlJylcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICQuZWFjaChOU0lOS0FfTWFwLnZhcnMubWFya2Vycy53aW5kb3dzLCBmdW5jdGlvbihpLCB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgTlNJTktBX01hcC52YXJzLm1hcmtlcnMud2luZG93cy50cmlnZ2VyKCdjbG9zZScpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgTlNJTktBX01hcC52YXJzLm1hcmtlcnMud2luZG93cyA9ICR3aW47XG5cbiAgICAgICAgICAgICAgICAkd2luLmZpbmQoJy5jbG9zZScpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkd2luLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vaW5mb3dpbmRvdy5vcGVuKE5TSU5LQV9NYXAudmFycy5tYXAsIG1hcmtlcik7XG5cblxuICAgICAgICAgICAgICAgICR3aW4ub24oJ2Nsb3NlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHRoaXMuZXZlbnRfZHJhZyk7XG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHRoaXMuZXZlbnRfem9vbSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG5cblxuXG5cbiAgICAgICAgfSk7XG5cblxuICAgICAgICBmdW5jdGlvbiBzZXRQb3MoJGVsZW0pIHtcbiAgICAgICAgICAgIHZhciBnbWFwID0gTlNJTktBX01hcC52YXJzLm1hcDtcbiAgICAgICAgICAgIHZhciB0b3BSaWdodD1nbWFwLmdldFByb2plY3Rpb24oKS5mcm9tTGF0TG5nVG9Qb2ludChnbWFwLmdldEJvdW5kcygpLmdldE5vcnRoRWFzdCAoKSk7XG4gICAgICAgICAgICB2YXIgYm90dG9tTGVmdD1nbWFwLmdldFByb2plY3Rpb24oKS5mcm9tTGF0TG5nVG9Qb2ludChnbWFwLmdldEJvdW5kcygpLmdldFNvdXRoV2VzdCgpKTtcbiAgICAgICAgICAgIHZhciBzY2FsZT1NYXRoLnBvdygyLGdtYXAuZ2V0Wm9vbSgpKTtcbiAgICAgICAgICAgIHZhciB3b3JsZFBvaW50PWdtYXAuZ2V0UHJvamVjdGlvbigpLmZyb21MYXRMbmdUb1BvaW50KG1hcmtlci5nZXRQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBnb29nbGUubWFwcy5Qb2ludCgod29ybGRQb2ludC54LWJvdHRvbUxlZnQueCkqc2NhbGUsKHdvcmxkUG9pbnQueS10b3BSaWdodC55KSpzY2FsZSk7XG5cbiAgICAgICAgICAgICRlbGVtLmNzcyh7XG4gICAgICAgICAgICAgICAgbGVmdDooIHBvaW50LnggLSAkZWxlbS53aWR0aCgpLzIpLFxuICAgICAgICAgICAgICAgIHRvcDoocG9pbnQueSAtICRlbGVtLmhlaWdodCgpIC0gMzApXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgfSxcbiAgICBzdGFydERpcmVjdGlvbnM6IGZ1bmN0aW9uKCkge1xuXG5cblxuICAgIH1cbn1cblxuZnVuY3Rpb24gTlNJTktBX2dNYXAoKSB7XG4gICAgTlNJTktBX01hcC5pbml0KCk7XG59XG4iLCIvKipcbiogRGVzY3JpcHRpb24gZm9yIE5TSU5LQV9MYXllcnNcbiogQHByaXZhdGVcbiogQHByb3BlcnR5IE5TSU5LQV9MYXllcnNcbiovXG52YXIgTlNJTktBX1NwZWNpZmljcyA9IHtcbiAgICB2YXJzOiB7XG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgTlNJTktBX1NwZWNpZmljcy5zcGVjaWZpY3MuZGVza3RvcC5tYXBMYXlvdXQgPSBOU0lOS0FfU3BlY2lmaWNzLnNwZWNpZmljcy50YWJsZXQubWFwTGF5b3V0O1xuXG4gICAgICAgICQod2luZG93KS5vbignc21hcnRwaG9uZS1hY3Rpb25zIHRhYmxldC1hY3Rpb25zIGRlc2t0b3AtYWN0aW9ucycsIHRoaXMuYWN0aW9ucy5hdHRhY2gpO1xuICAgIH0sXG4gICAgYWN0aW9uczoge1xuICAgICAgICBhdHRhY2g6IGZ1bmN0aW9uKGUpIHtcblxuICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBOU0lOS0FfU3BlY2lmaWNzLnNwZWNpZmljcy5zbWFydHBob25lKSxcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gT2JqZWN0LmFzc2lnbihhY3Rpb25zLCBOU0lOS0FfU3BlY2lmaWNzLnNwZWNpZmljcy50YWJsZXQpLFxuICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBPYmplY3QuYXNzaWduKGFjdGlvbnMsIE5TSU5LQV9TcGVjaWZpY3Muc3BlY2lmaWNzLmRlc2t0b3ApO1xuXG4gICAgICAgICAgICAkLmVhY2goYWN0aW9ucywgZnVuY3Rpb24oaSwgYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgTlNJTktBX1NwZWNpZmljcy5hY3Rpb25zLnJlbW92ZShhY3Rpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkLmVhY2goTlNJTktBX1NwZWNpZmljcy5zcGVjaWZpY3NbZS50eXBlLnJlcGxhY2UoLy1hY3Rpb25zJC8sJycpXSwgZnVuY3Rpb24oaSwgYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgJC5lYWNoKGFjdGlvbi5hY3Rpb24uc3BsaXQoJywnKSwgZnVuY3Rpb24oaSwgX2FjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24uJGVsZW0ub24oX2FjdGlvbiwgYWN0aW9uLmZuKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhY3Rpb24uJGVsZW0udHJpZ2dlcignX25vdycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgICAkLmVhY2goYWN0aW9uLmFjdGlvbi5zcGxpdCgnLCcpLCBmdW5jdGlvbihpLCBfYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLiRlbGVtLm9mZihhY3Rpb24uYWN0aW9uLCBhY3Rpb24uZm4pO1xuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBhY3Rpb24uZm5PblJlbW92ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5mbk9uUmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgIH0sXG4gICAgc3BlY2lmaWNzOiB7XG4gICAgICAgIHNtYXJ0cGhvbmU6IHtcblxuICAgICAgICB9LFxuICAgICAgICB0YWJsZXQ6IHtcbiAgICAgICAgICAgIG1hcExheW91dDoge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogU2V0IG1hcCBsYXlvdXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAkZWxlbSA6ICQod2luZG93KSxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdyZXNpemUsX25vdycsXG4gICAgICAgICAgICAgICAgZm4gOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRxdWlja2xpbmtzID0gJCgnI3F1aWNrbGlua3MnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRwYXJlbnQgPSAkcXVpY2tsaW5rcy5wYXJlbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRtYXAgPSAkKCcjbWFwJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAkZm9vdGVyID0gJCgnI2Zvb3RlcicpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgbmV3IFJlc2l6ZVNlbnNvcigkcXVpY2tsaW5rc1swXSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbWFwLnRyaWdnZXIoJ19yZXNpemUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJG1hcC5vbignX3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJG1hcC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJCh3aW5kb3cpLmhlaWdodCgpLSRwYXJlbnQub2Zmc2V0KCkudG9wLSRxdWlja2xpbmtzLmhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRmb290ZXIuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICQod2luZG93KS5oZWlnaHQoKS0kcGFyZW50Lm9mZnNldCgpLnRvcC0kcXVpY2tsaW5rcy5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KS50cmlnZ2VyKCdfcmVzaXplJyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmbk9uUmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRxdWlja2xpbmtzID0gJCgnI3F1aWNrbGlua3MnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRtYXAgPSAkKCcjbWFwJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAkZm9vdGVyID0gJCgnI2Zvb3RlcicpO1xuXG4gICAgICAgICAgICAgICAgICAgIG5ldyBSZXNpemVTZW5zb3IuZGV0YWNoKCRxdWlja2xpbmtzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgJG1hcC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnJ1xuICAgICAgICAgICAgICAgICAgICB9KS5vZmYoJ19yZXNpemUnKTtcbiAgICAgICAgICAgICAgICAgICAgJGZvb3Rlci5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSkub2ZmKCdfcmVzaXplJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXNrdG9wOiB7XG4gICAgICAgIH0sXG4gICAgfVxufVxuIiwidmFyIE5TSU5LQV9DaHJvbmljbGUgPSB7XG4gICAgdmFyczoge1xuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIE5TSU5LQV9DaHJvbmljbGUudmVyc2lvbnMudGFibGV0LmlzSW5pdGVkID0gZmFsc2U7XG4gICAgICAgICQod2luZG93KS5vbigncmVzaXplX19jaHJvbmljbGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmKE5TSU5LQV9HbG9iYWwuaXNfc21hcnRwaG9uZSgpKSB7XG4gICAgICAgICAgICAgICAgTlNJTktBX0Nocm9uaWNsZS52ZXJzaW9ucy5tb2JpbGUuaW5pdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBOU0lOS0FfQ2hyb25pY2xlLnZlcnNpb25zLnRhYmxldC5pbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRyaWdnZXIoJ3Jlc2l6ZV9fY2hyb25pY2xlJyk7XG4gICAgfSxcbiAgICB2ZXJzaW9uczoge1xuICAgICAgICBtb2JpbGU6IHtcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJzLmluaXQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYXllcnM6IHtcbiAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICRoYW5kbGUgPSAkKCcuY2hyb25pY2xlLS1nbG9iYWw+LmNocm9uaWNsZV9faGFuZGxlJykuZmlyc3QoKTtcblxuICAgICAgICAgICAgICAgICAgICAkaGFuZGxlWzBdLiRsYXllciA9ICRoYW5kbGUuY2xvc2VzdCgnYXJ0aWNsZScpO1xuICAgICAgICAgICAgICAgICAgICAkaGFuZGxlWzBdLiRsYXllckNvbnRlbnQgPSAkaGFuZGxlWzBdLiRsYXllci5maW5kKCcuYXJ0aWNsZS1jb250ZW50LXdyYXBwZXInKTtcblxuICAgICAgICAgICAgICAgICAgICAkaGFuZGxlWzBdLm1pbldpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgJGhhbmRsZVswXS5tYXhXaWR0aCA9ICRoYW5kbGVbMF0uJGxheWVyWzBdLm9mZnNldFdpZHRoLSRoYW5kbGVbMF0ub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICRoYW5kbGVbMF0ub3BlbmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICRoYW5kbGVbMF0udG91Y2hzdGFydFdpZHRoID0gJGhhbmRsZVswXS5tYXhXaWR0aDtcblxuICAgICAgICAgICAgICAgICAgICAkaGFuZGxlWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLmV2ZW50SGFuZGxlci50b3VjaHN0YXJ0LCB7IHBhc3NpdmUgOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAkaGFuZGxlWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuZXZlbnRIYW5kbGVyLnRvdWNobW92ZSwgeyBwYXNzaXZlIDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgJGhhbmRsZVswXS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuZXZlbnRIYW5kbGVyLnRvdWNoZW5kLCB7IHBhc3NpdmUgOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAkaGFuZGxlWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5ldmVudEhhbmRsZXIudG91Y2hlbmQsIHsgcGFzc2l2ZSA6IHRydWUgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIU5TSU5LQV9HbG9iYWwuaXNfbW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRoYW5kbGVbMF0uaXNNb3VzZURvd24gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKFsnbW91c2Vkb3duJywgJ21vdXNlbW92ZScsICdtb3VzZXVwJ10sIGZ1bmN0aW9uKGksIGV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRoYW5kbGVbMF0uYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIF90aGlzLmV2ZW50SGFuZGxlci50b3VjaFNpbXVsYXRpb24sIHsgcGFzc2l2ZSA6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdtb3VzZXVwJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBldmVudEhhbmRsZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2hzdGFydDogZnVuY3Rpb24oZSwgcHJldmVudFRoaXNQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXhIZWlnaHQgPSAkKHRoaXMpLmNsb3Nlc3QoJ2FydGljbGUnKS53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihwcmV2ZW50VGhpc1Byb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCd0b3VjaHN0YXJ0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBlLmRldGFpbCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBlLmRldGFpbC5jaGFuZ2VkVG91Y2hlcyAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmNoYW5nZWRUb3VjaGVzID0gZS5kZXRhaWwuY2hhbmdlZFRvdWNoZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZDbGllbnRYID0gdGhpcy50b3VjaHN0YXJ0UG9zaXRpb25YID0gKGUuY2hhbmdlZFRvdWNoZXMgPyAoZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLXRoaXMuJGxheWVyLm9mZnNldCgpLmxlZnQpIDogMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdWNoc3RhcnRXaWR0aCA9ICQodGhpcykud2lkdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXN0YW5jZSA9IDEuMTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndG91Y2hzdGFydFBvc2l0aW9uWCcsIHRoaXMudG91Y2hzdGFydFBvc2l0aW9uWCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5vcGVuZWQ/LTE6MTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMub3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHRoaXMud2hpbGVPcGVuQ2xvc2UsIGZ1bmN0aW9uKGksICRpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtLnRyaWdnZXIoJ2Nsb3NlTGF5ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b3VjaG1vdmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCd0b3VjaHN0YXJ0JykuYWRkQ2xhc3MoJ3RvdWNobW92ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgZS5kZXRhaWwgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgZS5kZXRhaWwuY2hhbmdlZFRvdWNoZXMgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jaGFuZ2VkVG91Y2hlcyA9IGUuZGV0YWlsLmNoYW5nZWRUb3VjaGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDbGllbnRYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGMgPSBjdXJyZW50Q2xpZW50WC0odGhpcy50b3VjaHN0YXJ0UG9zaXRpb25YKjIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGMgPSB0aGlzLnRvdWNoc3RhcnRXaWR0aCtjYWxjO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NhbGMgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMucHJldkNsaWVudFggPiBjdXJyZW50Q2xpZW50WCA/IC0xIDogMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uICE9IHRoaXMucHJldkRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGlyZWN0aW9uLCB0aGlzLnByZXZEaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLiRsYXllci5hdHRyKCdpbnZlcnRUb3VjaCcpID09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb24qLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsYyA9IChjYWxjLXRoaXMudG91Y2hzdGFydFdpZHRoKSotMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldFBvc2l0aW9uID0gdGhpcy5kaXJlY3Rpb24gPT09IDEgPyB0aGlzLm1heFdpZHRoIDogdGhpcy5taW5XaWR0aDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuZGlyZWN0aW9uID09PSAxICYmIGNhbGMgPj0gdGhpcy5tYXhXaWR0aCApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuZGlyZWN0aW9uID09PSAtMSAmJiBjYWxjIDw9IHRoaXMubWluV2lkdGggKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRsYXllci5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgY2FsYyArICdweCknXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpc3RhbmNlID0gdGhpcy5yZXNpc3RhbmNlKi4xO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2Q2xpZW50WCA9IGN1cnJlbnRDbGllbnRYO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoZW5kOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2UucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmRpcmVjdGlvbiAhPSB0aGlzLnByZXZEaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZEaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9Ki9cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2RGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRsYXllci5yZW1vdmVDbGFzcygndG91Y2hzdGFydCcpLnJlbW92ZUNsYXNzKCd0b3VjaG1vdmUnKS5hZGRDbGFzcygndG91Y2hlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG91Y2hzdGFydFBvc2l0aW9uWCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbGF5ZXIucGFyZW50KCkudHJpZ2dlcignbGF5ZXItb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmFsV2lkdGggPSB0aGlzLm1heFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRsYXllckNvbnRlbnQudHJpZ2dlcignbW92ZVRyYW5zaXRpb25TdGF0dXMnLCAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRsYXllci5wYXJlbnQoKS50cmlnZ2VyKCdsYXllci1jbG9zZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmluYWxXaWR0aCA9IHRoaXMubWluV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRsYXllckNvbnRlbnQudHJpZ2dlcignbW92ZVRyYW5zaXRpb25TdGF0dXMnLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRsYXllci5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgZmluYWxXaWR0aCArICdweCknXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5vbmUodHJhbnNpdGlvbkVuZFRyaWdnZXIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ3RvdWNoZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoX3RoaXMub3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ2xheWVyQ2hhbmdlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQod2luZG93KS50cmlnZ2VyKCdsYXllckNoYW5nZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoU2ltdWxhdGlvbjogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlLnR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1vdXNlZG93blwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwidG91Y2hzdGFydFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibW91c2Vtb3ZlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNNb3VzZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBcInRvdWNobW92ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtb3VzZXVwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwidG91Y2hlbmRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcyA9PSB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jdXJyZW50VG91Y2hlZEVsZW0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3RvdWNoZW5kJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kKHdpbmRvdy5jdXJyZW50VG91Y2hlZEVsZW0pLnRyaWdnZXIoJ3RvdWNoZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmN1cnJlbnRUb3VjaGVkRWxlbSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpbXVsYXRlZEV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vOiAnZGV2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkVG91Y2hlczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRYIDogZS5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFkgOiBlLmNsaWVudFlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbXVsYXRlZEV2ZW50LnRlc3QgPSAndGVzdCc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoc2ltdWxhdGVkRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGFibGV0OiB7XG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZighdGhpcy5pc0luaXRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzSW5pdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVwYXJlRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFN5bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYW5nZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmVwYXJlRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnLmNocm9uaWNsZV9fbGlzdCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkY2hyb25pY2xlTGlzdCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnZHQnLCB0aGlzKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZGQgPSAkdGhpcy5uZXh0KCdkZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNZZWFyID0gJCh0aGlzKS50ZXh0KCkqMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVt0aGlzWWVhcl0gPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJGRkLmZpbmQoJy5jaHJvbmljbGVfX2xpc3RfX21vbnRoJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzTW9udGggPSAkdGhpcy5kYXRhKCdtb250aCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzVGVhc2VyID0gJHRoaXMuZGF0YSgndGVhc2VyJykgfHwgKCR0aGlzLnRleHQoKS5zdWJzdHIoMCwgMjAwKSsnIOKApicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIGRhdGFbdGhpc1llYXJdW3RoaXNNb250aF0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVt0aGlzWWVhcl1bdGhpc01vbnRoXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbdGhpc1llYXJdW3RoaXNNb250aF0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlYXNlciA6IHRoaXNUZWFzZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgOiAkdGhpcy5odG1sKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAxOyBpIDw9IDEyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJG1vbnRoRGl2ID0gJCgnPGRpdiBjbGFzcz1cImNocm9uaWNsZV9fbGlzdF9fbW9udGggY2hyb25pY2xlX19saXN0X19tb250aC0tdGlueVwiPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkZC5hcHBlbmQoJG1vbnRoRGl2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZGF0YVt0aGlzWWVhcl1baV0sIGZ1bmN0aW9uKGksIGVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRkb3QgPSAkKCc8ZGl2IGNsYXNzPVwiY2hyb25pY2xlX19saXN0X19tb250aF9fZG90XCI+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtb250aERpdi5hcHBlbmQoJGRvdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjcm9sbFN5bmM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJy5jaHJvbmljbGVfX2NvbnRhaW5lcicpLnNjcm9sbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRhcnRpY2xlID0gJHRoaXMuY2xvc2VzdCgnLmNvbnRlbnQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb250YWluZXJzID0gJGFydGljbGUuZmluZCgnLmNocm9uaWNsZV9fY29udGFpbmVyJykubm90KCR0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICAkY29udGFpbmVycy5zY3JvbGxMZWZ0KCR0aGlzLnNjcm9sbExlZnQoKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmFuZ2U6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgJCgnaW5wdXRbdHlwZT1cInJhbmdlXCJdJykucmFuZ2VzbGlkZXIoe1xuICAgICAgICAgICAgICAgICAgICBwb2x5ZmlsbDogZmFsc2UsXG5cbiAgICAgICAgICAgICAgICAgICAgLy9oYW5kbGVDbGFzczogJ2Nocm9uaWNsZV9fcmFuZ2VzbGlkZXJfX2hhbmRsZSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ=="
    ],
    "docstrings": [
        "* Description for GO_Global\n* @private\n* @property GO_Global",
        "* Description for init\n    * @private\n    * @method init\n    * @return {Object} description",
        "* Description for is_mobile\n    * @private\n    * @method is_mobile\n    * @return {Object} description",
        "* Description for tmpl\n    * @private\n    * @method tmpl\n    * @param {Object} id (required)\n    * @param {Object} data (default: null)\n    * @return {Object} jQuery elements",
        "* Description for NSINKA_Actions\n* @private\n* @property NSINKA_Actions",
        "* Description for NSINKA_Actions\n* @private\n* @property NSINKA_Actions",
        "* Description for NSINKA_Layers\n* @private\n* @property NSINKA_Layers",
        "* Description for NSINKA_Map\n* @private\n* @property NSINKA_Map",
        "* Description for NSINKA_Layers\n* @private\n* @property NSINKA_Layers",
        "* Set map layout"
    ],
    "functions": [
        "calcDuration",
        "showWaypoints",
        "setPos",
        "NSINKA_gMap"
    ],
    "classes": []
}