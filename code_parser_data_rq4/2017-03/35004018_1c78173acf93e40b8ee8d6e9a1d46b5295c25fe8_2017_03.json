{
    "identifiers": [
        "sklearn",
        "metrics",
        "classification_report",
        "sklearn",
        "tree",
        "DecisionTreeClassifier",
        "sklearn",
        "ensemble",
        "RandomForestClassifier",
        "gensim",
        "matutils",
        "scipy",
        "sparse",
        "vstack",
        "pickle",
        "os",
        "numpy",
        "np",
        "collections",
        "Counter",
        "pandas",
        "pd",
        "matplotlib",
        "pyplot",
        "plt",
        "json",
        "os",
        "path",
        "join",
        "exists",
        "random",
        "sample",
        "experiments",
        "_65_linkedarticles",
        "extractors",
        "LdaFeatureExtractor",
        "tw_dataset",
        "settings",
        "DATAFRAMES_FOLDER",
        "DATASETS_FOLDER",
        "tw_dataset",
        "dbmodels",
        "multiprocessing",
        "Pool",
        "Manager",
        "Process",
        "log_to_stderr",
        "Lock",
        "logging",
        "random",
        "sample",
        "scipy",
        "sparse",
        "csc",
        "csc_matrix",
        "scipy",
        "sparse",
        "sp",
        "math",
        "ceil",
        "time",
        "time",
        "log_to_stderr",
        "mpl",
        "setLevel",
        "logging",
        "ERROR",
        "json",
        "load",
        "open",
        "tu_path",
        "open",
        "f",
        "json",
        "load",
        "f",
        "f1s",
        "items",
        "sorted",
        "f1s",
        "key",
        "u",
        "f",
        "f",
        "f1s",
        "exists",
        "open",
        "f",
        "json",
        "load",
        "f",
        "f1s",
        "items",
        "u",
        "r",
        "u",
        "r",
        "ur",
        "r",
        "threshold",
        "u",
        "r",
        "u",
        "r",
        "ur",
        "r",
        "threshold",
        "r",
        "low_ur",
        "sample",
        "high_ur",
        "sorted",
        "res",
        "key",
        "u",
        "r",
        "r",
        "open",
        "f",
        "json",
        "dump",
        "res",
        "f",
        "open",
        "f",
        "json",
        "load",
        "f",
        "res",
        "uids",
        "uid",
        "uids",
        "uid",
        "load_validation_dataframe",
        "uid",
        "open",
        "uid",
        "f",
        "json",
        "dump",
        "X_train",
        "index",
        "f",
        "open",
        "uid",
        "f",
        "json",
        "dump",
        "X_valid",
        "index",
        "f",
        "open",
        "uid",
        "f",
        "json",
        "dump",
        "X_test",
        "index",
        "f",
        "uid",
        "open",
        "uid",
        "f",
        "json",
        "load",
        "f",
        "open",
        "uid",
        "f",
        "json",
        "load",
        "f",
        "open",
        "uid",
        "f",
        "json",
        "load",
        "f",
        "X_train_inds",
        "X_valid_inds",
        "X_test_inds",
        "X",
        "y",
        "neg_to_pos_rate",
        "sum",
        "y",
        "i",
        "i",
        "len",
        "y",
        "y",
        "i",
        "i",
        "i",
        "len",
        "y",
        "y",
        "i",
        "sample",
        "neg_inds",
        "npos",
        "neg_to_pos_rate",
        "pos_inds",
        "sample_neg_inds",
        "X",
        "iloc",
        "inds",
        "y",
        "inds",
        "Xs",
        "ys",
        "X",
        "X",
        "shape",
        "np",
        "zeros",
        "n_features",
        "np",
        "zeros",
        "n_features",
        "np",
        "mean",
        "X",
        "axis",
        "np",
        "std",
        "X",
        "axis",
        "epsilon",
        "theta_",
        "sigma_",
        "X",
        "X",
        "shape",
        "_calculate_mean_and_std_deviation",
        "X",
        "np",
        "zeros",
        "shape",
        "n_samples",
        "n_features",
        "dtype",
        "np",
        "float32",
        "X",
        "theta_",
        "sigma_",
        "new_X",
        "X_train",
        "X_test",
        "X_train",
        "shape",
        "vstack",
        "X_train",
        "X_test",
        "_normalize",
        "X",
        "X",
        "train_size",
        "X",
        "train_size",
        "X_train",
        "X_test",
        "uid",
        "USER_ID",
        "small",
        "small",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "os",
        "path",
        "exists",
        "Xtrain_fname",
        "pd",
        "read_pickle",
        "Xtrain_fname",
        "pd",
        "read_pickle",
        "Xtest_fname",
        "pickle",
        "load",
        "open",
        "ys_fname",
        "e",
        "X_train",
        "X_test",
        "y_train",
        "y_test",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "pd",
        "read_pickle",
        "Xtrain_fname",
        "pd",
        "read_pickle",
        "Xvalid_fname",
        "pd",
        "read_pickle",
        "Xtest_fname",
        "pickle",
        "load",
        "open",
        "ys_fname",
        "X_train",
        "X_valid",
        "X_test",
        "y_train",
        "y_valid",
        "y_test",
        "uid",
        "train_size",
        "uid",
        "train_size",
        "fname",
        "train_size",
        "join",
        "DATASETS_FOLDER",
        "fname",
        "np",
        "load",
        "open",
        "fname",
        "z",
        "z",
        "z",
        "z",
        "csc",
        "csc_matrix",
        "X_train_lda",
        "tolist",
        "csc",
        "csc_matrix",
        "X_test_lda",
        "tolist",
        "X_train_lda",
        "X_test_lda",
        "y_train",
        "y_test",
        "uid",
        "neg_to_pos_rate",
        "neg_to_pos_rate",
        "uid",
        "join",
        "DATASETS_FOLDER",
        "fname",
        "np",
        "load",
        "open",
        "fname",
        "z",
        "z",
        "z",
        "z",
        "csc",
        "csc_matrix",
        "X_train_lda",
        "tolist",
        "csc",
        "csc_matrix",
        "X_test_lda",
        "tolist",
        "X_train_lda",
        "X_test_lda",
        "y_train",
        "y_test",
        "X_train",
        "X_test",
        "y_train",
        "y_test",
        "train_size",
        "y_train",
        "y_test",
        "len",
        "X_train",
        "train_size",
        "X_train",
        "sample",
        "train_size",
        "train_size",
        "X_test",
        "sample",
        "test_size",
        "X_train",
        "X_test",
        "X_train",
        "X_test",
        "y_train",
        "y_test",
        "dataset",
        "fname",
        "dataset",
        "np",
        "savez",
        "open",
        "fname",
        "X_train",
        "X_test",
        "y_train",
        "y_test",
        "uid",
        "join",
        "DATASETS_FOLDER",
        "uid",
        "np",
        "load",
        "open",
        "fname",
        "z",
        "item",
        "z",
        "item",
        "z",
        "item",
        "X_train",
        "shape",
        "X_valid",
        "shape",
        "X_test",
        "shape",
        "max",
        "cols_train",
        "cols_valid",
        "cols_test",
        "cols_train",
        "maxcols",
        "csc_matrix",
        "X_train",
        "shape",
        "maxcols",
        "cols_train",
        "dtype",
        "np",
        "float64",
        "sp",
        "hstack",
        "X_train",
        "missing_cols",
        "cols_valid",
        "maxcols",
        "csc_matrix",
        "X_valid",
        "shape",
        "maxcols",
        "cols_valid",
        "dtype",
        "np",
        "float64",
        "sp",
        "hstack",
        "X_valid",
        "missing_cols",
        "cols_test",
        "maxcols",
        "csc_matrix",
        "X_test",
        "shape",
        "maxcols",
        "cols_test",
        "dtype",
        "np",
        "float64",
        "sp",
        "hstack",
        "X_test",
        "missing_cols",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "pickle",
        "load",
        "open",
        "ys_fname",
        "X_train",
        "X_valid",
        "X_test",
        "y_train",
        "y_valid",
        "y_test",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "join",
        "DATAFRAMES_FOLDER",
        "uid",
        "pd",
        "read_pickle",
        "Xtrain_fname",
        "pd",
        "read_pickle",
        "Xvalid_fname",
        "pd",
        "read_pickle",
        "Xtest_fname",
        "pickle",
        "load",
        "open",
        "ys_fname",
        "X_train",
        "X_valid",
        "X_test",
        "y_train",
        "y_valid",
        "y_test",
        "its",
        "rows_array",
        "counter",
        "n",
        "LdaFeatureExtractor",
        "PREFIX",
        "n_topics",
        "i",
        "t",
        "its",
        "extractor",
        "get_features",
        "text",
        "t",
        "text",
        "acquire",
        "feats",
        "counter",
        "value",
        "i",
        "counter",
        "value",
        "sofar",
        "n",
        "perc",
        "release",
        "load_nlp_selected_users",
        "uid",
        "r",
        "f1s",
        "uid",
        "join",
        "DATASETS_FOLDER",
        "uid",
        "exists",
        "fname",
        "fname",
        "uid",
        "r",
        "open_session",
        "load_small_validation_dataframe",
        "uid",
        "X_train",
        "index",
        "X_valid",
        "index",
        "X_test",
        "index",
        "len",
        "X_train_inds",
        "len",
        "X_valid_inds",
        "len",
        "X_test_inds",
        "s",
        "query",
        "Tweet",
        "get",
        "twid",
        "twid",
        "X_train_inds",
        "s",
        "query",
        "Tweet",
        "get",
        "twid",
        "twid",
        "X_valid_inds",
        "s",
        "query",
        "Tweet",
        "get",
        "twid",
        "twid",
        "X_test_inds",
        "Manager",
        "manager",
        "len",
        "train_tweets",
        "manager",
        "len",
        "valid_tweets",
        "manager",
        "len",
        "test_tweets",
        "manager",
        "Lock",
        "manager",
        "Value",
        "len",
        "rows_train",
        "len",
        "rows_valid",
        "len",
        "rows_test",
        "Pool",
        "NWORKERS",
        "time",
        "train_tweets",
        "ceil",
        "len",
        "train_tweets",
        "NWORKERS",
        "i",
        "NWORKERS",
        "enumtweets",
        "i",
        "batch_size",
        "i",
        "batch_size",
        "p",
        "apply_async",
        "worker",
        "its",
        "rows_train",
        "counter",
        "n",
        "valid_tweets",
        "ceil",
        "len",
        "valid_tweets",
        "NWORKERS",
        "i",
        "NWORKERS",
        "enumtweets",
        "i",
        "batch_size",
        "i",
        "batch_size",
        "p",
        "apply_async",
        "worker",
        "its",
        "rows_valid",
        "counter",
        "n",
        "test_tweets",
        "ceil",
        "len",
        "test_tweets",
        "NWORKERS",
        "i",
        "NWORKERS",
        "enumtweets",
        "i",
        "batch_size",
        "i",
        "batch_size",
        "p",
        "apply_async",
        "worker",
        "its",
        "rows_test",
        "counter",
        "n",
        "p",
        "close",
        "p",
        "join",
        "time",
        "start",
        "t",
        "n",
        "t",
        "n",
        "rows",
        "i",
        "r",
        "rows",
        "j",
        "d",
        "r",
        "row_ind",
        "append",
        "i",
        "col_ind",
        "append",
        "j",
        "data",
        "append",
        "d",
        "csc_matrix",
        "data",
        "row_ind",
        "col_ind",
        "rows_to_csc",
        "rows_train",
        "rows_to_csc",
        "rows_valid",
        "rows_to_csc",
        "rows_test",
        "np",
        "savez",
        "open",
        "fname",
        "X_train_lda",
        "X_valid_lda",
        "X_test_lda"
    ],
    "literals": [
        "'/home/pablo/Proyectos/cogfor/repo/data/es'",
        "\"/home/pablo/Proyectos/tesiscomp/experiments/_1_one_user_learn_neighbours/active_and_central.json\"",
        "'../_1_one_user_learn_neighbours/f1s_valid_svc.json'",
        "'nlp_users.json'",
        "'../_1_one_user_learn_neighbours/f1s_valid_svc.json'",
        "'nlp_users.json'",
        "'w'",
        "'nlp_users.json'",
        "'xinds/X_train_inds_%d.json'",
        "'w'",
        "'xinds/X_valid_inds_%d.json'",
        "'w'",
        "'xinds/X_test_inds_%d.json'",
        "'w'",
        "'xinds/X_train_inds_%d.json'",
        "'xinds/X_valid_inds_%d.json'",
        "'xinds/X_test_inds_%d.json'",
        "\"dfXtrain_small_%d.pickle\"",
        "\"dfXtest_small_%d.pickle\"",
        "\"ys_small_%d.pickle\"",
        "\"dfXtrain_%d.pickle\"",
        "\"dfXtest_%d.pickle\"",
        "\"ys_%d.pickle\"",
        "'rb'",
        "\"dfXtrain_%d.pickle\"",
        "\"dfXvalid_%d.pickle\"",
        "\"dfXtestv_%d.pickle\"",
        "\"ysv_%d.pickle\"",
        "'rb'",
        "'ldads_%d'",
        "'_tr%d'",
        "'%s.npz'",
        "'rb'",
        "'arr_0'",
        "'arr_1'",
        "'arr_2'",
        "'arr_3'",
        "'ldads_small%d_%d'",
        "'%s.npz'",
        "'rb'",
        "'arr_0'",
        "'arr_1'",
        "'arr_2'",
        "'arr_3'",
        "'y'",
        "'y'",
        "'y'",
        "'y'",
        "'wb'",
        "'es_ldads_%d.npz'",
        "'rb'",
        "'arr_0'",
        "'arr_1'",
        "'arr_2'",
        "\"ysv_%d_small.pickle\"",
        "'rb'",
        "\"dfXtrain_%d_small.pickle\"",
        "\"dfXvalid_%d_small.pickle\"",
        "\"dfXtestv_%d_small.pickle\"",
        "\"ysv_%d_small.pickle\"",
        "'rb'",
        "'__main__'",
        "\"%.2f %% so far\"",
        "'es_lda100ds_%d.npz'",
        "\"%s already exists\"",
        "\"Processing %d ( f1 %.2f %%)\"",
        "\"Loading %d train, %d validation and %d test tweets\"",
        "\"i\"",
        "\"Extracting features\"",
        "\"Took %.2f secs to process %d tweets\"",
        "\"%.3f sec per tweet\"",
        "'wb'"
    ],
    "variables": [
        "mpl",
        "PREFIX",
        "tu_path",
        "TEST_USERS_ALL",
        "USER_ID",
        "f1s",
        "f1s",
        "f1s",
        "f1s",
        "ur",
        "threshold",
        "low_ur",
        "high_ur",
        "res",
        "res",
        "res",
        "X_train",
        "X_valid",
        "X_test",
        "y_train",
        "y_valid",
        "y_test",
        "X_train_inds",
        "X_valid_inds",
        "X_test_inds",
        "npos",
        "neg_inds",
        "pos_inds",
        "sample_neg_inds",
        "inds",
        "Xs",
        "ys",
        "_",
        "n_features",
        "theta_",
        "sigma_",
        "epsilon",
        "theta_",
        "sigma_",
        "n_samples",
        "n_features",
        "theta_",
        "sigma_",
        "new_X",
        "new_X",
        "train_size",
        "X",
        "X",
        "X_train",
        "X_test",
        "Xtrain_fname",
        "Xtest_fname",
        "ys_fname",
        "Xtrain_fname",
        "Xtest_fname",
        "ys_fname",
        "exists",
        "X_train",
        "X_test",
        "y_train",
        "y_test",
        "exists",
        "Xtrain_fname",
        "Xvalid_fname",
        "Xtest_fname",
        "ys_fname",
        "X_train",
        "X_valid",
        "X_test",
        "y_train",
        "y_valid",
        "y_test",
        "fname",
        "fname",
        "z",
        "X_train_lda",
        "X_test_lda",
        "y_train",
        "y_test",
        "X_train_lda",
        "X_test_lda",
        "fname",
        "fname",
        "z",
        "X_train_lda",
        "X_test_lda",
        "y_train",
        "y_test",
        "X_train_lda",
        "X_test_lda",
        "X_train",
        "X_test",
        "X_train",
        "test_size",
        "X_test",
        "y_train",
        "y_test",
        "X_train",
        "X_test",
        "y_train",
        "y_test",
        "fname",
        "z",
        "X_train",
        "X_valid",
        "X_test",
        "cols_train",
        "cols_valid",
        "cols_test",
        "maxcols",
        "missing_cols",
        "X_train",
        "missing_cols",
        "X_valid",
        "missing_cols",
        "X_test",
        "ys_fname",
        "y_train",
        "y_valid",
        "y_test",
        "Xtrain_fname",
        "Xvalid_fname",
        "Xtest_fname",
        "ys_fname",
        "X_train",
        "X_valid",
        "X_test",
        "y_train",
        "y_valid",
        "y_test",
        "extractor",
        "feats",
        "rows_array",
        "i",
        "sofar",
        "perc",
        "f1s",
        "start",
        "uid",
        "fname",
        "s",
        "X_train",
        "X_valid",
        "X_test",
        "y_train",
        "y_valid",
        "y_test",
        "X_train_inds",
        "X_valid_inds",
        "X_test_inds",
        "train_tweets",
        "valid_tweets",
        "test_tweets",
        "manager",
        "rows_train",
        "rows_valid",
        "rows_test",
        "counter",
        "n",
        "NWORKERS",
        "p",
        "start",
        "enumtweets",
        "batch_size",
        "its",
        "enumtweets",
        "batch_size",
        "its",
        "enumtweets",
        "batch_size",
        "its",
        "t",
        "data",
        "row_ind",
        "col_ind",
        "X_train_lda",
        "X_valid_lda",
        "X_test_lda"
    ],
    "comments": [
        "!/usr/bin/env python",
        "-*- coding: utf-8 -*-",
        "from __future__ import print_function",
        "Nos quedamos con los de valid f1 < 75% ( es un proceso pesado )",
        "we add a sample of the rest",
        "Extract features",
        "X_train = csc.csc_matrix(X_train.tolist())",
        "X_valid = csc.csc_matrix(X_train.tolist())",
        "X_test = csc.csc_matrix(X_test.tolist())",
        "f1s = load_all_f1s()",
        "for uid, r in f1s[:10]:",
        "for uid in [74153376, 1622441]:",
        "print \"Processing %d \" % uid",
        "X_train_inds, X_valid_inds, X_test_inds = load_ds_inds(uid)",
        "X_train_inds = X_train_inds[:10]",
        "X_valid_inds = X_valid_inds[:10]",
        "X_test_inds = X_test_inds[:10]"
    ],
    "docstrings": [
        "\"\"\"\n    Calculates mean and standard deviation of sample features.\n\n    Parameters\n    ----------\n    X : array-like, samples, shape = (n_samples, n_features)\n    \"\"\"",
        "\"\"\"\n    Normalizes sample features.\n\n    self.theta_ and self.sigma_ have to be set.\n\n    Parameters\n    ----------\n    X : array-like, samples, shape = (n_samples, n_features)\n    \"\"\""
    ],
    "functions": [
        "load_all_f1s",
        "load_nlp_selected_users",
        "extract_ds_inds",
        "load_ds_inds",
        "sub_sample_negs_df",
        "_calculate_mean_and_std_deviation",
        "_normalize",
        "normalize",
        "load_dataframe",
        "load_validation_dataframe",
        "load_lda_dataset_big",
        "load_lda_dataset_small",
        "sample_dataset",
        "save_dataset",
        "load_lda_dataset",
        "load_small_validation_dataframe",
        "worker",
        "rows_to_csc"
    ],
    "classes": []
}