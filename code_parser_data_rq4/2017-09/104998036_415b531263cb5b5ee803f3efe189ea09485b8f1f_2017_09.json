{
    "identifiers": [
        "IO",
        "Net",
        "Net",
        "Http",
        "Threading",
        "Tasks",
        "Microsoft",
        "Azure",
        "WebJobs",
        "Host",
        "Microsoft",
        "WindowsAzure",
        "Storage",
        "Blob",
        "Newtonsoft",
        "Json",
        "SixLabors",
        "Fonts",
        "SixLabors",
        "ImageSharp",
        "SixLabors",
        "ImageSharp",
        "Drawing",
        "SixLabors",
        "Primitives",
        "CustomerFeedback",
        "HttpResponseMessage",
        "HttpRequestMessage",
        "req",
        "CloudBlockBlob",
        "inputCoupon",
        "CloudBlockBlob",
        "outputBlob",
        "TraceWriter",
        "log",
        "req",
        "Content",
        "ReadAsStringAsync",
        "Result",
        "JsonConvert",
        "DeserializeObject",
        "json",
        "data",
        "CustomerName",
        "log",
        "Info",
        "name",
        "Random",
        "_rdm",
        "Next",
        "MemoryStream",
        "MemoryStream",
        "inputCoupon",
        "DownloadToStreamAsync",
        "inputMemoryStream",
        "inputMemoryStream",
        "Position",
        "WriteWatermark",
        "name",
        "randomCode",
        "inputMemoryStream",
        "outputMemoryStream",
        "log",
        "outputMemoryStream",
        "Position",
        "outputBlob",
        "UploadFromStreamAsync",
        "outputMemoryStream",
        "outputBlob",
        "Properties",
        "ContentType",
        "outputBlob",
        "SetPropertiesAsync",
        "HttpResponseMessage",
        "StatusCode",
        "HttpStatusCode",
        "OK",
        "Content",
        "StringContent",
        "JsonConvert",
        "SerializeObject",
        "CouponUrl",
        "GetBlobSasUri",
        "outputBlob",
        "watermarkContent",
        "Stream",
        "originalImage",
        "Stream",
        "newImage",
        "TraceWriter",
        "log",
        "log",
        "Info",
        "Image",
        "Load",
        "originalImage",
        "inputImage",
        "Width",
        "inputImage",
        "Height",
        "log",
        "Info",
        "SystemFonts",
        "CreateFont",
        "TextMeasurer",
        "Measure",
        "watermarkContent",
        "RendererOptions",
        "font",
        "Min",
        "inputImage",
        "Width",
        "size",
        "Width",
        "inputImage",
        "Height",
        "size",
        "Height",
        "Font",
        "font",
        "scalingFactor",
        "font",
        "Size",
        "PointF",
        "inputImage",
        "Width",
        "inputImage",
        "Height",
        "log",
        "Info",
        "inputImage",
        "Mutate",
        "i",
        "DrawText",
        "watermarkContent",
        "scaledFont",
        "Rgba32",
        "Black",
        "center",
        "TextGraphicsOptions",
        "HorizontalAlignment",
        "HorizontalAlignment",
        "Center",
        "VerticalAlignment",
        "VerticalAlignment",
        "Center",
        "log",
        "Info",
        "inputImage",
        "SaveAsJpeg",
        "newImage",
        "CloudBlockBlob",
        "blob",
        "SharedAccessBlobPolicy",
        "sasConstraints",
        "SharedAccessStartTime",
        "UtcNow",
        "AddMinutes",
        "sasConstraints",
        "SharedAccessExpiryTime",
        "UtcNow",
        "AddHours",
        "sasConstraints",
        "Permissions",
        "SharedAccessBlobPermissions",
        "Read",
        "blob",
        "GetSharedAccessSignature",
        "sasConstraints",
        "blob",
        "Uri",
        "sasBlobToken"
    ],
    "literals": [
        "\"Received coupon request for: \"",
        "\"25% off voucher\\n\"",
        "\"\\n\"",
        "\"image/jpeg\"",
        "\"Reading image\"",
        "\"Creating font\"",
        "\"Arial\"",
        "\"Writing watermark\"",
        "\"Writing to the output stream\""
    ],
    "variables": [
        "json",
        "dynamic",
        "data",
        "name",
        "Random",
        "_rdm",
        "randomCode",
        "Stream",
        "inputMemoryStream",
        "Stream",
        "outputMemoryStream",
        "inputImage",
        "targetWidth",
        "targetHeight",
        "Font",
        "font",
        "SizeF",
        "size",
        "scalingFactor",
        "Font",
        "scaledFont",
        "center",
        "SharedAccessBlobPolicy",
        "sasConstraints",
        "sasBlobToken"
    ],
    "comments": [
        "Get request body",
        "Set name to body data",
        "Generate Coupon Id",
        "Get Coupon image and write new coupon",
        "Get the coupon image",
        "Write the text",
        "Write to blob",
        "Return",
        "Create font",
        "Measure the text size",
        "Find out how much we need to scale the text to fill the space (up or down)",
        "Create a new font",
        "Set the expiry time and permissions for the blob.",
        "In this case the start time is specified as a few minutes in the past, to mitigate clock skew.",
        "The shared access signature will be valid immediately.",
        "Generate the shared access signature on the blob, setting the constraints directly on the signature.",
        "Return the URI string for the container, including the SAS token."
    ],
    "docstrings": [],
    "functions": [
        "Run",
        "WriteWatermark",
        "GetBlobSasUri"
    ],
    "classes": [
        "GenerateCoupon"
    ]
}