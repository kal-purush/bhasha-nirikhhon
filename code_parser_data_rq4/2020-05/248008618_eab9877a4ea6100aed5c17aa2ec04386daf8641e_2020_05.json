{
    "identifiers": [
        "sys",
        "os",
        "path",
        "sqlite3",
        "dbapi2",
        "sqlite",
        "line",
        "line",
        "split",
        "line",
        "line",
        "line",
        "line",
        "cur",
        "timezoneid",
        "cur",
        "execute",
        "sql",
        "timezoneid",
        "gmtoffset",
        "dstoffset",
        "rawoffset",
        "timezoneid",
        "staticmethod",
        "os",
        "path",
        "exists",
        "os",
        "system",
        "url",
        "staticmethod",
        "open",
        "f",
        "read",
        "f",
        "close",
        "lines",
        "split",
        "lines",
        "line",
        "lines",
        "ret",
        "append",
        "TimeZone",
        "line",
        "ret",
        "line",
        "line",
        "split",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "cur",
        "iso",
        "cur",
        "execute",
        "sql",
        "iso",
        "iso3",
        "iso_numeric",
        "fips",
        "country",
        "capital",
        "area",
        "population",
        "continent",
        "tld",
        "currencycode",
        "currencyname",
        "phone",
        "postalcodeformat",
        "postalcoderegex",
        "languages",
        "geonameid",
        "neighbours",
        "equivalentfipscode",
        "staticmethod",
        "os",
        "path",
        "exists",
        "os",
        "system",
        "url",
        "staticmethod",
        "open",
        "f",
        "read",
        "f",
        "close",
        "lines",
        "split",
        "lines",
        "lines",
        "i",
        "IndexError",
        "ret",
        "line",
        "startswith",
        "ret",
        "append",
        "CountryInfo",
        "line",
        "i",
        "line",
        "line",
        "strip",
        "line",
        "split",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "words",
        "cur",
        "cur",
        "execute",
        "sql",
        "geonameid",
        "name",
        "asciiname",
        "alternatenames",
        "latitude",
        "longitude",
        "feature_class",
        "feature_code",
        "country_code",
        "cc2",
        "admin1_code",
        "admin2_code",
        "admin3_code",
        "admin4_code",
        "population",
        "elevation",
        "dem",
        "timezone",
        "modification_date",
        "staticmethod",
        "ctycode",
        "os",
        "path",
        "exists",
        "ctycode",
        "os",
        "path",
        "exists",
        "ctycode",
        "os",
        "system",
        "ctycode",
        "os",
        "system",
        "ctycode",
        "staticmethod",
        "ctycode",
        "ctycode",
        "open",
        "path",
        "f",
        "read",
        "f",
        "close",
        "lines",
        "split",
        "lines",
        "ctycode",
        "l",
        "lines",
        "GeoName",
        "l",
        "name",
        "feature_class",
        "ret",
        "append",
        "name",
        "l",
        "lines",
        "ret",
        "append",
        "GeoName",
        "l",
        "ret",
        "staticmethod",
        "cur",
        "code",
        "code",
        "cur",
        "execute",
        "sql",
        "code",
        "cur",
        "execute",
        "sql",
        "cur",
        "fetchone",
        "sqlite",
        "connect",
        "isolation_level",
        "cnx",
        "cursor",
        "cur",
        "cur",
        "TimeZone",
        "downloadFile",
        "cur",
        "execute",
        "tzschema",
        "TimeZone",
        "parseFile",
        "cur",
        "execute",
        "z",
        "zones",
        "z",
        "insert",
        "cur",
        "cur",
        "execute",
        "cur",
        "CountryInfo",
        "downloadFile",
        "cur",
        "execute",
        "ctyschema",
        "CountryInfo",
        "parseFile",
        "cur",
        "execute",
        "c",
        "cties",
        "c",
        "insert",
        "cur",
        "cur",
        "execute",
        "cur",
        "ctycode",
        "ctycode",
        "GeoName",
        "downloadFile",
        "ctycode",
        "GeoName",
        "parseFile",
        "ctycode",
        "cur",
        "execute",
        "l",
        "loc",
        "l",
        "insert",
        "cur",
        "cur",
        "execute",
        "cur",
        "os",
        "chdir",
        "_workdir",
        "os",
        "path",
        "exists",
        "os",
        "mkdir",
        "os",
        "path",
        "exists",
        "os",
        "mkdir",
        "os",
        "path",
        "exists",
        "_workdir",
        "sys",
        "exit",
        "connectdb",
        "makeTimeZones",
        "cur",
        "makeCountries",
        "cur",
        "cur",
        "execute",
        "citiesschema",
        "code",
        "allcodes",
        "makeCountry",
        "cur",
        "code",
        "main"
    ],
    "literals": [
        "'/tmp'",
        "'AD'",
        "'AE'",
        "'AF'",
        "'AG'",
        "'AI'",
        "'AL'",
        "'AM'",
        "'AN'",
        "'AO'",
        "'AQ'",
        "'AR'",
        "'AS'",
        "'AT'",
        "'AU'",
        "'AW'",
        "'AZ'",
        "'BA'",
        "'BB'",
        "'BD'",
        "'BE'",
        "'BF'",
        "'BG'",
        "'BH'",
        "'BI'",
        "'BJ'",
        "'BL'",
        "'BM'",
        "'BN'",
        "'BO'",
        "'BQ'",
        "'BR'",
        "'BS'",
        "'BT'",
        "'BV'",
        "'BW'",
        "'BY'",
        "'BZ'",
        "'CA'",
        "'CC'",
        "'CD'",
        "'CF'",
        "'CG'",
        "'CH'",
        "'CI'",
        "'CK'",
        "'CL'",
        "'CM'",
        "'CN'",
        "'CO'",
        "'CR'",
        "'CS'",
        "'CU'",
        "'CV'",
        "'CW'",
        "'CX'",
        "'CY'",
        "'CZ'",
        "'DE'",
        "'DJ'",
        "'DK'",
        "'DM'",
        "'DO'",
        "'DZ'",
        "'EC'",
        "'EE'",
        "'EG'",
        "'EH'",
        "'ER'",
        "'ES'",
        "'ET'",
        "'FI'",
        "'FJ'",
        "'FK'",
        "'FM'",
        "'FO'",
        "'FR'",
        "'GA'",
        "'GB'",
        "'GD'",
        "'GE'",
        "'GF'",
        "'GG'",
        "'GH'",
        "'GI'",
        "'GL'",
        "'GM'",
        "'GN'",
        "'GP'",
        "'GQ'",
        "'GR'",
        "'GS'",
        "'GT'",
        "'GU'",
        "'GW'",
        "'GY'",
        "'HK'",
        "'HM'",
        "'HN'",
        "'HR'",
        "'HT'",
        "'HU'",
        "'ID'",
        "'IE'",
        "'IL'",
        "'IM'",
        "'IN'",
        "'IO'",
        "'IQ'",
        "'IR'",
        "'IS'",
        "'IT'",
        "'JE'",
        "'JM'",
        "'JO'",
        "'JP'",
        "'KE'",
        "'KG'",
        "'KH'",
        "'KI'",
        "'KM'",
        "'KN'",
        "'KP'",
        "'KR'",
        "'KW'",
        "'KY'",
        "'KZ'",
        "'LA'",
        "'LB'",
        "'LC'",
        "'LI'",
        "'LK'",
        "'LR'",
        "'LS'",
        "'LT'",
        "'LU'",
        "'LV'",
        "'LY'",
        "'MA'",
        "'MC'",
        "'MD'",
        "'ME'",
        "'MF'",
        "'MG'",
        "'MH'",
        "'MK'",
        "'ML'",
        "'MM'",
        "'MN'",
        "'MO'",
        "'MP'",
        "'MQ'",
        "'MR'",
        "'MS'",
        "'MT'",
        "'MU'",
        "'MV'",
        "'MW'",
        "'MX'",
        "'MY'",
        "'MZ'",
        "'NA'",
        "'NC'",
        "'NE'",
        "'NF'",
        "'NG'",
        "'NI'",
        "'NL'",
        "'NO'",
        "'NP'",
        "'NR'",
        "'NU'",
        "'NZ'",
        "'OM'",
        "'PA'",
        "'PE'",
        "'PF'",
        "'PG'",
        "'PH'",
        "'PK'",
        "'PL'",
        "'PM'",
        "'PN'",
        "'PR'",
        "'PS'",
        "'PT'",
        "'PW'",
        "'PY'",
        "'QA'",
        "'RE'",
        "'RO'",
        "'RS'",
        "'RU'",
        "'RW'",
        "'SA'",
        "'SB'",
        "'SC'",
        "'SD'",
        "'SE'",
        "'SG'",
        "'SH'",
        "'SI'",
        "'SJ'",
        "'SK'",
        "'SL'",
        "'SM'",
        "'SN'",
        "'SO'",
        "'SR'",
        "'ST'",
        "'SV'",
        "'SX'",
        "'SY'",
        "'SZ'",
        "'TC'",
        "'TD'",
        "'TF'",
        "'TG'",
        "'TH'",
        "'TJ'",
        "'TK'",
        "'TL'",
        "'TM'",
        "'TN'",
        "'TO'",
        "'TR'",
        "'TT'",
        "'TV'",
        "'TW'",
        "'TZ'",
        "'UA'",
        "'UG'",
        "'UM'",
        "'US'",
        "'UY'",
        "'UZ'",
        "'VA'",
        "'VC'",
        "'VE'",
        "'VG'",
        "'VI'",
        "'VN'",
        "'VU'",
        "'WF'",
        "'WS'",
        "'XK'",
        "'YE'",
        "'YT'",
        "'ZA'",
        "'ZM'",
        "'ZW'",
        "'\\t'",
        "\"... timezone [%s]\"",
        "'ERR='",
        "'http://download.geonames.org/export/dump/timeZones.txt'",
        "'in/timeZones.txt'",
        "'cd in && wget %s'",
        "'in/timeZones.txt'",
        "'r'",
        "'\\n'",
        "'\\t'",
        "\"... country [%s]\"",
        "'http://download.geonames.org/export/dump/countryInfo.txt'",
        "'in/countryInfo.txt'",
        "'cd in && wget %s'",
        "'in/countryInfo.txt'",
        "'r'",
        "'\\n'",
        "'#'",
        "'\\t'",
        "'in/%s.txt'",
        "'in/%s.zip'",
        "'cd in && wget http://download.geonames.org/export/dump/%s.zip'",
        "'cd in && unzip -o %s.zip'",
        "'in/%s.txt'",
        "'r'",
        "'\\n'",
        "'AN'",
        "'BV'",
        "'CS'",
        "'HM'",
        "'P'",
        "\"SELECT count(_idx) FROM GeoNames WHERE country_code = ?;\"",
        "\"SELECT count(_idx) FROM GeoNames;\"",
        "'out/atlas.db'",
        "'... making timezones table'",
        "'begin;'",
        "'end;'",
        "'... making countries table'",
        "'begin;'",
        "'end;'",
        "'... adding locations [%s]'",
        "'begin;'",
        "'end;'",
        "'in'",
        "'in'",
        "'out'",
        "'out'",
        "'out/atlas.db'",
        "'error: file %s/out/atlas.db exists'",
        "'... making cities table'",
        "'__main__'"
    ],
    "variables": [
        "_workdir",
        "allcodes",
        "tzschema",
        "line",
        "timezoneid",
        "gmtoffset",
        "dstoffset",
        "rawoffset",
        "sql",
        "url",
        "f",
        "lines",
        "lines",
        "lines",
        "ret",
        "ctyschema",
        "words",
        "iso",
        "iso3",
        "iso_numeric",
        "fips",
        "country",
        "capital",
        "area",
        "population",
        "continent",
        "tld",
        "currencycode",
        "currencyname",
        "phone",
        "postalcodeformat",
        "postalcoderegex",
        "languages",
        "geonameid",
        "neighbours",
        "equivalentfipscode",
        "sql",
        "url",
        "f",
        "lines",
        "lines",
        "lines",
        "i",
        "ret",
        "line",
        "citiesschema",
        "words",
        "geonameid",
        "name",
        "asciiname",
        "alternatenames",
        "latitude",
        "longitude",
        "feature_class",
        "feature_code",
        "country_code",
        "cc2",
        "admin1_code",
        "admin2_code",
        "admin3_code",
        "admin4_code",
        "population",
        "elevation",
        "dem",
        "timezone",
        "modification_date",
        "sql",
        "path",
        "f",
        "lines",
        "lines",
        "lines",
        "ret",
        "name",
        "sql",
        "sql",
        "cnx",
        "cur",
        "zones",
        "cties",
        "loc",
        "cur"
    ],
    "comments": [
        "!/usr/bin/env python3",
        "-*- coding: utf-8 -*-",
        "CONFIGURATION",
        "where everything happens (empty writable directory)",
        "country codes",
        "this list must be up to date with geonames ftp",
        "END CONFIG",
        "Timezones",
        "timezoneid is not unique",
        "print(line)",
        "countries",
        "",
        "cities",
        "print(self.name)",
        "those have no P",
        "print('# Creating name index...')",
        "sql = \"CREATE INDEX GeoName_index_name ON GeoNames ( name );\"",
        "cur.execute( sql )",
        "print('# Creating asciiname index...')",
        "sql = \"CREATE INDEX GeoName_index_asciiname ON GeoNames ( asciiname );\"",
        "cur.execute( sql )",
        "print('# Creating alternatenames index...')",
        "sql = \"CREATE INDEX GeoName_index_alternatenames ON GeoNames ( alternatenames );\"",
        "cur.execute( sql )",
        "print('# Creating country_code index...')",
        "sql = \"CREATE INDEX GeoName_index_country_code ON GeoNames ( country_code );\"",
        "cur.execute( sql )",
        "os.system('rm -f in/%s.txt' % code)",
        "createIndexes( cur )",
        "tot = 0",
        "print('... counting:')",
        "for code in allcodes:",
        "cnt = GeoName.count(cur, code)",
        "print(\"++ [%s]: %d\" % (code, cnt))",
        "tot += cnt",
        "print('# Total count = %d' % tot)",
        "vi: set sw=4 ts=4 et"
    ],
    "docstrings": [
        "\"\"\"Script used to build the geonames atlas into an sqlite database.\n\nWorks best on linuxes, for now.\n\n\"\"\"",
        "\"\"\"\nCREATE TABLE Timezones\n(\n    _idx integer primary key,\n    timezoneid varchar not null,\n    gmtoffset numeric not null,\n    dstoffset numeric not null,\n    rawoffset numeric not null\n);\n\"\"\"",
        "\"\"\"INSERT INTO Timezones (timezoneid, gmtoffset, dstoffset,\n            rawoffset) VALUES ( ?,?,?,? );\"\"\"",
        "\"\"\"\nCREATE TABLE CountryInfo\n(\n    _idx integer primary key,\n    iso varchar unique,\n    iso3 varchar,\n    iso_numeric integer,\n    fips varchar,\n    country varchar,\n    capital varchar,\n    area varchar,\n    population varchar,\n    continent varchar,\n    tld varchar,\n    currencycode varchar,\n    currencyname varchar,\n    phone varchar,\n    postalcodeformat varchar,\n    postalcoderegex varchar,\n    languages varchar,\n    geonameid integer,\n    neighbours varchar,\n    equivalentfipscode varchar\n);\n\"\"\"",
        "'''INSERT INTO CountryInfo ( iso, iso3, iso_numeric, fips, country,\n            capital, area, population, continent, tld, currencycode, currencyname,\n            phone, postalcodeformat, postalcoderegex, languages, geonameid,\n            neighbours, equivalentfipscode ) VALUES ( ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,? );'''",
        "\"\"\"\nCREATE TABLE GeoNames\n(\n    _idx integer primary key,\n    geonameid integer,\n    name varchar,\n    asciiname varchar,\n    alternatenames varchar,\n    latitude numeric,\n    longitude numeric,\n    feature_class varchar,\n    feature_code varchar,\n    country_code varchar,\n    cc2 varchar,\n    admin1_code varchar,\n    admin2_code varchar,\n    admin3_code varchar,\n    admin4_code varchar,\n    population integer,\n    elevation integer,\n    dem integer,\n    timezone varchar,\n    modification_date varchar\n);\n\"\"\"",
        "\"\"\"INSERT INTO GeoNames (geonameid,name,asciiname,alternatenames,\n            latitude,longitude,feature_class,feature_code,country_code,cc2,\n            admin1_code,admin2_code,admin3_code,admin4_code,population,\n            elevation,dem,timezone,modification_date)\n            VALUES ( ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,? );\"\"\""
    ],
    "functions": [
        "insert",
        "downloadFile",
        "parseFile",
        "insert",
        "downloadFile",
        "parseFile",
        "insert",
        "downloadFile",
        "parseFile",
        "count",
        "connectdb",
        "makeTimeZones",
        "makeCountries",
        "makeCountry",
        "createIndexes",
        "main"
    ],
    "classes": [
        "TimeZone",
        "CountryInfo",
        "GeoName"
    ]
}