{
    "identifiers": [
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "org",
        "terracotta",
        "diagnostic",
        "model",
        "LogicalServerState",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "model",
        "Cluster",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "model",
        "NodeContext",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "model",
        "OptionalConfig",
        "org",
        "terracotta",
        "nomad",
        "client",
        "recovery",
        "RecoveryProcessDecider",
        "org",
        "terracotta",
        "nomad",
        "client",
        "results",
        "DiscoverResultsReceiver",
        "org",
        "terracotta",
        "nomad",
        "messages",
        "ChangeDetails",
        "org",
        "terracotta",
        "nomad",
        "messages",
        "DiscoverResponse",
        "org",
        "terracotta",
        "nomad",
        "server",
        "NomadServerMode",
        "java",
        "net",
        "InetSocketAddress",
        "java",
        "util",
        "Collection",
        "java",
        "util",
        "LinkedHashMap",
        "java",
        "util",
        "java",
        "util",
        "Objects",
        "java",
        "util",
        "Optional",
        "java",
        "util",
        "UUID",
        "java",
        "util",
        "Predicate",
        "java",
        "util",
        "stream",
        "Collector",
        "java",
        "util",
        "stream",
        "Collectors",
        "java",
        "lang",
        "format",
        "java",
        "util",
        "stream",
        "Collectors",
        "toMap",
        "org",
        "terracotta",
        "diagnostic",
        "model",
        "LogicalServerState",
        "STARTING",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "ConfigurationConsistencyState",
        "ALL_ACCEPTING",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "ConfigurationConsistencyState",
        "ALL_PREPARED",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "ConfigurationConsistencyState",
        "CHANGE_IN_PROGRESS",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "ConfigurationConsistencyState",
        "DISCOVERY_FAILURE",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "ConfigurationConsistencyState",
        "INCONSISTENT",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "ConfigurationConsistencyState",
        "ONLINE_ACCEPTING",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "ConfigurationConsistencyState",
        "ONLINE_PREPARED",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "ConfigurationConsistencyState",
        "PARTIALLY_COMMITTED",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "ConfigurationConsistencyState",
        "PARTIALLY_PREPARED",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "ConfigurationConsistencyState",
        "PARTIALLY_ROLLED_BACK",
        "org",
        "terracotta",
        "dynamic_config",
        "api",
        "service",
        "ConfigurationConsistencyState",
        "PARTITIONED",
        "responses",
        "allNodes",
        "recoveryProcessDecider",
        "discoverFailure",
        "discoveredConfigInconsistent",
        "discoveredOtherClient",
        "inconsistentChangeUuid",
        "committedNodes",
        "rolledBackNodes",
        "discoveredConfigPartitioned",
        "partitions",
        "nodeProcessingOtherClient",
        "otherClientHost",
        "otherClientUser",
        "allNodes",
        "allNodes",
        "allNodes",
        "responses",
        "allNodes",
        "size",
        "recoveryProcessDecider",
        "allNodes",
        "size",
        "Override",
        "nodeAddress",
        "discovery",
        "recoveryProcessDecider",
        "discovered",
        "nodeAddress",
        "discovery",
        "responses",
        "put",
        "nodeAddress",
        "discovery",
        "Override",
        "server",
        "reason",
        "recoveryProcessDecider",
        "discoverFail",
        "server",
        "reason",
        "discoverFailure",
        "reason",
        "Override",
        "changeUuid",
        "committedServers",
        "rolledBackServers",
        "recoveryProcessDecider",
        "discoverConfigInconsistent",
        "changeUuid",
        "committedServers",
        "rolledBackServers",
        "inconsistentChangeUuid",
        "changeUuid",
        "committedNodes",
        "committedServers",
        "rolledBackNodes",
        "rolledBackServers",
        "discoveredConfigInconsistent",
        "Override",
        "partitions",
        "recoveryProcessDecider",
        "discoverConfigPartitioned",
        "partitions",
        "discoveredConfigPartitioned",
        "partitions",
        "partitions",
        "Override",
        "nodeAddress",
        "lastMutationHost",
        "lastMutationUser",
        "recoveryProcessDecider",
        "discoverOtherClient",
        "nodeAddress",
        "lastMutationHost",
        "lastMutationUser",
        "nodeProcessingOtherClient",
        "nodeAddress",
        "otherClientHost",
        "lastMutationHost",
        "otherClientUser",
        "lastMutationUser",
        "discoveredOtherClient",
        "allNodes",
        "size",
        "allNodes",
        "endpoint",
        "allNodes",
        "get",
        "endpoint",
        "endpoint",
        "Optional",
        "ofNullable",
        "responses",
        "get",
        "endpoint",
        "discoverFailure",
        "inconsistentChangeUuid",
        "committedNodes",
        "rolledBackNodes",
        "partitions",
        "nodeProcessingOtherClient",
        "otherClientHost",
        "otherClientUser",
        "responses",
        "size",
        "responses",
        "entrySet",
        "stream",
        "collect",
        "responseEntryToMap",
        "responses",
        "entrySet",
        "stream",
        "e",
        "allNodes",
        "get",
        "e",
        "getKey",
        "STARTING",
        "e",
        "getValue",
        "getLatestChange",
        "collect",
        "responseEntryToMap",
        "responses",
        "entrySet",
        "stream",
        "e",
        "allNodes",
        "get",
        "e",
        "getKey",
        "STARTING",
        "e",
        "getValue",
        "getLatestChange",
        "collect",
        "responseEntryToMap",
        "responses",
        "entrySet",
        "stream",
        "e",
        "allNodes",
        "get",
        "e",
        "getKey",
        "STARTING",
        "e",
        "getValue",
        "getLatestChange",
        "collect",
        "responseEntryToMap",
        "discoverFailure",
        "DISCOVERY_FAILURE",
        "discoveredConfigInconsistent",
        "INCONSISTENT",
        "discoveredConfigPartitioned",
        "PARTITIONED",
        "discoveredOtherClient",
        "CHANGE_IN_PROGRESS",
        "onlineNodeCount",
        "getOnlineNodeCount",
        "totalNodeCount",
        "getNodeCount",
        "areAllAccepting",
        "responses",
        "values",
        "stream",
        "DiscoverResponse",
        "getMode",
        "allMatch",
        "Predicate",
        "isEqual",
        "NomadServerMode",
        "ACCEPTING",
        "areAllAccepting",
        "onlineNodeCount",
        "totalNodeCount",
        "ALL_ACCEPTING",
        "ONLINE_ACCEPTING",
        "areAllPrepared",
        "responses",
        "values",
        "stream",
        "DiscoverResponse",
        "getMode",
        "allMatch",
        "Predicate",
        "isEqual",
        "NomadServerMode",
        "PREPARED",
        "areAllPrepared",
        "onlineNodeCount",
        "totalNodeCount",
        "ALL_PREPARED",
        "ONLINE_PREPARED",
        "recoveryProcessDecider",
        "partiallyPrepared",
        "PARTIALLY_PREPARED",
        "recoveryProcessDecider",
        "partiallyRolledBack",
        "PARTIALLY_ROLLED_BACK",
        "recoveryProcessDecider",
        "partiallyCommitted",
        "PARTIALLY_COMMITTED",
        "ConfigurationConsistencyState",
        "UNKNOWN",
        "state",
        "getState",
        "state",
        "ALL_ACCEPTING",
        "getLockingInfo",
        "ONLINE_ACCEPTING",
        "getLockingInfo",
        "DISCOVERY_FAILURE",
        "getDiscoverFailure",
        "getMessage",
        "getDiscoverFailure",
        "getMessage",
        "CHANGE_IN_PROGRESS",
        "getOtherClientHost",
        "getOtherClientUser",
        "getNodeProcessingOtherClient",
        "INCONSISTENT",
        "getInconsistentChangeUuid",
        "toString",
        "getCommittedNodes",
        "toString",
        "getRolledBackNodes",
        "PARTITIONED",
        "getPartitions",
        "stream",
        "ConfigurationConsistencyAnalyzer",
        "toString",
        "collect",
        "Collectors",
        "joining",
        "ALL_PREPARED",
        "ONLINE_PREPARED",
        "PARTIALLY_PREPARED",
        "PARTIALLY_COMMITTED",
        "PARTIALLY_ROLLED_BACK",
        "UNKNOWN",
        "state",
        "responses",
        "values",
        "stream",
        "DiscoverResponse",
        "getLatestChange",
        "Objects",
        "nonNull",
        "ChangeDetails",
        "getResult",
        "findAny",
        "NodeContext",
        "getCluster",
        "Cluster",
        "getConfigurationLockContext",
        "flatMap",
        "OptionalConfig",
        "asOptional",
        "c",
        "format",
        "c",
        "ownerInfo",
        "orElse",
        "toMap",
        "Entry",
        "getKey",
        "e",
        "allNodes",
        "getOrDefault",
        "e",
        "getKey",
        "LogicalServerState",
        "UNKNOWN",
        "logicalServerState",
        "logicalServerState2",
        "LinkedHashMap",
        "items",
        "items",
        "stream",
        "toString",
        "sorted",
        "collect",
        "Collectors",
        "joining"
    ],
    "literals": [
        "\"The cluster configuration is healthy and all nodes are online. No repair needed. \"",
        "\"The cluster configuration seems healthy (some nodes are unreachable). \"",
        "\"Failed to analyze cluster configuration.\"",
        "\"Failed to analyze cluster configuration. Reason: \"",
        "\"Failed to analyze cluster configuration. Reason: a change is in progress:\"",
        "\" Host: \"",
        "\", By: \"",
        "\", On: \"",
        "\"Cluster configuration is inconsistent: Change \"",
        "\" is committed on \"",
        "\" and rolled back on \"",
        "\"Cluster configuration is partitioned and cannot be automatically repaired.\"",
        "\" Some nodes have a different configuration that others.\"",
        "\" Groups: | \"",
        "\" | \"",
        "\" |\"",
        "\"A new cluster configuration has been prepared on all nodes but not yet committed.\"",
        "\" No further configuration change can be done until the 'repair' command is run to finalize the configuration change.\"",
        "\"A new cluster configuration has been prepared but not yet committed or rolled back on online nodes.\"",
        "\" Some nodes are unreachable so we do not know if the last configuration change has been committed or rolled back on them.\"",
        "\" No further configuration change can be done until the 'repair' command is run to finalize the configuration change.\"",
        "\" If the unreachable nodes do not become available again, you might need to use the '-force' option to force a commit or rollback.\"",
        "\"A new  cluster configuration has been *partially* prepared (some nodes didn't get the new change).\"",
        "\" No further configuration change can be done until the 'repair' command is run to rollback the prepared nodes.\"",
        "\"A new  cluster configuration has been *partially* committed (some nodes didn't commit).\"",
        "\" No further configuration change can be done until the 'repair' command is run to commit all nodes.\"",
        "\"A new  cluster configuration has been *partially* rolled back (some nodes didn't rollback).\"",
        "\" No further configuration change can be done until the 'repair' command is run to rollback all nodes.\"",
        "\"Unable to determine the global configuration state.\"",
        "\" There might be some configuration inconsistencies.\"",
        "\" Please look at each node details.\"",
        "\" A manual intervention might be needed to reset some nodes.\"",
        "\"No changes are possible as config is locked by '%s'.\"",
        "\"New configuration changes are possible.\"",
        "\", \""
    ],
    "variables": [
        "responses",
        "allNodes",
        "recoveryProcessDecider",
        "discoverFailure",
        "discoveredConfigInconsistent",
        "discoveredOtherClient",
        "inconsistentChangeUuid",
        "committedNodes",
        "rolledBackNodes",
        "discoveredConfigPartitioned",
        "partitions",
        "nodeProcessingOtherClient",
        "otherClientHost",
        "otherClientUser"
    ],
    "comments": [
        "discoverClusterInconsistent",
        "discoverOtherClient",
        "others",
        "activated nodes are passive / actives that have some nomad changes",
        "nodes in repair are started in diagnostic mode and have nomad changes",
        "new nodes in configuration are started in diagnostic mode and have no nomad change yet",
        "We have a mix of NomadServerMode == PREPARED / ACCEPTING",
        "And we know our config is not inconsistent or partitioned",
        "So we are in an on-going unfinished change process",
        "Change UUIDs and result Hashes have already been validated by the consistency checker",
        "So if we end up here were a change is in progress it means:",
        "- all servers had the same result hash (have the same configuration in force)",
        "- all servers either ends with the same change UUID or ends with any rolled back entries,",
        "but their last committed change had teh same UUID or led to the same change result hash (same config)"
    ],
    "docstrings": [
        "* Copyright Terracotta, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.",
        "* Can be used in conjunction with the Nomad discovery process to capture the output and analyze the state of the cluster\n *\n * @author Mathieu Carbou"
    ],
    "functions": [
        "ConfigurationConsistencyAnalyzer",
        "discovered",
        "discoverFail",
        "discoverConfigInconsistent",
        "discoverConfigPartitioned",
        "discoverOtherClient",
        "getNodeCount",
        "getAllNodes",
        "LogicalServerState",
        "getState",
        "getDiscoveryResponse",
        "getDiscoverFailure",
        "UUID",
        "getInconsistentChangeUuid",
        "getCommittedNodes",
        "getRolledBackNodes",
        "getPartitions",
        "InetSocketAddress",
        "getNodeProcessingOtherClient",
        "getOtherClientHost",
        "getOtherClientUser",
        "getOnlineNodeCount",
        "getOnlineNodes",
        "getOnlineNodesActivated",
        "getOnlineNodesInRepair",
        "getOnlineNodesInConfiguration",
        "ConfigurationConsistencyState",
        "getState",
        "getDescription",
        "getLockingInfo",
        "responseEntryToMap",
        "toString"
    ],
    "classes": [
        "ConfigurationConsistencyAnalyzer"
    ]
}