{
    "identifiers": [
        "print_function",
        "re",
        "os",
        "subprocess",
        "sys",
        "getaddons",
        "get_addons",
        "getaddons",
        "get_modules",
        "travis_helpers",
        "success_msg",
        "fail_msg",
        "fname",
        "dbname",
        "odoo_version",
        "check_loaded",
        "x",
        "x",
        "odoo_version",
        "errors_report",
        "append",
        "x",
        "x",
        "pattern_list",
        "i",
        "len",
        "pattern_list",
        "isinstance",
        "pattern_list",
        "i",
        "basestring",
        "re",
        "compile",
        "pattern_list",
        "i",
        "x",
        "regex",
        "match",
        "x",
        "hasattr",
        "pattern_list",
        "i",
        "pattern_list",
        "i",
        "x",
        "regex",
        "match",
        "x",
        "make_pattern_list_callable",
        "errors_ignore",
        "make_pattern_list_callable",
        "errors_report",
        "re",
        "compile",
        "re",
        "compile",
        "dbname",
        "fromkeys",
        "log_start_regex",
        "groupindex",
        "keys",
        "open",
        "fname",
        "log",
        "line",
        "log",
        "color_regex",
        "sub",
        "line",
        "log_start_regex",
        "match",
        "line",
        "match",
        "match",
        "groupdict",
        "log_records",
        "append",
        "last_log_record",
        "last_log_record",
        "line",
        "rstrip",
        "log_record",
        "log_records",
        "ignore_pattern",
        "errors_ignore",
        "ignore_pattern",
        "log_record",
        "ignore",
        "report_pattern",
        "errors_report",
        "report_pattern",
        "log_record",
        "errors",
        "append",
        "log_record",
        "check_loaded",
        "r",
        "r",
        "log_records",
        "r",
        "errors",
        "append",
        "errors",
        "e",
        "errors",
        "e",
        "len",
        "errors",
        "comma_sep_list",
        "x",
        "strip",
        "x",
        "comma_sep_list",
        "split",
        "lower",
        "odoo_full",
        "odoo_version",
        "travis_home",
        "odoo_full",
        "split",
        "odoo_repo",
        "odoo_version",
        "os",
        "path",
        "join",
        "travis_home",
        "server_dirname",
        "server_path",
        "travis_home",
        "travis_build_dir",
        "server_path",
        "get_addons",
        "travis_home",
        "addons_path_list",
        "insert",
        "travis_build_dir",
        "addons_path_list",
        "append",
        "server_path",
        "join",
        "addons_path_list",
        "addons_path",
        "travis_build_dir",
        "odoo_include",
        "odoo_exclude",
        "odoo_include",
        "parse_list",
        "odoo_include",
        "get_modules",
        "travis_build_dir",
        "odoo_exclude",
        "parse_list",
        "odoo_exclude",
        "x",
        "x",
        "addons_list",
        "x",
        "exclude_list",
        "addons_list",
        "os",
        "environ",
        "get",
        "os",
        "environ",
        "get",
        "str2bool",
        "os",
        "environ",
        "get",
        "os",
        "environ",
        "get",
        "os",
        "environ",
        "get",
        "os",
        "environ",
        "get",
        "split",
        "os",
        "environ",
        "get",
        "split",
        "os",
        "environ",
        "get",
        "os",
        "environ",
        "get",
        "odoo_version",
        "sys",
        "argv",
        "odoo_version",
        "odoo_version",
        "install_options",
        "options",
        "odoo_version",
        "os",
        "environ",
        "get",
        "get_server_path",
        "odoo_full",
        "odoo_version",
        "travis_home",
        "get_addons_path",
        "travis_home",
        "travis_build_dir",
        "server_path",
        "get_addons_to_check",
        "travis_build_dir",
        "odoo_include",
        "odoo_exclude",
        "join",
        "tested_addons_list",
        "travis_build_dir",
        "odoo_full",
        "addons_path",
        "tested_addons",
        "tested_addons",
        "subprocess",
        "check_call",
        "dbtemplate",
        "odoo_unittest",
        "tested_addons",
        "server_path",
        "dbtemplate",
        "addons_path",
        "preinstall_modules",
        "install_options",
        "join",
        "cmd_odoo",
        "subprocess",
        "check_call",
        "cmd_odoo",
        "odoo_unittest",
        "tested_addons_list",
        "server_path",
        "database",
        "addons_path",
        "install_options",
        "server_path",
        "database",
        "test_loglevel",
        "addons_path",
        "test_loghandler",
        "cmd_odoo_test",
        "test_loghandler",
        "cmd_odoo_test",
        "options",
        "cmd_odoo_install",
        "cmd_odoo_test",
        "tested_addons",
        "server_path",
        "database",
        "test_loglevel",
        "addons_path",
        "test_loghandler",
        "cmd_odoo_test",
        "test_loghandler",
        "cmd_odoo_test",
        "options",
        "cmd_odoo_test",
        "to_test",
        "to_test_list",
        "to_test",
        "subprocess",
        "call",
        "dbtemplate",
        "database",
        "command",
        "check_loaded",
        "commands",
        "to_test",
        "join",
        "command",
        "command",
        "subprocess",
        "Popen",
        "command_call",
        "stderr",
        "subprocess",
        "STDOUT",
        "stdout",
        "subprocess",
        "PIPE",
        "open",
        "stdout",
        "line",
        "pipe",
        "stdout",
        "stdout",
        "write",
        "line",
        "line",
        "strip",
        "pipe",
        "wait",
        "has_test_errors",
        "database",
        "odoo_version",
        "check_loaded",
        "errors",
        "counted_errors",
        "errors",
        "all_errors",
        "append",
        "to_test",
        "fail_msg",
        "errors",
        "returncode",
        "all_errors",
        "append",
        "to_test",
        "fail_msg",
        "returncode",
        "subprocess",
        "call",
        "database",
        "to_test",
        "to_test_list",
        "to_test",
        "all_errors",
        "fail_msg",
        "to_test",
        "success_msg",
        "to_test",
        "expected_errors",
        "counted_errors",
        "expected_errors",
        "expected_errors",
        "counted_errors",
        "counted_errors",
        "expected_errors",
        "exit",
        "main"
    ],
    "literals": [
        "'Mail delivery failed'",
        "'failed sending mail'",
        "'loglevel'",
        "'CRITICAL'",
        "'At least one test failed'",
        "'no access rules, consider adding one'",
        "'invalid module names, ignored'",
        "'7.0'",
        "'loglevel'",
        "'ERROR'",
        "'message'",
        "'match'",
        "'message'",
        "\"-\"",
        "r'\\x1B\\[([0-9]{1,2}(;[0-9]{1,2})?)?[m|K]'",
        "r'^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2},\\d{3} \\d+ (?P<loglevel>\\w+) '",
        "'(?P<db>(%s)|([?])) (?P<logger>\\S+): (?P<message>.*)$'",
        "''",
        "'message'",
        "'%s\\n%s'",
        "'message'",
        "'\\n'",
        "'Modules loaded.'",
        "'message'",
        "'message'",
        "\"Modules loaded message not found.\"",
        "'message'",
        "\"-\"",
        "','",
        "''",
        "'1'",
        "'true'",
        "'yes'",
        "'/'",
        "\"%s-%s\"",
        "\"/addons\"",
        "','",
        "\"HOME\"",
        "\"~/\"",
        "\"TRAVIS_BUILD_DIR\"",
        "\"../..\"",
        "\"UNIT_TEST\"",
        "\"EXCLUDE\"",
        "\"INCLUDE\"",
        "\"OPTIONS\"",
        "\"\"",
        "\"INSTALL_OPTIONS\"",
        "\"\"",
        "\"SERVER_EXPECTED_ERRORS\"",
        "\"0\"",
        "\"VERSION\"",
        "\"WARNING: no env variable set for VERSION. \"",
        "\"Using '%s'\"",
        "\"6.1\"",
        "\"--test-disable\"",
        "'test'",
        "\"--test-enable\"",
        "'7.0'",
        "'test'",
        "'info'",
        "'openerp.tools.yaml_import:DEBUG'",
        "\"ODOO_REPO\"",
        "\"odoo/odoo\"",
        "','",
        "\"Working in %s\"",
        "\"Using repo %s and addons path %s\"",
        "\"WARNING!\\nNothing to test- exiting early.\"",
        "\"Modules to test: %s\"",
        "\"\\nCreating test instance:\"",
        "\"openerp_template\"",
        "\"createdb\"",
        "'mail'",
        "\"%s/openerp-server\"",
        "\"-d\"",
        "\"--log-level=warn\"",
        "\"--stop-after-init\"",
        "\"--addons-path\"",
        "\"--init\"",
        "\" \"",
        "\"openerp_test\"",
        "\"%s/openerp-server\"",
        "\"-d\"",
        "\"--stop-after-init\"",
        "\"--log-level=warn\"",
        "\"--addons-path\"",
        "\"--init\"",
        "\"coverage\"",
        "\"run\"",
        "\"%s/openerp-server\"",
        "\"-d\"",
        "\"--stop-after-init\"",
        "\"--log-level\"",
        "\"--addons-path\"",
        "'--log-handler'",
        "\"--update\"",
        "\"coverage\"",
        "\"run\"",
        "\"%s/openerp-server\"",
        "\"-d\"",
        "\"--stop-after-init\"",
        "\"--log-level\"",
        "\"--addons-path\"",
        "'--log-handler'",
        "\"--update\"",
        "\"\\nTesting %s:\"",
        "\"createdb\"",
        "\"-T\"",
        "' '",
        "\"unbuffer\"",
        "'stdout.log'",
        "'w'",
        "\"stdout.log\"",
        "\"Found %d lines with errors\"",
        "\"Command exited with code %s\"",
        "\"dropdb\"",
        "'Module test summary'",
        "\"Expected %d errors, found %d!\"",
        "'__main__'"
    ],
    "variables": [
        "errors_ignore",
        "errors_report",
        "regex",
        "pattern_list",
        "i",
        "regex",
        "pattern_list",
        "i",
        "color_regex",
        "log_start_regex",
        "log_records",
        "last_log_record",
        "line",
        "match",
        "last_log_record",
        "last_log_record",
        "errors",
        "ignore",
        "ignore",
        "odoo_org",
        "odoo_repo",
        "server_dirname",
        "server_path",
        "addons_path_list",
        "addons_path",
        "addons_list",
        "addons_list",
        "exclude_list",
        "addons_list",
        "travis_home",
        "travis_build_dir",
        "odoo_unittest",
        "odoo_exclude",
        "odoo_include",
        "options",
        "install_options",
        "expected_errors",
        "odoo_version",
        "odoo_version",
        "test_loghandler",
        "test_loglevel",
        "test_loglevel",
        "test_loglevel",
        "test_loghandler",
        "odoo_full",
        "server_path",
        "addons_path",
        "tested_addons_list",
        "tested_addons",
        "dbtemplate",
        "preinstall_modules",
        "cmd_odoo",
        "database",
        "to_test_list",
        "cmd_odoo_install",
        "cmd_odoo_test",
        "commands",
        "to_test_list",
        "cmd_odoo_test",
        "commands",
        "all_errors",
        "counted_errors",
        "command",
        "command_call",
        "pipe",
        "returncode",
        "errors"
    ],
    "comments": [
        "!/usr/bin/env python",
        "Rules defining checks to perform",
        "this can be",
        "- a string which will be checked in a simple substring match",
        "- a regex object that will be matched against the whole message",
        "- a callable that receives a dictionary of the form",
        "{",
        "'loglevel': ...,",
        "'message': ....,",
        "}",
        "Only check ERROR lines before 7.0",
        "Read log file removing ASCII color escapes:",
        "http://serverfault.com/questions/71285",
        "For backward compatibility, take version from parameter",
        "if it's not globally set",
        "setup the base module without running the tests",
        "Running tests",
        "Run test command; unbuffer keeps output colors",
        "Find errors, except from failed mails",
        "if we get here, all is OK"
    ],
    "docstrings": [
        "\"\"\"\n    Check a list of log lines for test errors.\n    Extension point to detect false positives.\n    \"\"\"",
        "\"\"\"\n    Calculate server path\n    :param odoo_full: Odoo repository path\n    :param odoo_version: Odoo version\n    :param travis_home: Travis home directory\n    :return: Server path\n    \"\"\"",
        "\"\"\"\n    Calculate addons path\n    :param travis_home: Travis home directory\n    :param travis_build_dir: Travis build directory\n    :param server_path: Server path\n    :return: Addons path\n    \"\"\"",
        "\"\"\"\n    Get the list of modules that need to be installed\n    :param travis_build_dir: Travis build directory\n    :param odoo_include: addons to include (travis parameter)\n    :param odoo_exclude: addons to exclude (travis parameter)\n    :return: List of addons to test\n    \"\"\""
    ],
    "functions": [
        "has_test_errors",
        "make_pattern_list_callable",
        "parse_list",
        "str2bool",
        "get_server_path",
        "get_addons_path",
        "get_addons_to_check",
        "main"
    ],
    "classes": []
}