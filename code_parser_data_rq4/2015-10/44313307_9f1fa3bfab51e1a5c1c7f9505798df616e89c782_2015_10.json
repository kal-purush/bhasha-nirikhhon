{
    "identifiers": [
        "requests",
        "checks",
        "AgentCheck",
        "util",
        "headers",
        "sys",
        "AgentCheck",
        "name",
        "init_config",
        "agentConfig",
        "instances",
        "CeleryCheck",
        "name",
        "init_config",
        "agentConfig",
        "instances",
        "instance",
        "key",
        "key",
        "instance",
        "format",
        "key",
        "url",
        "instance",
        "log",
        "debug",
        "url",
        "instance",
        "instance",
        "instance",
        "headers",
        "agentConfig",
        "requests",
        "get",
        "url",
        "auth",
        "auth",
        "headers",
        "request_headers",
        "timeout",
        "instance",
        "get",
        "TIMEOUT",
        "r",
        "raise_for_status",
        "r",
        "json",
        "url",
        "instance",
        "_get_data_from_url",
        "url",
        "instance",
        "requests",
        "exceptions",
        "HTTPError",
        "e",
        "warning",
        "format",
        "url",
        "data",
        "warning",
        "format",
        "url",
        "data",
        "instance",
        "_validate_instance",
        "instance",
        "instance",
        "get",
        "check_connection",
        "instance",
        "tags",
        "get_worker_data",
        "instance",
        "tags",
        "get_task_data",
        "instance",
        "tags",
        "workers",
        "instance",
        "tags",
        "instance",
        "_get_data_from_url",
        "url",
        "instance",
        "requests",
        "exceptions",
        "Timeout",
        "e",
        "service_check",
        "SERVICE_CHECK_NAME",
        "AgentCheck",
        "CRITICAL",
        "tags",
        "tags",
        "message",
        "format",
        "url",
        "e",
        "requests",
        "exceptions",
        "HTTPError",
        "e",
        "service_check",
        "SERVICE_CHECK_NAME",
        "AgentCheck",
        "CRITICAL",
        "tags",
        "tags",
        "message",
        "e",
        "message",
        "e",
        "service_check",
        "SERVICE_CHECK_NAME",
        "AgentCheck",
        "CRITICAL",
        "tags",
        "tags",
        "message",
        "e",
        "service_check",
        "SERVICE_CHECK_NAME",
        "AgentCheck",
        "OK",
        "tags",
        "tags",
        "message",
        "url",
        "worker_name",
        "worker_name",
        "split",
        "host_string",
        "split",
        "hostname",
        "instance",
        "tags",
        "_get_data_for_endpoint",
        "instance",
        "worker_name",
        "stats",
        "data",
        "items",
        "_get_hostname_for_worker",
        "worker_name",
        "stats",
        "format",
        "worker_name",
        "format",
        "queue",
        "gauge",
        "format",
        "SOURCE_TYPE_NAME",
        "len",
        "stats",
        "hostname",
        "hostname",
        "tags",
        "tags",
        "worker_tag",
        "queue_tag",
        "gauge",
        "format",
        "SOURCE_TYPE_NAME",
        "stats",
        "hostname",
        "hostname",
        "tags",
        "tags",
        "worker_tag",
        "queue_tag",
        "task_name",
        "total",
        "stats",
        "gauge",
        "format",
        "SOURCE_TYPE_NAME",
        "total",
        "hostname",
        "hostname",
        "tags",
        "tags",
        "worker_tag",
        "queue_tag",
        "format",
        "task_name",
        "AgentCheck",
        "OK",
        "stats",
        "AgentCheck",
        "CRITICAL",
        "service_check",
        "format",
        "SOURCE_TYPE_NAME",
        "dd_status",
        "hostname",
        "hostname",
        "tags",
        "tags",
        "worker_tag",
        "data",
        "keys",
        "instance",
        "tags",
        "workers",
        "worker",
        "workers",
        "_get_hostname_for_worker",
        "worker",
        "tags",
        "format",
        "worker",
        "state",
        "TASK_STATES",
        "_get_data_for_endpoint",
        "instance",
        "worker",
        "state",
        "gauge",
        "format",
        "SOURCE_TYPE_NAME",
        "state",
        "len",
        "data",
        "hostname",
        "hostname",
        "tags",
        "metric_tags",
        "instance",
        "endpoint",
        "format",
        "instance",
        "URL_ENDPOINTS",
        "endpoint",
        "_safe_get_data_from_url",
        "url",
        "instance",
        "len",
        "sys",
        "argv",
        "sys",
        "argv",
        "CeleryCheck",
        "from_yaml",
        "path",
        "instance",
        "instances",
        "instance",
        "check",
        "check",
        "instance",
        "check",
        "has_events",
        "check",
        "get_events",
        "check",
        "get_metrics"
    ],
    "literals": [
        "'celery.can_connect'",
        "'celery'",
        "'workers'",
        "'/api/worker'",
        "'tasks'",
        "'/api/tasks'",
        "'task_types'",
        "'/api/task/types'",
        "'PENDING'",
        "'RECEIVED'",
        "'STARTED'",
        "'SUCCESS'",
        "'FAILURE'",
        "'REVOKED'",
        "'RETRY'",
        "'flower_url'",
        "\"A {} must be specified\"",
        "\"Hit a given URL and return the parsed json\"",
        "'Fetching Celery stats at url: %s'",
        "'username'",
        "'password'",
        "'username'",
        "'password'",
        "'timeout'",
        "'Error reading data from URL: {}'",
        "\"No stats could be retrieved from {}\"",
        "'tags'",
        "'flower_url'",
        "\"Request timeout: {0}, {1}\"",
        "'Connection to %s was successful'",
        "'@'",
        "'.'",
        "'workers'",
        "'active_queues'",
        "'name'",
        "'celery_worker:{}'",
        "'celery_queue:{}'",
        "'{}.tasks_registered'",
        "'registered'",
        "'{}.max-concurrency'",
        "'pool'",
        "'max-concurrency'",
        "'total'",
        "'{}.tasks_completed'",
        "'celery_task_name:{}'",
        "'status'",
        "'{}.worker_status'",
        "'celery_worker:{}'",
        "'tasks'",
        "'workername'",
        "'state'",
        "'{}.tasks_by_state.{}'",
        "'{}{}'",
        "'flower_url'",
        "'__main__'",
        "\"Usage: python celery.py <path_to_config>\"",
        "\"\\nRunning the check against url: %s\"",
        "'flower_url'",
        "'Events: %s'",
        "'Metrics: %s'"
    ],
    "variables": [
        "SERVICE_CHECK_NAME",
        "SOURCE_TYPE_NAME",
        "TIMEOUT",
        "URL_ENDPOINTS",
        "TASK_STATES",
        "last_timestamps",
        "auth",
        "auth",
        "request_headers",
        "r",
        "data",
        "tags",
        "workers",
        "url",
        "host_string",
        "hostname",
        "data",
        "hostname",
        "queue",
        "worker_tag",
        "queue_tag",
        "dd_status",
        "hostname",
        "metric_tags",
        "data",
        "url",
        "path",
        "check",
        "instances"
    ],
    "comments": [
        "http://docs.celeryproject.org/en/latest/reference/celery.states.html#misc"
    ],
    "docstrings": [
        "\"\"\"Extracts stats from Celery via the Flower REST API\n    http://flower.readthedocs.org/en/latest/api.html\n    \"\"\"",
        "\"\"\"Assumes worker name formatted as follows: celery@hostname.domain_queue\n        \"\"\"",
        "\"\"\"\n        :return: list of worker names\n        \"\"\""
    ],
    "functions": [
        "_validate_instance",
        "_get_data_from_url",
        "_safe_get_data_from_url",
        "check",
        "check_connection",
        "_get_hostname_for_worker",
        "get_worker_data",
        "get_task_data",
        "_get_data_for_endpoint"
    ],
    "classes": [
        "CeleryCheck"
    ]
}