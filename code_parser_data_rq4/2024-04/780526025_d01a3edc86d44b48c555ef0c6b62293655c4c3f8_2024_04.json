{
    "identifiers": [
        "Data",
        "Common",
        "Linq",
        "Net",
        "Net",
        "Sockets",
        "Threading",
        "Newtonsoft",
        "Json",
        "Npgsql",
        "StackExchange",
        "Redis",
        "Worker",
        "args",
        "OpenDbConnection",
        "OpenRedisConnection",
        "redisConn",
        "GetDatabase",
        "pgsql",
        "CreateCommand",
        "keepAliveCommand",
        "CommandText",
        "vote",
        "voter_id",
        "Sleep",
        "redisConn",
        "redisConn",
        "IsConnected",
        "WriteLine",
        "redisConn",
        "OpenRedisConnection",
        "redis",
        "redisConn",
        "GetDatabase",
        "redis",
        "ListLeftPopAsync",
        "Result",
        "json",
        "JsonConvert",
        "DeserializeAnonymousType",
        "json",
        "definition",
        "WriteLine",
        "vote",
        "vote",
        "vote",
        "voter_id",
        "pgsql",
        "State",
        "Equals",
        "Data",
        "ConnectionState",
        "Open",
        "WriteLine",
        "pgsql",
        "OpenDbConnection",
        "UpdateVote",
        "pgsql",
        "vote",
        "voter_id",
        "vote",
        "vote",
        "keepAliveCommand",
        "ExecuteNonQuery",
        "ex",
        "WriteLine",
        "ex",
        "ToString",
        "connectionString",
        "connection",
        "NpgsqlConnection",
        "connectionString",
        "connection",
        "Open",
        "SocketException",
        "WriteLine",
        "Sleep",
        "DbException",
        "WriteLine",
        "Sleep",
        "WriteLine",
        "connection",
        "CreateCommand",
        "command",
        "CommandText",
        "command",
        "ExecuteNonQuery",
        "connection",
        "hostname",
        "GetIp",
        "hostname",
        "WriteLine",
        "ipAddress",
        "WriteLine",
        "ConnectionMultiplexer",
        "Connect",
        "ipAddress",
        "RedisConnectionException",
        "WriteLine",
        "Sleep",
        "hostname",
        "Dns",
        "GetHostEntryAsync",
        "hostname",
        "Result",
        "AddressList",
        "First",
        "a",
        "AddressFamily",
        "AddressFamily",
        "InterNetwork",
        "ToString",
        "NpgsqlConnection",
        "connection",
        "voterId",
        "vote",
        "connection",
        "CreateCommand",
        "command",
        "CommandText",
        "command",
        "Parameters",
        "AddWithValue",
        "voterId",
        "command",
        "Parameters",
        "AddWithValue",
        "vote",
        "command",
        "ExecuteNonQuery",
        "DbException",
        "command",
        "CommandText",
        "command",
        "ExecuteNonQuery",
        "command",
        "Dispose"
    ],
    "literals": [
        "\"Server=db;Username=postgres;Password=postgres;\"",
        "\"redis\"",
        "\"SELECT 1\"",
        "\"\"",
        "\"\"",
        "\"Reconnecting Redis\"",
        "\"redis\"",
        "\"votes\"",
        "\"Reconnecting DB\"",
        "\"Server=db;Username=postgres;Password=postgres;\"",
        "\"Waiting for db\"",
        "\"Waiting for db\"",
        "\"Connected to db\"",
        "\"Connecting to redis\"",
        "\"Waiting for redis\"",
        "\"INSERT INTO votes (id, vote) VALUES (@id, @vote)\"",
        "\"@id\"",
        "\"@vote\"",
        "\"UPDATE votes SET vote = @vote WHERE id = @id\""
    ],
    "variables": [
        "pgsql",
        "redisConn",
        "redis",
        "keepAliveCommand",
        "definition",
        "json",
        "vote",
        "NpgsqlConnection",
        "connection",
        "command",
        "ipAddress",
        "command"
    ],
    "comments": [
        "Keep alive is not implemented in Npgsql yet. This workaround was recommended:",
        "https://github.com/npgsql/npgsql/issues/1214#issuecomment-235828359",
        "Slow down to prevent CPU spike, only query each 100ms",
        "Reconnect redis if down",
        "Reconnect DB if down",
        "Normal +1 vote requested",
        "Use IP address to workaround https://github.com/StackExchange/StackExchange.Redis/issues/410"
    ],
    "docstrings": [],
    "functions": [
        "Main",
        "NpgsqlConnection",
        "OpenDbConnection",
        "ConnectionMultiplexer",
        "OpenRedisConnection",
        "GetIp",
        "UpdateVote"
    ],
    "classes": [
        "Program"
    ]
}