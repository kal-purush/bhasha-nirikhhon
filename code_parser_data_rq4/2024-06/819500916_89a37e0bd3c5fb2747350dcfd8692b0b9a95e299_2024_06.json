{
    "identifiers": [
        "pandas",
        "pd",
        "numpy",
        "np",
        "sklearn",
        "model_selection",
        "TimeSeriesSplit",
        "sklearn",
        "preprocessing",
        "StandardScaler",
        "sklearn",
        "impute",
        "SimpleImputer",
        "sklearn",
        "compose",
        "ColumnTransformer",
        "sklearn",
        "pipeline",
        "Pipeline",
        "sklearn",
        "metrics",
        "mean_squared_error",
        "r2_score",
        "mean_absolute_error",
        "xgboost",
        "XGBRegressor",
        "tqdm",
        "tqdm",
        "pd",
        "read_csv",
        "pd",
        "to_datetime",
        "df",
        "df",
        "sort_values",
        "by",
        "inplace",
        "df",
        "replace",
        "replace",
        "astype",
        "df",
        "isnull",
        "sum",
        "np",
        "log1p",
        "df",
        "np",
        "isinf",
        "df",
        "sum",
        "np",
        "isnan",
        "df",
        "sum",
        "df",
        "np",
        "isinf",
        "df",
        "df",
        "dropna",
        "subset",
        "df",
        "max",
        "df",
        "min",
        "df",
        "dt",
        "year",
        "df",
        "dt",
        "month",
        "df",
        "dt",
        "day",
        "df",
        "dt",
        "dayofweek",
        "df",
        "isin",
        "astype",
        "df",
        "dt",
        "quarter",
        "df",
        "df",
        "df",
        "df",
        "df",
        "df",
        "min",
        "dt",
        "days",
        "df",
        "groupby",
        "mean",
        "df",
        "airbnb_mean_prices",
        "df",
        "groupby",
        "df",
        "dt",
        "month",
        "df",
        "dt",
        "day",
        "shift",
        "df",
        "fillna",
        "df",
        "pd",
        "read_csv",
        "pd",
        "merge",
        "df",
        "listings",
        "on",
        "how",
        "merged_data",
        "to_csv",
        "index",
        "df",
        "features",
        "df",
        "target",
        "pickle",
        "ColumnTransformer",
        "transformers",
        "StandardScaler",
        "features",
        "XGBRegressor",
        "n_estimators",
        "learning_rate",
        "max_depth",
        "min_child_weight",
        "subsample",
        "colsample_bytree",
        "random_state",
        "verbose",
        "Pipeline",
        "preprocessor",
        "model",
        "TimeSeriesSplit",
        "n_splits",
        "train_index",
        "test_index",
        "tqdm",
        "tscv",
        "split",
        "X",
        "total",
        "tscv",
        "n_splits",
        "desc",
        "X",
        "iloc",
        "train_index",
        "X",
        "iloc",
        "test_index",
        "y",
        "iloc",
        "train_index",
        "y",
        "iloc",
        "test_index",
        "pipeline",
        "fit",
        "X_train",
        "y_train",
        "pipeline",
        "predict",
        "X_test",
        "mse_scores",
        "append",
        "mean_squared_error",
        "y_test",
        "y_pred",
        "r2_scores",
        "append",
        "r2_score",
        "y_test",
        "y_pred",
        "mae_scores",
        "append",
        "mean_absolute_error",
        "y_test",
        "y_pred",
        "np",
        "mean",
        "mse_scores",
        "np",
        "sqrt",
        "mse",
        "np",
        "mean",
        "r2_scores",
        "np",
        "mean",
        "mae_scores",
        "mse",
        "rmse",
        "r2",
        "mae",
        "np",
        "expm1",
        "rmse",
        "np",
        "expm1",
        "mae",
        "model",
        "feature_importances_",
        "np",
        "argsort",
        "feature_importance",
        "idx",
        "sorted_idx",
        "features",
        "idx",
        "feature_importance",
        "idx",
        "pipeline",
        "fit",
        "X",
        "Y",
        "open",
        "fid",
        "pickle",
        "dump",
        "pipeline",
        "fid",
        "tqdm",
        "tqdm",
        "pandas",
        "pd",
        "numpy",
        "np",
        "open",
        "fid",
        "pickle",
        "load",
        "fid",
        "pd",
        "Timestamp",
        "today",
        "normalize",
        "pd",
        "date_range",
        "start",
        "start_date",
        "periods",
        "freq",
        "pd",
        "DataFrame",
        "future_dates",
        "future_dates_df",
        "dt",
        "year",
        "future_dates_df",
        "dt",
        "month",
        "future_dates_df",
        "dt",
        "day",
        "future_dates_df",
        "dt",
        "dayofweek",
        "future_dates_df",
        "isin",
        "astype",
        "future_dates_df",
        "dt",
        "quarter",
        "future_dates_df",
        "future_dates_df",
        "future_dates_df",
        "future_dates_df",
        "future_dates_df",
        "df",
        "min",
        "dt",
        "days",
        "df",
        "groupby",
        "mean",
        "df",
        "unique",
        "pd",
        "DataFrame",
        "airbnb_id",
        "tqdm",
        "airbnb_ids",
        "desc",
        "total",
        "len",
        "airbnb_ids",
        "future_dates_df",
        "copy",
        "airbnb_id",
        "df",
        "df",
        "airbnb_id",
        "copy",
        "past_data",
        "dt",
        "strftime",
        "airbnb_data",
        "dt",
        "strftime",
        "pd",
        "merge",
        "airbnb_data",
        "past_data",
        "on",
        "how",
        "merged_data",
        "fillna",
        "airbnb_mean_prices",
        "airbnb_id",
        "airbnb_mean_prices",
        "airbnb_id",
        "feature",
        "features",
        "feature",
        "airbnb_data",
        "columns",
        "pp",
        "predict",
        "airbnb_data",
        "features",
        "np",
        "expm1",
        "predicted_log_prices",
        "predicted_prices",
        "pd",
        "concat",
        "future_data",
        "airbnb_data",
        "ignore_index",
        "future_data"
    ],
    "literals": [
        "'calendar.csv'",
        "'date'",
        "'date'",
        "'listing_id'",
        "'date'",
        "'price'",
        "'price'",
        "'$'",
        "''",
        "','",
        "''",
        "'log_price'",
        "'price'",
        "\"Valores infinitos en log_price:\"",
        "'log_price'",
        "\"Valores NaN en log_price:\"",
        "'log_price'",
        "'log_price'",
        "'log_price'",
        "\"Valor máximo de log_price:\"",
        "'log_price'",
        "\"Valor mínimo de log_price:\"",
        "'log_price'",
        "'year'",
        "'date'",
        "'month'",
        "'date'",
        "'day'",
        "'date'",
        "'dayofweek'",
        "'date'",
        "'is_weekend'",
        "'dayofweek'",
        "'quarter'",
        "'date'",
        "'is_holiday'",
        "'month'",
        "'day'",
        "'month'",
        "'day'",
        "'days_since_start'",
        "'date'",
        "'date'",
        "'listing_id'",
        "'price'",
        "'mean_airbnb_price'",
        "'listing_id'",
        "'last_year_price'",
        "'listing_id'",
        "'date'",
        "'date'",
        "'price'",
        "'last_year_price'",
        "'last_year_price'",
        "'mean_airbnb_price'",
        "'listings_redux.csv'",
        "'listing_id'",
        "'neighbourhood'",
        "'listing_id'",
        "'left'",
        "'cal_listings_merged.csv'",
        "'year'",
        "'month'",
        "'day'",
        "'dayofweek'",
        "'is_weekend'",
        "'quarter'",
        "'is_holiday'",
        "'days_since_start'",
        "'last_year_price'",
        "'mean_airbnb_price'",
        "'log_price'",
        "'num'",
        "'preprocessor'",
        "'regressor'",
        "\"Cross-validation\"",
        "f\"Error cuadrático medio (MSE): {mse:.4f}\"",
        "f\"Raíz del error cuadrático medio (RMSE): {rmse:.4f}\"",
        "f\"R-cuadrado: {r2:.4f}\"",
        "f\"Error absoluto medio (MAE): {mae:.4f}\"",
        "f\"RMSE en la escala original: ${np.expm1(rmse):.2f}\"",
        "f\"MAE en la escala original: ${np.expm1(mae):.2f}\"",
        "f\"{features[idx]}: {feature_importance[idx]:.4f}\"",
        "'our_estimator.pkl'",
        "'wb'",
        "'our_estimator.pkl'",
        "'rb'",
        "'D'",
        "'date'",
        "'year'",
        "'date'",
        "'month'",
        "'date'",
        "'day'",
        "'date'",
        "'dayofweek'",
        "'date'",
        "'is_weekend'",
        "'dayofweek'",
        "'quarter'",
        "'date'",
        "'is_holiday'",
        "'month'",
        "'day'",
        "'month'",
        "'day'",
        "'days_since_start'",
        "'date'",
        "'date'",
        "'listing_id'",
        "'price'",
        "'listing_id'",
        "\"Predicting prices\"",
        "'airbnb_id'",
        "'listing_id'",
        "'month_day'",
        "'date'",
        "'%m-%d'",
        "'month_day'",
        "'date'",
        "'%m-%d'",
        "'month_day'",
        "'price'",
        "'month_day'",
        "'left'",
        "'last_year_price'",
        "'price'",
        "'mean_airbnb_price'",
        "'predicted_price'",
        "'airbnb_id'",
        "'date'",
        "'predicted_price'"
    ],
    "variables": [
        "df",
        "df",
        "df",
        "df",
        "df",
        "df",
        "df",
        "df",
        "df",
        "df",
        "df",
        "df",
        "df",
        "df",
        "airbnb_mean_prices",
        "df",
        "df",
        "df",
        "listings",
        "merged_data",
        "features",
        "target",
        "X",
        "Y",
        "preprocessor",
        "model",
        "pipeline",
        "tscv",
        "mse_scores",
        "r2_scores",
        "mae_scores",
        "X_train",
        "X_test",
        "y_train",
        "y_test",
        "y_pred",
        "mse",
        "rmse",
        "r2",
        "mae",
        "feature_importance",
        "sorted_idx",
        "pp",
        "start_date",
        "future_dates",
        "future_dates_df",
        "future_dates_df",
        "future_dates_df",
        "future_dates_df",
        "future_dates_df",
        "future_dates_df",
        "future_dates_df",
        "future_dates_df",
        "future_dates_df",
        "airbnb_mean_prices",
        "airbnb_ids",
        "future_data",
        "airbnb_data",
        "airbnb_data",
        "past_data",
        "past_data",
        "airbnb_data",
        "merged_data",
        "airbnb_data",
        "airbnb_data",
        "airbnb_data",
        "feature",
        "predicted_log_prices",
        "predicted_prices",
        "airbnb_data",
        "future_data"
    ],
    "comments": [
        "1. DATA PRE PROCESSING",
        "Cargar los datos",
        "Convertir la columna de fecha a datetime",
        "Ordenar por ID y fecha",
        "Después de calcular 'log_price'",
        "Verificar valores infinitos o NaN",
        "Eliminar filas con valores infinitos o NaN en log_price",
        "Verificar valores muy grandes",
        "Si es necesario, puedes recortar valores extremos",
        "df['log_price'] = np.clip(df['log_price'], lower_bound, upper_bound)",
        "Extraer características de la fecha",
        "1.2. GENERATING NEW VARIABLES FROM PRE-EXISTING ONES",
        "Calcular la media del precio para cada Airbnb",
        "Añadir la media del precio como una característica",
        "Añadir característica: precio del año anterior en el mismo día y mes",
        "En lugar de eliminar filas, llenamos los NaN con la media del precio del Airbnb",
        "1.3. Merging with visualization data for neighbourhood data",
        "2. DEFINE PREDICTINIG FEATURES AND PREDICTED TARGET VALUE",
        "3.  TRAIN THE MODEL WITH K-FOLD CROSS VALIDATION AND SAVE THE MODEL",
        "Crear el pipeline de preprocesamiento",
        "Crear el modelo XGBoost",
        "Para ver el progreso",
        "Crear el pipeline completo",
        "Usar validación cruzada con series temporales",
        "Calcular y mostrar las métricas promedio",
        "Convertir el RMSE y MAE de vuelta a la escala original",
        "Imprimir las características más importantes",
        "4. SAVE THE MODEL",
        "Once we determined how good our model was for predicting the data, we train it on",
        "the main dataset and save it",
        "To save a model:",
        "5. TEST OF INPUT FEATURES FOR THE MODEL, MIMICKING USER INPUT IN WEB",
        "Part of the prediction process in the main file",
        "Supongamos que ya tienes tu modelo 'pipeline' y tus datos 'df' cargados y preparados",
        "To deserialize estimator later",
        "Obtén la fecha de inicio para las predicciones (hoy + 1 año)",
        "Crea un rango de fechas futuras a partir de start_date",
        "Convierte future_dates a un DataFrame y extrae año, mes, día, etc.",
        "Calcula la media del precio para cada Airbnb",
        "Crea un DataFrame con las fechas futuras replicando cada Airbnb para cada fecha",
        "Usa tqdm para la barra de progreso",
        "Prepara los datos del año pasado",
        "Merge para agregar la característica del precio del año pasado en el mismo día y mes",
        "Añade la media del precio del Airbnb como una característica",
        "Asegúrate de que todas las características necesarias estén presentes",
        "o cualquier otro valor por defecto apropiado",
        "Hacer predicciones para este Airbnb y las fechas futuras",
        "Convertir el logaritmo del precio predicho a la escala original",
        "Agregar las predicciones al DataFrame de fechas futuras",
        "Concatenar los resultados al DataFrame principal",
        "Mostrar las predicciones para todas las combinaciones de Airbnb y fechas futuras"
    ],
    "docstrings": [],
    "functions": [],
    "classes": []
}