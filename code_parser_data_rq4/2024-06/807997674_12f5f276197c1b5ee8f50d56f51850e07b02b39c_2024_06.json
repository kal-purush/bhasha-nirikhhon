{
    "identifiers": [
        "numpy",
        "np",
        "scipy",
        "spatial",
        "transform",
        "Rotation",
        "R",
        "bvh_file_path",
        "open",
        "bvh_file_path",
        "f",
        "f",
        "readlines",
        "i",
        "len",
        "lines",
        "lines",
        "i",
        "startswith",
        "line",
        "lines",
        "i",
        "x",
        "x",
        "line",
        "split",
        "len",
        "data",
        "motion_data",
        "append",
        "np",
        "array",
        "data",
        "reshape",
        "np",
        "concatenate",
        "motion_data",
        "axis",
        "motion_data",
        "bvh_file_path",
        "open",
        "bvh_file_path",
        "f",
        "f",
        "readlines",
        "i",
        "len",
        "lines",
        "lines",
        "i",
        "startswith",
        "joint_name",
        "append",
        "lines",
        "i",
        "split",
        "joint_parent",
        "append",
        "lines",
        "i",
        "startswith",
        "lines",
        "i",
        "split",
        "tmp_line",
        "stack",
        "append",
        "len",
        "joint_name",
        "tmp_line",
        "stack",
        "pop",
        "tmp_line",
        "joint_name",
        "append",
        "tmp_line",
        "joint_parent",
        "append",
        "stack",
        "tmp_line",
        "joint_name",
        "append",
        "joint_name",
        "stack",
        "joint_parent",
        "append",
        "stack",
        "tmp_line",
        "joint_offset",
        "append",
        "np",
        "array",
        "x",
        "x",
        "tmp_line",
        "reshape",
        "np",
        "concatenate",
        "joint_offset",
        "axis",
        "joint_name",
        "joint_parent",
        "joint_offset",
        "joint_name",
        "joint_parent",
        "joint_offset",
        "motion_data",
        "frame_id",
        "motion_data",
        "frame_id",
        "np",
        "array",
        "motion_channels_data",
        "i",
        "len",
        "joint_name",
        "joint_name",
        "i",
        "joint_local_rotation",
        "append",
        "joint_local_rotation",
        "append",
        "motion_channels_data",
        "count",
        "count",
        "count",
        "i",
        "len",
        "joint_name",
        "joint_parent",
        "i",
        "R",
        "from_euler",
        "joint_local_rotation",
        "i",
        "degrees",
        "root_position",
        "reshape",
        "R",
        "from_quat",
        "joint_orientations",
        "joint_parent",
        "i",
        "R",
        "from_euler",
        "joint_local_rotation",
        "i",
        "degrees",
        "joint_positions",
        "joint_parent",
        "i",
        "joint_offset",
        "i",
        "np",
        "asmatrix",
        "R",
        "from_quat",
        "joint_orientations",
        "joint_parent",
        "i",
        "as_matrix",
        "transpose",
        "joint_positions",
        "append",
        "np",
        "array",
        "joint_position",
        "joint_orientations",
        "append",
        "joint_orientation",
        "as_quat",
        "reshape",
        "np",
        "concatenate",
        "joint_positions",
        "axis",
        "np",
        "concatenate",
        "joint_orientations",
        "axis",
        "joint_positions",
        "joint_orientations",
        "T_pose_bvh_path",
        "A_pose_bvh_path",
        "part1_calculate_T_pose",
        "T_pose_bvh_path",
        "part1_calculate_T_pose",
        "A_pose_bvh_path",
        "load_motion_data",
        "A_pose_bvh_path",
        "i",
        "len",
        "A_joint_name",
        "A_joint_name",
        "i",
        "count",
        "A_joint_name",
        "i",
        "i",
        "count",
        "i",
        "A_motion_data",
        "shape",
        "joint",
        "T_joint_name",
        "A_joint_map",
        "joint",
        "joint",
        "data",
        "A_motion_data",
        "i",
        "joint",
        "R",
        "from_euler",
        "A_motion_data",
        "i",
        "index",
        "index",
        "degrees",
        "R",
        "from_euler",
        "degrees",
        "as_euler",
        "data",
        "Rot",
        "joint",
        "R",
        "from_euler",
        "A_motion_data",
        "i",
        "index",
        "index",
        "degrees",
        "R",
        "from_euler",
        "degrees",
        "as_euler",
        "data",
        "Rot",
        "joint",
        "data",
        "A_motion_data",
        "i",
        "index",
        "index",
        "motion_data",
        "append",
        "np",
        "array",
        "data",
        "reshape",
        "np",
        "concatenate",
        "motion_data",
        "axis",
        "motion_data"
    ],
    "literals": [
        "'r'",
        "'Frame Time'",
        "'r'",
        "'ROOT'",
        "'MOTION'",
        "'{'",
        "'}'",
        "'JOINT'",
        "'End'",
        "'_end'",
        "'OFFSET'",
        "'_end'",
        "'XYZ'",
        "'XYZ'",
        "'_end'",
        "'RootJoint'",
        "'lShoulder'",
        "'XYZ'",
        "'XYZ'",
        "'XYZ'",
        "'rShoulder'",
        "'XYZ'",
        "'XYZ'",
        "'XYZ'",
        "'_end'"
    ],
    "variables": [
        "lines",
        "motion_data",
        "data",
        "motion_data",
        "lines",
        "joint_name",
        "joint_parent",
        "joint_offset",
        "stack",
        "tmp_line",
        "joint_offset",
        "motion_channels_data",
        "root_position",
        "joint_local_rotation",
        "count",
        "joint_positions",
        "joint_orientations",
        "joint_orientation",
        "joint_position",
        "joint_orientation",
        "joint_position",
        "joint_positions",
        "joint_orientations",
        "T_joint_name",
        "_",
        "_",
        "A_joint_name",
        "_",
        "_",
        "A_motion_data",
        "A_joint_map",
        "count",
        "A_joint_map",
        "motion_data",
        "data",
        "index",
        "Rot",
        "Rot",
        "motion_data"
    ],
    "comments": [
        "file read",
        "using stack to track parent index for each joint",
        "it is a tree seq question",
        "parent index is joint_name[-1]",
        "align push and pop operation",
        "Transition data,  about channels position and channels rotations to index joint",
        "joint的局部旋转欧拉角",
        "末端关节补0",
        "Traverse list, parent node compute R finished before child node, so traverse list from start to end is OK",
        "设定root根关节 的旋转和位移信息",
        "align matrix dimension",
        "Qi = Qi-parent * bvh_channels_get_i_rotation",
        "Pi = Pi-parent + offset-i * Oi-parent.T ,  note: Raw Vector * transpose Right Rotation matrix",
        "T_joint_name , get A_joint_name for index with A_motion data",
        "get a hash index for motion data c.s.t joint_name",
        "for i in range(1): debug init pose. lShoulder add 0,0,-45, rShoulder add 0,0,45",
        "原本的关节 乘以 一个旋转四元数， 得到新的关节位置"
    ],
    "docstrings": [
        "\"\"\"part2 辅助函数，读取bvh文件\"\"\"",
        "\"\"\"请填写以下内容\n    输入： bvh 文件路径\n    输出:\n        joint_name: List[str]，字符串列表，包含着所有关节的名字\n        joint_parent: List[int]，整数列表，包含着所有关节的父关节的索引,根节点的父关节索引为-1\n        joint_offset: np.ndarray，形状为(M, 3)的numpy数组，包含着所有关节的偏移量\n\n    Tips:\n        joint_name顺序应该和bvh一致\n    \"\"\"",
        "\"\"\"请填写以下内容\n    输入: part1 获得的关节名字，父节点列表，偏移量列表\n        motion_data: np.ndarray，形状为(N,X)的numpy数组，其中N为帧数，X为Channel数\n        frame_id: int，需要返回的帧的索引\n    输出:\n        joint_positions: np.ndarray，形状为(M, 3)的numpy数组，包含着所有关节的全局位置\n        joint_orientations: np.ndarray，形状为(M, 4)的numpy数组，包含着所有关节的全局旋转(四元数)\n    Tips:\n        1. joint_orientations的四元数顺序为(x, y, z, w)\n    \"\"\"",
        "\"\"\"\n    将 A-pose的bvh重定向到T-pose上\n    输入: 两个bvh文件的路径\n    输出: \n        motion_data: np.ndarray，形状为(N,X)的numpy数组，其中N为帧数，X为Channel数。retarget后的运动数据\n    Tips:\n        两个bvh的joint name顺序可能不一致哦(\n    \"\"\""
    ],
    "functions": [
        "load_motion_data",
        "part1_calculate_T_pose",
        "part2_forward_kinematics",
        "part3_retarget_func"
    ],
    "classes": []
}