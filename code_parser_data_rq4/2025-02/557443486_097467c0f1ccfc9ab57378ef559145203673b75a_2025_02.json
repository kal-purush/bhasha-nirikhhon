{
    "identifiers": [
        "io",
        "numaproj",
        "numaflow",
        "mapstreamer",
        "akka",
        "actor",
        "AbstractActor",
        "akka",
        "actor",
        "ActorRef",
        "akka",
        "actor",
        "AllDeadLetters",
        "akka",
        "actor",
        "AllForOneStrategy",
        "akka",
        "actor",
        "Props",
        "akka",
        "actor",
        "SupervisorStrategy",
        "akka",
        "japi",
        "pf",
        "DeciderBuilder",
        "io",
        "grpc",
        "Status",
        "io",
        "grpc",
        "stub",
        "StreamObserver",
        "io",
        "numaproj",
        "numaflow",
        "v1",
        "MapOuterClass",
        "lombok",
        "slf4j",
        "Slf4j",
        "java",
        "util",
        "Optional",
        "java",
        "util",
        "concurrent",
        "CompletableFuture",
        "Slf4j",
        "mapStreamer",
        "responseObserver",
        "shutdownSignal",
        "activeMapStreamersCount",
        "userException",
        "mapStreamer",
        "responseObserver",
        "failureFuture",
        "mapStreamer",
        "mapStreamer",
        "responseObserver",
        "responseObserver",
        "shutdownSignal",
        "failureFuture",
        "userException",
        "activeMapStreamersCount",
        "mapStreamer",
        "responseObserver",
        "shutdownSignal",
        "Props",
        "create",
        "mapStreamer",
        "responseObserver",
        "shutdownSignal",
        "Override",
        "reason",
        "message",
        "getContext",
        "getSystem",
        "log",
        "warning",
        "reason",
        "getMessage",
        "shutdownSignal",
        "completeExceptionally",
        "reason",
        "responseObserver",
        "onError",
        "Status",
        "INTERNAL",
        "withDescription",
        "reason",
        "getMessage",
        "withCause",
        "reason",
        "asException",
        "deadLetter",
        "log",
        "error",
        "responseObserver",
        "onError",
        "Status",
        "INTERNAL",
        "withDescription",
        "asException",
        "getContext",
        "getSystem",
        "stop",
        "getSelf",
        "shutdownSignal",
        "completeExceptionally",
        "Override",
        "getContext",
        "getSystem",
        "log",
        "debug",
        "getSelf",
        "toString",
        "Override",
        "receiveBuilder",
        "match",
        "processRequest",
        "match",
        "sendResponse",
        "match",
        "handleFailure",
        "match",
        "handleDeadLetters",
        "build",
        "e",
        "getContext",
        "getSystem",
        "log",
        "error",
        "e",
        "userException",
        "userException",
        "e",
        "responseObserver",
        "onError",
        "Status",
        "INTERNAL",
        "withDescription",
        "e",
        "getMessage",
        "withCause",
        "e",
        "asException",
        "activeMapStreamersCount",
        "mapResponse",
        "responseObserver",
        "onNext",
        "mapResponse",
        "activeMapStreamersCount",
        "mapRequest",
        "userException",
        "getContext",
        "getSystem",
        "log",
        "info",
        "activeMapStreamersCount",
        "getContext",
        "getSystem",
        "log",
        "info",
        "getContext",
        "getSystem",
        "terminate",
        "shutdownSignal",
        "completeExceptionally",
        "userException",
        "mapStreamerActor",
        "getContext",
        "actorOf",
        "MapStreamerActor",
        "props",
        "mapStreamer",
        "mapStreamerActor",
        "tell",
        "mapRequest",
        "getSelf",
        "activeMapStreamersCount",
        "Override",
        "DeciderBuilder",
        "match",
        "e",
        "shutdownSignal",
        "completeExceptionally",
        "e",
        "responseObserver",
        "onError",
        "Status",
        "INTERNAL",
        "withDescription",
        "e",
        "getMessage",
        "withCause",
        "e",
        "asException",
        "SupervisorStrategy",
        "stop",
        "build"
    ],
    "literals": [
        "\"supervisor pre restart due to: {}\"",
        "\"got a dead letter, stopping the execution\"",
        "\"dead letters\"",
        "\"dead letters\"",
        "\"post stop - {}\"",
        "\"Encountered error in mapStreamFn\"",
        "\"Previous mapStreamer actor failed, not processing further requests\"",
        "\"No active mapStreamer actors, shutting down\""
    ],
    "variables": [
        "mapStreamer",
        "responseObserver",
        "shutdownSignal",
        "activeMapStreamersCount",
        "userException"
    ],
    "comments": [
        "if we see dead letters, we need to stop the execution and exit",
        "to make sure no messages are lost"
    ],
    "docstrings": [
        "* MapStreamSupervisorActor is responsible for managing MapStreamerActor instances and handling failures.\n * It creates a MapStreamerActor for each incoming MapRequest and listens to their responses.\n * <p>\n * MapStreamSupervisorActor\n * │\n * ├── Creates MapStreamerActor instances for each incoming MapRequest\n * │   │\n * │   ├── MapStreamerActor 1\n * │   │   ├── Processes MapRequest\n * │   │   ├── Sends results/errors to MapStreamSupervisorActor\n * │   │   └── Stops itself after processing\n * │   │\n * │   ├── MapStreamerActor 2\n * │   │   ├── Processes MapRequest\n * │   │   ├── Sends results/errors to MapStreamSupervisorActor\n * │   │   └── Stops itself after processing\n * │   │\n * ├── Listens to responses and errors from the MapStreamerActor instances➝➝\n * │   ├── On receiving a result, forwards it to the gRPC client via StreamObserver\n * │   ├── On error, forwards the error to the gRPC client and initiates shutdown\n * │\n * ├── Uses AllForOneStrategy for supervising children actors.\n * │   ├── On any MapStreamerActor failure, stops all child actors and resumes by restarting.\n * <p>\n * Note: After all the output messages are streamed to the client, we send an EOF message to\n * indicate the end of the stream to the client."
    ],
    "functions": [
        "MapStreamSupervisorActor",
        "Props",
        "props",
        "preRestart",
        "handleDeadLetters",
        "postStop",
        "Receive",
        "createReceive",
        "handleFailure",
        "sendResponse",
        "processRequest",
        "SupervisorStrategy",
        "supervisorStrategy"
    ],
    "classes": [
        "MapStreamSupervisorActor"
    ]
}