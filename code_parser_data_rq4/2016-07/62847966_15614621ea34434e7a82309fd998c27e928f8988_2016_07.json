{
    "identifiers": [
        "gzip",
        "json",
        "os",
        "sys",
        "time",
        "ftplib",
        "FTP_TLS",
        "host",
        "username",
        "password",
        "output_csv",
        "remote_dir",
        "local_working_dir",
        "local_dir",
        "logging",
        "host",
        "username",
        "password",
        "remote_dir",
        "local_working_dir",
        "local_dir",
        "os",
        "path",
        "exists",
        "local_working_dir",
        "os",
        "makedirs",
        "local_working_dir",
        "os",
        "path",
        "exists",
        "local_dir",
        "os",
        "makedirs",
        "local_dir",
        "output_csv",
        "output_csv",
        "os",
        "path",
        "split",
        "output_csv",
        "len",
        "csv_path",
        "os",
        "path",
        "exists",
        "csv_path",
        "os",
        "path",
        "makedirs",
        "csv_path",
        "os",
        "listdir",
        "local_working_dir",
        "logging",
        "csv",
        "CDRAttributes",
        "index",
        "date_field",
        "ftp_file_str",
        "ftp_file_str",
        "split",
        "file_attrs",
        "len",
        "file_attrs",
        "file_attrs",
        "len",
        "file_attrs",
        "name",
        "size",
        "file_line",
        "get_file_attrs",
        "file_line",
        "file_name",
        "stored_files_list",
        "logging",
        "format",
        "file_name",
        "needed_files",
        "append",
        "file_name",
        "os",
        "path",
        "getsize",
        "os",
        "path",
        "join",
        "local_working_dir",
        "file_name",
        "file_size",
        "file_size_on_disk",
        "logging",
        "format",
        "file_name",
        "file_size",
        "file_size_on_disk",
        "needed_files",
        "append",
        "file_name",
        "FTP_TLS",
        "hostname",
        "ftps",
        "login",
        "username",
        "password",
        "ftps",
        "prot_p",
        "ftps",
        "cwd",
        "remote_dir",
        "ftps",
        "retrlines",
        "ftp_list_callback",
        "needed_file",
        "needed_files",
        "logging",
        "format",
        "needed_file",
        "local_working_dir",
        "ftps",
        "retrbinary",
        "needed_file",
        "open",
        "os",
        "path",
        "join",
        "local_working_dir",
        "needed_file",
        "write",
        "logging",
        "needed_file",
        "needed_files",
        "needed_file",
        "endswith",
        "extract",
        "os",
        "path",
        "join",
        "local_working_dir",
        "needed_file",
        "needed_file",
        "replace",
        "parse",
        "txt_file_name",
        "logging",
        "ftps",
        "quit",
        "file_name",
        "file_name",
        "replace",
        "logging",
        "format",
        "file_name",
        "out_file_name",
        "gzip",
        "open",
        "file_name",
        "infile",
        "open",
        "out_file_name",
        "outfile",
        "line",
        "infile",
        "outfile",
        "write",
        "line",
        "file_name",
        "os",
        "path",
        "join",
        "local_working_dir",
        "file_name",
        "os",
        "path",
        "join",
        "local_dir",
        "file_name",
        "open",
        "parse_file_name",
        "f",
        "logging",
        "format",
        "file_name",
        "final_file_name",
        "line",
        "f",
        "line",
        "line",
        "split",
        "strip",
        "cdr_str",
        "len",
        "cdr_str",
        "json",
        "loads",
        "cdr_str",
        "CDRs",
        "append",
        "cdr_dict",
        "csv",
        "os",
        "path",
        "exists",
        "csv",
        "open",
        "csv",
        "csv",
        "CDRAttributes",
        "attr",
        "CDRAttributes",
        "write_str",
        "attr",
        "csv",
        "write",
        "write_str",
        "open",
        "final_file_name",
        "out_f",
        "cdr",
        "CDRs",
        "attr",
        "CDRAttributes",
        "cdr",
        "get",
        "attr",
        "attr",
        "tempDictionary",
        "update",
        "attr",
        "statusCodes",
        "get",
        "cdr",
        "attr",
        "cdr",
        "attr",
        "attr",
        "tempDictionary",
        "update",
        "attr",
        "responseCodes",
        "get",
        "cdr",
        "attr",
        "cdr",
        "attr",
        "tempDictionary",
        "update",
        "attr",
        "cdr",
        "attr",
        "tempDictionary",
        "date_field",
        "write_str",
        "json",
        "dumps",
        "tempDictionary",
        "out_f",
        "write",
        "write_str",
        "csv",
        "open",
        "csv",
        "csv_r",
        "csv_r",
        "readlines",
        "len",
        "lines",
        "lines",
        "last_line",
        "split",
        "last_line_list",
        "date_compare_index",
        "time",
        "strptime",
        "last_date",
        "tempDictionary",
        "get",
        "date_field",
        "time",
        "strptime",
        "tempDictionary",
        "date_field",
        "replace",
        "this_date_time",
        "this_date_time",
        "last_date_time",
        "open",
        "csv",
        "csv",
        "attr",
        "CDRAttributes",
        "csv_write_str",
        "tempDictionary",
        "get",
        "attr",
        "replace",
        "csv_write_str",
        "rstrip",
        "csv",
        "write",
        "csv_write_str",
        "raw_input",
        "raw_input",
        "len",
        "sys",
        "argv",
        "sys",
        "argv",
        "output_csv",
        "endswith",
        "output_csv",
        "DLRTool",
        "hostname",
        "username",
        "password",
        "output_csv",
        "username",
        "password",
        "dlr_tool",
        "sync"
    ],
    "literals": [
        "\"Delivered\"",
        "\"Bad or Unsupported Phone Number\"",
        "\"Carrier Error\"",
        "\"Gateway Error\"",
        "\"Exceeded Rate Limit\"",
        "\"Duplicate Message\"",
        "\"Blocked\"",
        "\"Unknown\"",
        "\"OK\"",
        "\"Bad Request\"",
        "\"Not Authorized\"",
        "\"Access Denied\"",
        "\"Not Found\"",
        "\"Method Not Allowed\"",
        "\"Unsupported Media Type\"",
        "\"Internal Server Error\"",
        "\"Service Unavailable\"",
        "\"User Unavailable\"",
        "\"Number Unsupported\"",
        "\"Request Terminated\"",
        "\"Delivered Successfully\"",
        "\"AccountID\"",
        "\"ApplicationId\"",
        "\"Called\"",
        "\"Caller\"",
        "\"Channel\"",
        "\"DateCreated\"",
        "\"DateUpdated\"",
        "\"DeliveryStatus\"",
        "\"Duration\"",
        "\"EndTime\"",
        "\"MessageBody\"",
        "\"Network\"",
        "\"ResponseCode\"",
        "\"SessionID\"",
        "\"StartTime\"",
        "\"Status\"",
        "\"StatusCode\"",
        "\"logs\"",
        "\"workinglogs\"",
        "\"parsedlogs\"",
        "\"DateCreated\"",
        "\"file {0} missing, adding to list\"",
        "\"file {0} FTP size {1} does not equal {2} size on disk, adding to list\"",
        "'LIST *.gz *.txt'",
        "\"Writing {0} to {1}...\"",
        "\"RETR \"",
        "'wb'",
        "\"done syncing files\"",
        "\".gz\"",
        "'.gz'",
        "''",
        "\"done extracting/parsing .gz files\"",
        "'.gz'",
        "''",
        "\"Extracting {0} to {1}...\"",
        "'rb'",
        "'w'",
        "'Parsing {0} and saving to {1}\"'",
        "\"Submitting CDR [text=\"",
        "\"Submitting CDR [text=\"",
        "\"call\"",
        "\"w\"",
        "\",\"",
        "\"\\n\"",
        "\"w\"",
        "\"StatusCode\"",
        "\"ResponseCode\"",
        "\" - \"",
        "\"\\n\"",
        "\"r\"",
        "','",
        "\"%a  %d %b %Y %H:%M:%S +0000\"",
        "\",\"",
        "\" \"",
        "\"%a  %d %b %Y %H:%M:%S +0000\"",
        "\"a\"",
        "\"\"",
        "\"\"",
        "\",\"",
        "\" \"",
        "\",\"",
        "','",
        "\"\\n\"",
        "\"__main__\"",
        "'ftp.tropo.com'",
        "\"Please enter your tropo.com username: \"",
        "\"Please enter your tropo.com password: \"",
        "\".csv\"",
        "\".csv\"",
        "\"\"",
        "\"\"",
        "\"Failed: password has not been set (use tropo.com password)\"",
        "\"Failed: username has not been set (use tropo.com username)\""
    ],
    "variables": [
        "statusCodes",
        "responseCodes",
        "CDRAttributes",
        "hostname",
        "username",
        "password",
        "remote_dir",
        "local_working_dir",
        "local_dir",
        "needed_files",
        "csv",
        "csv_path",
        "csv",
        "stored_files_list",
        "logging",
        "date_field",
        "date_compare_index",
        "date_compare_index",
        "file_attrs",
        "name",
        "size",
        "file_name",
        "file_size",
        "file_size_on_disk",
        "ftps",
        "txt_file_name",
        "out_file_name",
        "results",
        "CDRs",
        "parse_file_name",
        "final_file_name",
        "cdr_str",
        "cdr_str",
        "cdr_dict",
        "write_str",
        "tempDictionary",
        "write_str",
        "lines",
        "last_line",
        "last_line_list",
        "last_date",
        "last_date_time",
        "last_date_time",
        "this_date_time",
        "this_date_time",
        "csv_write_str",
        "csv_write_str",
        "hostname",
        "username",
        "password",
        "output_csv",
        "output_csv",
        "dlr_tool"
    ],
    "comments": [
        "Used for translating the provider's returned SMS status code to be human readable in the parsed txt files and CSV",
        "Used for translating the provider's returned SMS status code to be human readable in the parsed txt files and CSV",
        "This is not a complete HTTP response code list, can be updated.",
        "Less frequently desired attributes commented out below.",
        "\"ApplicationType\",",
        "\"BrowserIP\",",
        "\"CallID\",",
        "DO NOT REMOVE OR COMMENT OUT, \"DateCreated\" is used for CSV append comparison",
        "\"Flags\",",
        "\"ID\",",
        "\"MessageCount\",",
        "\"ParentCallID\",",
        "\"ParentSessionID\",",
        "\"PhoneNumberSid\",",
        "\"PPID\",",
        "\"ProviderID\",",
        "\"ProviderName\",",
        "\"RecordingDuration\",",
        "\"ServiceId\",",
        "\"SipSessionID\",",
        "\"StartUrl\",",
        "FTP hostname to download log files from, like \"ftp.tropo.com\"",
        "FTP username",
        "FTP password",
        "FTP remote working dir",
        "local directory where log files stored prior to processing",
        "Final parsed log file destination",
        "create the local directory if it does not exist",
        "create the local directory if it does not exist",
        "used to keep an ongoing csv file if the same filename and location are passed with each run",
        "Could potentially be DateUpdated, StartTime, EndTime",
        "let this fail for csvs if no date to compare",
        "return last item, which is the file name",
        "return fifth to last item, which is the file size in bytes",
        "connect to host, default port",
        "change into \"logs\" directory",
        "list directory contents",
        "if already a .txt file, this is unnceccessary but works.",
        "remove white space and new lines",
        "remove the last \"]\" char from the [text=, in order to make JSON",
        "If the CSV does not exist, need to create it and write the headers",
        "this will break if no CDR attributes exist, but that seems silly to handle for",
        ".get(cdr[attr]... will attempt to get pretty name, and use code if not found",
        ".get(cdr[attr]... will attempt to get pretty name, and use code if not found",
        "if it's more than just headers",
        "read the last line to compare times.",
        "this could probably be a little faster if handled in the previous loop",
        "remove trailing comma",
        "Can change to a string and set TROPO USERNAME HERE",
        "Can change to a string and set TROPO PASSWORD HERE",
        "user can enter a CSV file to output new logs to",
        "print output_csv"
    ],
    "docstrings": [
        "\"\"\"\n    This tool:\n        -downloads all .txt and .gz log files from FTP site (ftp.tropo.com)\n            *only if the file has updated/changed size since last download\n            *downloads to local_working_dir\n        -extracts the *.gz files, still in local_working_dir\n        -parses the .txt files for CDRs (DLRs)\n            *cleans the CDR for human readability \n        -writes the new parsed file to the local_dir\n        -optionally create a CSV file if passed in at command line:\n            *will create output.csv\n                python ftp_cdr_tool.py output.csv\n            *will create output.csv\n                python ftp_cdr_tool.py output\n            *will NOT create any csv\n                python ftp_cdr_tool.py\n    \"\"\"",
        "\"\"\"\n        Determines the FTP file name and file size from a\n        RETR command return line\n        \"\"\"",
        "\"\"\"\n        determines the needed_files from an FTP RETR command\n            -uses the FTP file size information\n            -compares against local file size on disk\n            -downloads and replaces file on disk if different.\n        \"\"\"",
        "\"\"\"\n        downloads all needed_files from self.hostname (FTP)\n        of the downloaded files, extracts .gz files to same local_working_dir\n            -using self.extract function\n        parses the .txt downloaded needed_files\n            -using the self.parse function\n        \"\"\"",
        "\"\"\"\n        Function extracts file_name with .gz extension into same directory as .gz file_name\n        \"\"\"",
        "\"\"\"\n        This function will parse all data in a specific prism log file entry and collect all CDRs for SMS messages and calls\n        \"\"\""
    ],
    "functions": [
        "get_file_attrs",
        "ftp_list_callback",
        "sync",
        "extract",
        "parse"
    ],
    "classes": [
        "DLRTool"
    ]
}