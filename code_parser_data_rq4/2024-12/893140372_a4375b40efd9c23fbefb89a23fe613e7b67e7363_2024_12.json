{
    "identifiers": [
        "numpy",
        "np",
        "os",
        "matplotlib",
        "pyplot",
        "plt",
        "input_dir",
        "num_users",
        "num_movies",
        "ignore_user_list",
        "ignore_user_list",
        "len",
        "ignore_user_list",
        "np",
        "zeros",
        "num_movies",
        "np",
        "zeros",
        "num_movies",
        "user_id",
        "num_users",
        "user_id",
        "ignore_user_list",
        "os",
        "path",
        "join",
        "input_dir",
        "user_id",
        "os",
        "path",
        "join",
        "input_dir",
        "user_id",
        "np",
        "load",
        "non_dp_path",
        "allow_pickle",
        "item",
        "np",
        "load",
        "dp_path",
        "allow_pickle",
        "item",
        "num_users",
        "n_ignore",
        "movie_id",
        "delta_non_dp",
        "aggregated_non_dp",
        "movie_id",
        "weight",
        "delta_non_dp",
        "movie_id",
        "aggregated_dp",
        "movie_id",
        "weight",
        "delta_dp",
        "movie_id",
        "aggregated_non_dp",
        "aggregated_dp",
        "aggregated_non_dp",
        "aggregated_dp",
        "num_movies",
        "np",
        "arange",
        "num_movies",
        "plt",
        "figure",
        "figsize",
        "plt",
        "style",
        "use",
        "plt",
        "plot",
        "x",
        "aggregated_non_dp",
        "color",
        "label",
        "lw",
        "plt",
        "plot",
        "x",
        "aggregated_dp",
        "color",
        "label",
        "lw",
        "movie_id",
        "num_movies",
        "plt",
        "axvline",
        "x",
        "movie_id",
        "color",
        "linestyle",
        "alpha",
        "plt",
        "text",
        "movie_id",
        "max",
        "max",
        "aggregated_non_dp",
        "max",
        "aggregated_dp",
        "movie_id",
        "fontsize",
        "color",
        "alpha",
        "ha",
        "bias_movie",
        "color",
        "label",
        "position",
        "plt",
        "axvline",
        "x",
        "bias_movie",
        "color",
        "color",
        "linestyle",
        "alpha",
        "label",
        "bias_movie",
        "label",
        "plt",
        "text",
        "bias_movie",
        "max",
        "aggregated_non_dp",
        "position",
        "label",
        "color",
        "color",
        "fontsize",
        "ha",
        "bbox",
        "boxstyle",
        "edgecolor",
        "color",
        "facecolor",
        "alpha",
        "plt",
        "title",
        "fontsize",
        "weight",
        "plt",
        "xlabel",
        "fontsize",
        "plt",
        "ylabel",
        "fontsize",
        "plt",
        "legend",
        "fontsize",
        "plt",
        "grid",
        "alpha",
        "plt",
        "tight_layout",
        "plt",
        "savefig",
        "dpi",
        "plt",
        "show",
        "input_dir",
        "num_users",
        "num_movies",
        "load_user_updates",
        "input_dir",
        "num_users",
        "num_movies",
        "ignore_user_list",
        "load_user_updates",
        "input_dir",
        "num_users",
        "num_movies",
        "ignore_user_list",
        "np",
        "arange",
        "num_movies",
        "plt",
        "style",
        "use",
        "plt",
        "subplots",
        "figsize",
        "sharex",
        "axes",
        "plot",
        "x",
        "aggregated_non_dp_all",
        "color",
        "label",
        "linewidth",
        "axes",
        "plot",
        "x",
        "aggregated_non_dp_ignore",
        "color",
        "label",
        "linestyle",
        "linewidth",
        "axes",
        "set_title",
        "fontsize",
        "weight",
        "axes",
        "set_ylabel",
        "fontsize",
        "axes",
        "legend",
        "fontsize",
        "loc",
        "axes",
        "grid",
        "alpha",
        "axes",
        "plot",
        "x",
        "aggregated_dp_all",
        "color",
        "label",
        "linewidth",
        "axes",
        "plot",
        "x",
        "aggregated_dp_ignore",
        "color",
        "label",
        "linestyle",
        "linewidth",
        "axes",
        "set_title",
        "fontsize",
        "weight",
        "axes",
        "set_xlabel",
        "fontsize",
        "axes",
        "set_ylabel",
        "fontsize",
        "axes",
        "legend",
        "fontsize",
        "loc",
        "axes",
        "grid",
        "alpha",
        "ax",
        "axes",
        "movie_id",
        "num_movies",
        "ax",
        "axvline",
        "x",
        "movie_id",
        "color",
        "linestyle",
        "alpha",
        "ax",
        "text",
        "movie_id",
        "max",
        "aggregated_non_dp_all",
        "movie_id",
        "fontsize",
        "color",
        "alpha",
        "ha",
        "plt",
        "suptitle",
        "num_users",
        "fontsize",
        "weight",
        "plt",
        "tight_layout",
        "rect",
        "plt",
        "savefig",
        "dpi",
        "plt",
        "show",
        "output_dir_epsilon1",
        "output_dir_epsilon10",
        "num_users",
        "num_movies",
        "load_user_updates",
        "output_dir_epsilon1",
        "num_users",
        "num_movies",
        "ignore_user_list",
        "load_user_updates",
        "output_dir_epsilon1",
        "num_users",
        "num_movies",
        "ignore_user_list",
        "load_user_updates",
        "output_dir_epsilon10",
        "num_users",
        "num_movies",
        "ignore_user_list",
        "load_user_updates",
        "output_dir_epsilon10",
        "num_users",
        "num_movies",
        "ignore_user_list",
        "np",
        "arange",
        "num_movies",
        "plt",
        "style",
        "use",
        "plt",
        "subplots",
        "figsize",
        "sharex",
        "axes",
        "plot",
        "x",
        "aggregated_non_dp_eps1",
        "color",
        "label",
        "linewidth",
        "axes",
        "plot",
        "x",
        "aggregated_non_dp_eps1_exclude",
        "color",
        "linestyle",
        "label",
        "linewidth",
        "axes",
        "set_title",
        "fontsize",
        "weight",
        "axes",
        "set_ylabel",
        "fontsize",
        "axes",
        "legend",
        "fontsize",
        "loc",
        "axes",
        "grid",
        "alpha",
        "axes",
        "plot",
        "x",
        "aggregated_dp_eps10",
        "color",
        "label",
        "linewidth",
        "axes",
        "plot",
        "x",
        "aggregated_dp_eps10_exclude",
        "color",
        "linestyle",
        "label",
        "linewidth",
        "axes",
        "set_title",
        "fontsize",
        "weight",
        "axes",
        "set_ylabel",
        "fontsize",
        "axes",
        "legend",
        "fontsize",
        "loc",
        "axes",
        "grid",
        "alpha",
        "axes",
        "plot",
        "x",
        "aggregated_dp_eps1",
        "color",
        "label",
        "linewidth",
        "axes",
        "plot",
        "x",
        "aggregated_dp_eps1_exclude",
        "color",
        "linestyle",
        "label",
        "linewidth",
        "axes",
        "set_title",
        "fontsize",
        "weight",
        "axes",
        "set_xlabel",
        "fontsize",
        "axes",
        "set_ylabel",
        "fontsize",
        "axes",
        "legend",
        "fontsize",
        "loc",
        "axes",
        "grid",
        "alpha",
        "ax",
        "axes",
        "movie_id",
        "num_movies",
        "ax",
        "axvline",
        "x",
        "movie_id",
        "color",
        "linestyle",
        "alpha",
        "ax",
        "text",
        "movie_id",
        "max",
        "aggregated_non_dp_eps1",
        "movie_id",
        "fontsize",
        "color",
        "alpha",
        "ha",
        "plt",
        "suptitle",
        "fontsize",
        "weight",
        "plt",
        "tight_layout",
        "rect",
        "plt",
        "savefig",
        "dpi",
        "plt",
        "show",
        "epsilon",
        "load_user_updates",
        "input_dir",
        "num_users",
        "num_movies",
        "ignore_user_list",
        "visualize_aggregates_comparison",
        "output_dir_epsilon1",
        "output_dir_epsilon10",
        "num_movies"
    ],
    "literals": [
        "f\"user_{user_id}_non_dp.npy\"",
        "f\"user_{user_id}_dp.npy\"",
        "'seaborn-v0_8-darkgrid'",
        "\"blue\"",
        "\"Non-DP Aggregate\"",
        "\"orange\"",
        "\"DP Aggregate\"",
        "\"gray\"",
        "\"--\"",
        "f\"{movie_id}\"",
        "\"gray\"",
        "\"center\"",
        "\"green\"",
        "\"Bias +\"",
        "\"red\"",
        "\"Bias -\"",
        "\"--\"",
        "f\"Movie {bias_movie+1} ({label})\"",
        "\"center\"",
        "\"round,pad=0.3\"",
        "\"white\"",
        "\"Non-DP vs DP Aggregated Updates Across Movies\"",
        "'bold'",
        "\"Movie ID\"",
        "\"Update Magnitude (Relative)\"",
        "\"demo/figures/demo_movies_aggregate.png\"",
        "'seaborn-v0_8-darkgrid'",
        "\"blue\"",
        "\"Non-DP (All Users)\"",
        "\"green\"",
        "\"Non-DP (Ignore User 0)\"",
        "\"--\"",
        "\"Non-DP Aggregates Comparison\"",
        "'bold'",
        "\"Update Magnitude\"",
        "\"upper left\"",
        "\"orange\"",
        "\"DP (All Users)\"",
        "\"red\"",
        "\"DP (Ignore User 0)\"",
        "\"--\"",
        "\"DP Aggregates Comparison\"",
        "'bold'",
        "\"Movie ID\"",
        "\"Update Magnitude\"",
        "\"upper left\"",
        "\"gray\"",
        "\"--\"",
        "f\"{movie_id}\"",
        "\"gray\"",
        "\"center\"",
        "f\"Comparison of Aggregated Updates Across Movies (Non-DP vs DP) - For first {num_users} Users\"",
        "'bold'",
        "\"demo/figures/demo_movies_aggregate_comparison.png\"",
        "'seaborn-v0_8-darkgrid'",
        "\"blue\"",
        "\"Non-DP (All Users)\"",
        "\"green\"",
        "\"--\"",
        "\"Non-DP (Excl. User 0)\"",
        "\"Non-DP Aggregates\"",
        "'bold'",
        "\"Update Magnitude\"",
        "\"upper left\"",
        "\"purple\"",
        "\"DP (Epsilon=10, All Users)\"",
        "\"brown\"",
        "\"--\"",
        "\"DP (Epsilon=10, Excl. User 0)\"",
        "\"DP Aggregates (Epsilon=10)\"",
        "'bold'",
        "\"Update Magnitude\"",
        "\"upper left\"",
        "\"orange\"",
        "\"DP (Epsilon=1, All Users)\"",
        "\"red\"",
        "\"--\"",
        "\"DP (Epsilon=1, Excl. User 0)\"",
        "\"DP Aggregates (Epsilon=1)\"",
        "'bold'",
        "\"Movie ID\"",
        "\"Update Magnitude\"",
        "\"upper left\"",
        "\"gray\"",
        "\"--\"",
        "f\"{movie_id}\"",
        "\"gray\"",
        "\"center\"",
        "\"Comparison of Aggregated Updates Across Epsilon Values (Non-DP vs DP)\"",
        "'bold'",
        "\"demo/figures/aggregates_comparison_across_epsilons_excl_user0.png\"",
        "\"__main__\"",
        "f\"demo/dp_ratings_results/epsilon={epsilon}\"",
        "\"Loading and aggregating user updates...\"",
        "\"Visualizing aggregated updates...\"",
        "\"Comparing aggregated updates...\"",
        "\"demo/dp_ratings_results/epsilon=1.0\"",
        "\"demo/dp_ratings_results/epsilon=10.0\""
    ],
    "variables": [
        "ignore_user_list",
        "n_ignore",
        "aggregated_non_dp",
        "aggregated_dp",
        "non_dp_path",
        "dp_path",
        "delta_non_dp",
        "delta_dp",
        "weight",
        "x",
        "aggregated_non_dp_all",
        "aggregated_dp_all",
        "aggregated_non_dp_ignore",
        "aggregated_dp_ignore",
        "x",
        "fig",
        "axes",
        "aggregated_non_dp_eps1",
        "aggregated_dp_eps1",
        "aggregated_non_dp_eps1_exclude",
        "aggregated_dp_eps1_exclude",
        "_",
        "aggregated_dp_eps10",
        "_",
        "aggregated_dp_eps10_exclude",
        "x",
        "fig",
        "axes",
        "epsilon",
        "num_movies",
        "num_users",
        "input_dir",
        "aggregated_non_dp",
        "aggregated_dp",
        "output_dir_epsilon1",
        "output_dir_epsilon10"
    ],
    "comments": [
        "Aggregator Script for Movie Ratings with Enhanced Visualization",
        "This script aggregates user updates (Non-DP and DP) and visualizes the results.",
        "Function to load user updates from files",
        "Initialize Non-DP aggregate",
        "Initialize DP aggregate",
        "Load updates for the current user",
        "Weight updates equally (can be customized)",
        "Function to visualize aggregated updates",
        "Movie indices",
        "Plot Non-DP and DP aggregates",
        "Highlight every 10th movie on the x-axis",
        "Vertical line",
        "Add specific annotations for biased movies (55 and 75)",
        "Add titles, labels, and legend",
        "Adjust layout and show the plot",
        "Function to visualize aggregated updates for both ignore lists",
        "Load aggregated updates for both cases",
        "Movie indices",
        "Plot Non-DP aggregates",
        "Plot DP aggregates",
        "Add vertical dashed lines for every 10th movie and concise labels for biased movies",
        "Add a global title and adjust layout",
        "Load aggregated updates for epsilon=1",
        "Load aggregated updates for epsilon=10",
        "Movie indices",
        "Plot Non-DP aggregates",
        "Plot DP aggregates for epsilon=10",
        "Plot DP aggregates for epsilon=1",
        "Add vertical dashed lines for every 10th movie for all subplots",
        "Add a global title and adjust layout",
        "Main execution",
        "Parameters",
        "Privacy budget",
        "Total number of movies",
        "Total number of users",
        "Directory containing user updates",
        "Step 1: Aggregate updates",
        "Step 2: Visualize aggregated updates",
        "visualize_aggregates(aggregated_non_dp, aggregated_dp, num_movies)",
        "Compare visualizations for different ignore lists",
        "visualize_comparison(input_dir, 10, num_movies)",
        "Compare aggregates across epsilons"
    ],
    "docstrings": [
        "\"\"\"\n    Load Non-DP and DP updates for all users.\n\n    Args:\n        input_dir (str): Directory containing user updates as .npy files.\n        num_users (int): Number of users to aggregate updates from.\n\n    Returns:\n        tuple: Aggregated Non-DP updates and DP updates as arrays.\n    \"\"\"",
        "\"\"\"\n    Visualize Non-DP vs DP aggregated updates across all movies.\n\n    Args:\n        aggregated_non_dp (np.array): Aggregated Non-DP updates.\n        aggregated_dp (np.array): Aggregated DP updates.\n        num_movies (int): Total number of movies for the x-axis.\n\n    Returns:\n        None\n    \"\"\"",
        "\"\"\"\n    Compare aggregated updates with different ignore lists.\n\n    Args:\n        input_dir (str): Directory containing user updates as .npy files.\n        num_users (int): Total number of users.\n        num_movies (int): Total number of movies.\n\n    Returns:\n        None\n    \"\"\"",
        "\"\"\"\n    Compare aggregated updates for Non-DP and DP (epsilon=1 vs epsilon=10),\n    including updates excluding user 0.\n\n    Args:\n        output_dir_epsilon1 (str): Directory containing user updates for epsilon=1.\n        output_dir_epsilon10 (str): Directory containing user updates for epsilon=10.\n        num_users (int): Total number of users.\n        num_movies (int): Total number of movies.\n\n    Returns:\n        None\n    \"\"\""
    ],
    "functions": [
        "load_user_updates",
        "visualize_aggregates",
        "visualize_comparison",
        "visualize_aggregates_comparison"
    ],
    "classes": []
}