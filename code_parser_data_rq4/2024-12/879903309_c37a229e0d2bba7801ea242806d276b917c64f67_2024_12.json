{
    "identifiers": [
        "express",
        "createServer",
        "Server",
        "Socket",
        "cors",
        "express",
        "app",
        "cors",
        "createServer",
        "app",
        "Server",
        "httpServer",
        "sleep",
        "ms",
        "resolve",
        "setTimeout",
        "resolve",
        "ms",
        "io",
        "socket",
        "connectedClients",
        "connectedClients",
        "socket",
        "message",
        "message",
        "message",
        "message",
        "message",
        "sleep",
        "socket",
        "response",
        "error",
        "error",
        "socket",
        "errorMessage",
        "socket",
        "reason",
        "connectedClients",
        "reason",
        "connectedClients",
        "socket",
        "error",
        "error",
        "process",
        "httpServer",
        "PORT",
        "PORT",
        "process",
        "handleServerShutdown",
        "process",
        "handleServerShutdown",
        "io",
        "process"
    ],
    "literals": [
        "\"express\"",
        "\"http\"",
        "\"socket.io\"",
        "\"cors\"",
        "string",
        "string",
        "\"incoming\"",
        "\"outgoing\"",
        "string",
        "\"http://localhost:3000\"",
        "\"GET\"",
        "\"POST\"",
        "\"connection\"",
        "New client connected. Total clients: ${connectedClients}",
        "\"message\"",
        "\"Received:\"",
        "received: ${message.manual} + \", \" + ${message.text}",
        "\"incoming\"",
        "\"message\"",
        "\"Error processing message:\"",
        "\"Error processing your message\"",
        "\"error\"",
        "\"incoming\"",
        "\"message\"",
        "\"disconnect\"",
        "Client disconnected. Reason: ${reason}",
        "Remaining clients: ${connectedClients}",
        "\"error\"",
        "\"Socket error:\"",
        "Socket.IO server is running on http://localhost:${PORT}",
        "\"SIGINT\"",
        "\"SIGTERM\"",
        "\"\\nShutting down Socket.IO server...\"",
        "\"Server closed successfully\""
    ],
    "variables": [
        "app",
        "httpServer",
        "io",
        "connectedClients",
        "sleep",
        "response",
        "errorMessage",
        "PORT"
    ],
    "comments": [
        "Define message interface",
        "Initialize express app",
        "Create HTTP server",
        "Initialize Socket.IO with CORS configuration",
        "Your Next.js app URL",
        "Add any additional Socket.IO configurations here",
        "Track connected clients count",
        "Socket.IO connection handling",
        "Send welcome message",
        "const welcomeMessage: Message = {",
        "text: \"Welcome to the Manual Reader Chat Bot!\",",
        "timestamp: new Date().toISOString(),",
        "type: \"incoming\",",
        "};",
        "socket.emit(\"message\", welcomeMessage);",
        "Handle incoming messages",
        "Create the response message",
        "Send the response back",
        "Send error message back to client",
        "Handle client disconnection",
        "Handle errors",
        "Start server",
        "Handle server shutdown gracefully",
        "Close all connections"
    ],
    "docstrings": [],
    "functions": [
        "handleServerShutdown"
    ],
    "classes": []
}