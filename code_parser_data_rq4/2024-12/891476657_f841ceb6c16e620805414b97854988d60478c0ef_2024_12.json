{
    "identifiers": [
        "Message",
        "Base",
        "onResultChange",
        "ApiError",
        "get",
        "modelConfig",
        "modelConfig",
        "Base",
        "options",
        "options",
        "rawMessages",
        "signal",
        "onResultChange",
        "rawMessages",
        "rawMessages",
        "msg",
        "rawMessages",
        "msg",
        "prompt",
        "msg",
        "msg",
        "msg",
        "newMessage",
        "msg",
        "messages",
        "newMessage",
        "url",
        "extraHeaders",
        "modelConfig",
        "modelConfig",
        "prompt",
        "messages",
        "signal",
        "response",
        "message",
        "message",
        "data",
        "ApiError",
        "data",
        "get",
        "data",
        "word",
        "result",
        "word",
        "onResultChange",
        "onResultChange",
        "result",
        "result",
        "m",
        "m",
        "a",
        "b",
        "a",
        "ret",
        "ret",
        "ret",
        "b",
        "ret",
        "msgs",
        "msg",
        "msgs",
        "msg",
        "system",
        "system",
        "msg",
        "system",
        "system",
        "msg",
        "msgs",
        "msg",
        "msg",
        "msg",
        "next",
        "next",
        "next",
        "msg",
        "next",
        "isFirstUserMsg",
        "msg",
        "msg",
        "line",
        "line",
        "msg",
        "quote",
        "next",
        "next",
        "msg",
        "next",
        "ret",
        "next",
        "isFirstUserMsg",
        "next",
        "msg",
        "next",
        "ret",
        "next",
        "ret",
        "ret",
        "ret",
        "ret"
    ],
    "literals": [
        "'src/shared/types'",
        "'./base'",
        "'./errors'",
        "'lodash'",
        "'claude-3-5-sonnet-latest'",
        "'claude-3-5-sonnet-20241022'",
        "'claude-3-5-sonnet-20240620'",
        "'claude-3-5-haiku-20241022'",
        "'claude-3-opus-20240229'",
        "'claude-3-sonnet-20240229'",
        "'claude-3-haiku-20240307'",
        "'claude-2.1'",
        "'claude-2.0'",
        "'claude-instant-1.2'",
        "string",
        "string",
        "'Claude'",
        "string",
        "''",
        "'system'",
        "'\\n'",
        "'text'",
        "${this.options.claudeApiHost}/v1/messages",
        "string",
        "string",
        "'Content-Type'",
        "'application/json'",
        "'anthropic-version'",
        "'2023-06-01'",
        "'x-api-key'",
        "''",
        "Error from Claude: ${JSON.stringify(data)}",
        "string",
        "'delta.text'",
        "''",
        "''",
        "''",
        "'\\n\\n'",
        "''",
        "'system'",
        "''",
        "'system'",
        "''",
        "'user'",
        "''",
        "'system'",
        "'assistant'",
        "'\\n'",
        "> ${line}",
        "'\\n'",
        "'\\n'",
        "'system'",
        "'user'",
        "'assistant'",
        "'user'",
        "string",
        "'text'",
        "'image'",
        "'base64'",
        "string",
        "string"
    ],
    "variables": [
        "modelConfig",
        "claudeModels",
        "prompt",
        "messages",
        "newMessage",
        "url",
        "extraHeaders",
        "response",
        "result",
        "data",
        "word",
        "ret",
        "system",
        "ret",
        "next",
        "isFirstUserMsg",
        "quote"
    ],
    "comments": [
        "https://docs.anthropic.com/claude/docs/models-overview",
        "Merge all system messages first",
        "Initialize the result array with the non-empty system message, if present",
        "Special handling for the first user message",
        "Skip the already processed system messages or empty messages",
        "Merge consecutive messages from the same role",
        "Merge all assistant messages as a quote block if constructing the first user message",
        "If not the first user message, add the current message to the result and start a new one",
        "Add the last message if it's not empty",
        "If there's only one system message, convert it to a user message"
    ],
    "docstrings": [],
    "functions": [
        "callChatCompletion",
        "isMessageEmpty",
        "mergeMessages",
        "sequenceMessages"
    ],
    "classes": [
        "Claude"
    ]
}