{
    "identifiers": [
        "org",
        "apache",
        "cassandra",
        "net",
        "java",
        "net",
        "InetAddress",
        "java",
        "net",
        "UnknownHostException",
        "java",
        "util",
        "java",
        "util",
        "java",
        "util",
        "concurrent",
        "BlockingQueue",
        "java",
        "util",
        "concurrent",
        "LinkedBlockingQueue",
        "java",
        "util",
        "concurrent",
        "atomic",
        "AtomicInteger",
        "org",
        "junit",
        "Before",
        "org",
        "junit",
        "BeforeClass",
        "org",
        "junit",
        "Test",
        "org",
        "apache",
        "cassandra",
        "io",
        "IVersionedSerializer",
        "org",
        "junit",
        "Assert",
        "assertEquals",
        "org",
        "junit",
        "Assert",
        "assertNull",
        "org",
        "junit",
        "Assert",
        "assertTrue",
        "org",
        "mockito",
        "ArgumentMatchers",
        "anyCollection",
        "org",
        "mockito",
        "ArgumentMatchers",
        "eq",
        "org",
        "mockito",
        "Mockito",
        "doReturn",
        "org",
        "mockito",
        "Mockito",
        "mock",
        "org",
        "mockito",
        "Mockito",
        "spy",
        "org",
        "mockito",
        "Mockito",
        "times",
        "org",
        "mockito",
        "Mockito",
        "verify",
        "connection",
        "pool",
        "TARGET",
        "mock",
        "QM1",
        "MessagingService",
        "Verb",
        "MUTATION",
        "QM2",
        "MessagingService",
        "Verb",
        "MUTATION",
        "QM3",
        "MessagingService",
        "Verb",
        "MUTATION",
        "BeforeClass",
        "pool",
        "mock",
        "doReturn",
        "InetAddress",
        "getLocalHost",
        "when",
        "pool",
        "endPoint",
        "Before",
        "connection",
        "spy",
        "pool",
        "MessagingService",
        "instance",
        "clearCallbacksUnsafe",
        "Test",
        "cb",
        "nonFailureCallback",
        "TARGET",
        "cb",
        "mock",
        "MessagingService",
        "instance",
        "setCallbackForTests",
        "QM1",
        "id",
        "nonFailureCallback",
        "connection",
        "invokeFailureCallback",
        "QM1",
        "assertEquals",
        "cb",
        "responses",
        "get",
        "Test",
        "assertNull",
        "MessagingService",
        "instance",
        "getRegisteredCallback",
        "QM1",
        "id",
        "connection",
        "invokeFailureCallback",
        "QM1",
        "Test",
        "cb",
        "registerFailureCallback",
        "QM1",
        "connection",
        "invokeFailureCallback",
        "QM1",
        "assertEquals",
        "cb",
        "responses",
        "get",
        "assertEquals",
        "cb",
        "failures",
        "get",
        "assertNull",
        "MessagingService",
        "instance",
        "getRegisteredCallback",
        "QM1",
        "id",
        "Test",
        "drained",
        "drained",
        "add",
        "QM1",
        "drained",
        "add",
        "QM2",
        "backlog",
        "backlog",
        "put",
        "QM3",
        "cb1",
        "registerFailureCallback",
        "QM1",
        "cb2",
        "registerFailureCallback",
        "QM2",
        "cb3",
        "registerFailureCallback",
        "QM3",
        "connection",
        "clearQueueWithFailureCallback",
        "drained",
        "backlog",
        "assertEquals",
        "cb1",
        "failures",
        "get",
        "assertEquals",
        "cb2",
        "failures",
        "get",
        "assertEquals",
        "cb3",
        "failures",
        "get",
        "assertTrue",
        "drained",
        "isEmpty",
        "assertTrue",
        "backlog",
        "isEmpty",
        "Test",
        "drained",
        "backlog",
        "spy",
        "backlog",
        "put",
        "QM1",
        "backlog",
        "put",
        "QM2",
        "backlog",
        "put",
        "QM3",
        "backlog",
        "put",
        "QM3",
        "backlog",
        "put",
        "QM3",
        "cb1",
        "registerFailureCallback",
        "QM1",
        "cb2",
        "registerFailureCallback",
        "QM2",
        "cb3",
        "registerFailureCallback",
        "QM3",
        "connection",
        "clearQueueWithFailureCallback",
        "drained",
        "backlog",
        "verify",
        "backlog",
        "times",
        "drainTo",
        "anyCollection",
        "eq",
        "verify",
        "backlog",
        "times",
        "drainTo",
        "anyCollection",
        "eq",
        "assertEquals",
        "cb1",
        "failures",
        "get",
        "assertEquals",
        "cb2",
        "failures",
        "get",
        "assertEquals",
        "cb3",
        "failures",
        "get",
        "assertTrue",
        "drained",
        "isEmpty",
        "assertTrue",
        "backlog",
        "isEmpty",
        "responses",
        "_msg",
        "responses",
        "incrementAndGet",
        "failures",
        "failures",
        "incrementAndGet",
        "qm",
        "cb",
        "MessagingService",
        "instance",
        "setCallbackForTests",
        "qm",
        "id",
        "TARGET",
        "cb",
        "mock",
        "cb"
    ],
    "literals": [
        "\"test\""
    ],
    "variables": [
        "connection",
        "pool"
    ],
    "comments": [
        "With enough elements remaining, drain the buffer size",
        "Last call, don't take more off the backlog than needed from when we first called clearQueueWithFailureCallback"
    ],
    "docstrings": [
        "* Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License."
    ],
    "functions": [
        "beforeClass",
        "before",
        "invokeFailureCallback_ignoresNonFailureCallbacks",
        "invokeFailureCallback_handlesExpiredCallback",
        "invokeFailureCallback_runsCallback",
        "clearQueueWithFailureCallback_handlesInProgressDrainedList",
        "clearQueueWithFailureCallback_clearsLargeBacklog",
        "response",
        "isLatencyForSnitch",
        "onFailure",
        "TestFailureCallback",
        "registerFailureCallback"
    ],
    "classes": [
        "OutboundTcpConnectionTest",
        "TestCallback",
        "TestFailureCallback"
    ]
}