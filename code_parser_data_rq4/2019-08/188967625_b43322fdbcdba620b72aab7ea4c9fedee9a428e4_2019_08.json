{
    "identifiers": [
        "Microsoft",
        "Extensions",
        "Logging",
        "Microsoft",
        "Extensions",
        "Options",
        "Nssol",
        "Platypus",
        "DataAccess",
        "Core",
        "Nssol",
        "Platypus",
        "DataAccess",
        "Repositories",
        "Interfaces",
        "TenantRepositories",
        "Nssol",
        "Platypus",
        "Infrastructure",
        "Nssol",
        "Platypus",
        "Infrastructure",
        "Options",
        "Nssol",
        "Platypus",
        "Infrastructure",
        "Types",
        "Nssol",
        "Platypus",
        "Models",
        "TenantModels",
        "Nssol",
        "Platypus",
        "Services",
        "Interfaces",
        "Linq",
        "Nssol",
        "Platypus",
        "Logic",
        "HostedService",
        "HostedServiceTimerBase",
        "INotebookHistoryRepository",
        "notebookHistoryRepository",
        "IClusterManagementService",
        "clusterManagementService",
        "IUnitOfWork",
        "unitOfWork",
        "IOptions",
        "ContainerManageOptions",
        "containerManageOptions",
        "IOptions",
        "DeleteNotebookContainerTimerOptions",
        "deleteNotebookContainerTimerOptions",
        "ILogger",
        "DeleteTensorBoardContainerTimer",
        "logger",
        "logger",
        "deleteNotebookContainerTimerOptions",
        "Value",
        "notebookHistoryRepository",
        "notebookHistoryRepository",
        "clusterManagementService",
        "clusterManagementService",
        "unitOfWork",
        "unitOfWork",
        "kubernetesToken",
        "containerManageOptions",
        "Value",
        "ResourceManageKey",
        "IsNullOrEmpty",
        "kubernetesToken",
        "LogError",
        "ret",
        "ret",
        "state",
        "doWorkCount",
        "LogInfo",
        "doWorkCount",
        "notebookHistoryRepository",
        "GetAllIncludeTenantAsync",
        "Result",
        "notebookHistories",
        "Count",
        "LogInfo",
        "NotebookHistory",
        "notebookHistory",
        "notebookHistories",
        "notebookHistory",
        "GetStatus",
        "Exist",
        "notebookHistory",
        "ExpiresIn",
        "Now",
        "Ticks",
        "notebookHistory",
        "StartedAt",
        "HasValue",
        "notebookHistory",
        "StartedAt",
        "Value",
        "Ticks",
        "TimeSpan",
        "elapsedTicks",
        "elapsedSpan",
        "TotalSeconds",
        "notebookHistory",
        "ExpiresIn",
        "clusterManagementService",
        "DeleteContainerAsync",
        "ContainerType",
        "Notebook",
        "notebookHistory",
        "Key",
        "notebookHistory",
        "Tenant",
        "Name",
        "kubernetesToken",
        "Result",
        "destroyResult",
        "deleteContainerCount",
        "e",
        "LogError",
        "e",
        "Message",
        "notebookHistoryRepository",
        "UpdateStatusAsync",
        "notebookHistory",
        "Id",
        "ContainerStatus",
        "Killed",
        "Now",
        "dbUpdateCount",
        "unitOfWork",
        "Commit",
        "dbUpdateCount",
        "deleteContainerCount",
        "LogInfo",
        "dbUpdateCount",
        "deleteContainerCount",
        "LogWarn",
        "dbUpdateCount",
        "deleteContainerCount",
        "e",
        "LogError",
        "e",
        "Message"
    ],
    "literals": [
        "\"kubernetes のトークンが設定されていません。\"",
        "\"テーブル NotebookHistories にレコードは1つも存在しませんでした。\""
    ],
    "variables": [
        "INotebookHistoryRepository",
        "notebookHistoryRepository",
        "IClusterManagementService",
        "clusterManagementService",
        "IUnitOfWork",
        "unitOfWork",
        "kubernetesToken",
        "ret",
        "notebookHistories",
        "dbUpdateCount",
        "deleteContainerCount",
        "elapsedTicks",
        "TimeSpan",
        "elapsedSpan",
        "destroyResult"
    ],
    "comments": [
        "テーブル NotebookHistories の生存期間を超えている実行中レコードと、それに対応する kubernetes 上の実コンテナを削除するタイマーです。",
        "</summary>",
        "DI で注入されるオブジェクト類",
        "kubernetes の token (環境変数、または launchSettings.json で設定)",
        "</summary>",
        "コンストラクタで各 DI オブジェクトを引数で受け取ります。",
        "</summary>",
        "各 DI オブジェクトの設定",
        "kubernetes の token",
        "タイマーとして各種データが設定されているかをチェックします。",
        "もし、false を返却したならタイマーが生成されません。",
        "</summary>",
        "テーブル NotebookHistories の生存期間を超えている実行中レコードと、対応する kubernetes 上の実コンテナを削除するメソッドです。",
        "</summary>",
        "テーブル NotebookHistories の全レコードを取得",
        "レコードが1件も存在しなければ終了",
        "テーブル NotebookHistories の更新したレコード数をカウントする変数",
        "削除した kubernetes 上の実コンテナ数をカウントする変数",
        "実行中コンテナか、生存期間が設定されているかチェック（生存期間が0の場合はコンテナ削除の対象にしない）",
        "経過時間を取得",
        "生存期間内かチェック",
        "生存期間を超えている場合、kubernetes 上の実コンテナを削除する",
        "実際に削除対応したならカウントアップ",
        "何らかの例外をキャッチしたが ERROR ログを出力して処理を継続",
        "テーブル NotebookHistories のレコードのステータスをKilledに更新",
        "テーブル NotebookHistories のステータス更新レコードをコミット",
        "テーブル NotebookHistories の更新レコード数と、対応する kubernetes 上の実コンテナ削除数が同じ(データ数が正常に一致)",
        "何らかの理由で更新数と削除数が一致していなかった場合 (致命的な問題ではないので WARN ログとする)",
        "DB 系での削除操作などで例外をキャッチしたが ERROR ログを出力して処理を継続"
    ],
    "docstrings": [
        "<summary>",
        "<summary>",
        "<summary>",
        "<summary>",
        "<summary>"
    ],
    "functions": [
        "DeleteNotebookContainerTimer",
        "isValid",
        "DoWork"
    ],
    "classes": [
        "DeleteNotebookContainerTimer"
    ]
}