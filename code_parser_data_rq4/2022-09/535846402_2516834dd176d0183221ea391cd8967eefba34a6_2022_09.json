{
    "identifiers": [
        "navigator",
        "navigator",
        "navigator",
        "navigator",
        "devices",
        "devices",
        "device",
        "device",
        "constraints",
        "device",
        "initializeVideo",
        "err",
        "err",
        "err",
        "video",
        "width",
        "video",
        "height",
        "video",
        "context",
        "canvas",
        "graphCanvas",
        "graphContext",
        "graphCanvas",
        "bpm",
        "navigator",
        "constraints",
        "startStream",
        "stream",
        "video",
        "stream",
        "video",
        "requestAnimationFrame",
        "draw",
        "readFrame",
        "frame",
        "getRate",
        "frame",
        "requestAnimationFrame",
        "draw",
        "context",
        "video",
        "width",
        "height",
        "e",
        "context",
        "width",
        "height",
        "data",
        "data",
        "j",
        "len",
        "i",
        "j",
        "r",
        "data",
        "j",
        "g",
        "data",
        "j",
        "b",
        "data",
        "j",
        "r",
        "g",
        "cmax",
        "r",
        "g",
        "b",
        "cmax",
        "g",
        "cmax",
        "b",
        "v",
        "cmax",
        "sum",
        "v",
        "data",
        "j",
        "cntred",
        "per",
        "cntred",
        "len",
        "per",
        "per",
        "redthreshold",
        "clearTimeout",
        "timer",
        "arr",
        "msgtryagain",
        "arr",
        "sum",
        "len",
        "plotGraph",
        "snap",
        "data",
        "arr",
        "arrg",
        "graphCanvas",
        "arrg",
        "arrg",
        "arrg",
        "arrg",
        "arrg",
        "v",
        "v",
        "max",
        "max",
        "v",
        "v",
        "min",
        "min",
        "v",
        "ctx",
        "graphCanvas",
        "graphCanvas",
        "ctx",
        "ctx",
        "ctx",
        "arrg",
        "v",
        "x",
        "graphCanvas",
        "v",
        "min",
        "max",
        "min",
        "ctx",
        "x",
        "y",
        "ctx",
        "arr",
        "i",
        "arr",
        "i",
        "flag",
        "i",
        "j",
        "i",
        "j",
        "arr",
        "j",
        "arr",
        "i",
        "flag",
        "i",
        "j",
        "i",
        "j",
        "len",
        "j",
        "arr",
        "j",
        "arr",
        "i",
        "flag",
        "flag",
        "arrpeaks",
        "arr",
        "i",
        "arr",
        "i",
        "peakcount",
        "i",
        "arrpeaks",
        "arrpeaks",
        "arrpeaks",
        "arr",
        "peakcount",
        "timediff",
        "Fs",
        "bpm",
        "bpm",
        "bpm",
        "bpm",
        "bpm",
        "msgtryagain",
        "msgtryagain",
        "arr",
        "addEventListener",
        "initialize"
    ],
    "literals": [
        "\"videoinput\"",
        "\"on\"",
        "\": \"",
        "\"video\"",
        "\"canvasvideo\"",
        "\"2d\"",
        "\"g\"",
        "\"2d\"",
        "\"bpm\"",
        "\"Please try again...\"",
        "\"btnsnap\"",
        "\"hdnOn\"",
        "\"hdnOn\"",
        "\"bpmFinal\"",
        "\"btnsnap\"",
        "'gx'",
        "\"hdnGraphColor\"",
        "\"bpmFinal\"",
        "' BPM '",
        "\"bpmFinal\"",
        "\"bpmFinal\"",
        "\"bpmFinal\"",
        "\"DOMContentLoaded\""
    ],
    "variables": [
        "video",
        "width",
        "height",
        "context",
        "graphCanvas",
        "graphContext",
        "bpm",
        "arr",
        "constraints",
        "canvas",
        "frame",
        "snap",
        "msgtryagain",
        "len",
        "sum",
        "redthreshold",
        "cntred",
        "per",
        "i",
        "j",
        "arrg",
        "max",
        "min",
        "ctx",
        "graphContext",
        "y",
        "len",
        "peakcount",
        "flag",
        "arrpeaks",
        "i",
        "j",
        "j",
        "timediff",
        "Fs",
        "bpm"
    ],
    "comments": [
        "&& constraints.video===true",
        "for(c=0,i=0;i<snap.length;i+=4) {if(snap[i]>200) c++;}",
        "t = snap.length/4;",
        "per = c/t;",
        "calculate rgb to hsv and get v value",
        "var arrg = [...arr];",
        "max and min",
        "draw",
        "ctx.strokeStyle = \"#FF0000\";",
        "alert(len);",
        "for(var i=21;i<arr.length-18;i++){\n\t\t  \n\t\t  flag = 1;\n\t\t  for(var j = i-20;j<i;j++) {\n\t\t\t  if(arr[j].s > arr[i].s) flag = 0;\t\t  \n\t\t  }\n\t\t  for(var j = i+1;j<i+16 && j<len;j++) {\n\t\t\t  if(arr[j].s >= arr[i].s) flag = 0;\t\t  \n\t\t  }  \n\t\t  \n\t\t  if(flag == 1){\n\t\t\t  arrpeaks.push({s:arr[i].s, time:arr[i].time});\n\t\t\t  peakcount++;\n\t\t\t  i+=16;\n\t\t  }\n\t\t  \n\t  }",
        "per second",
        "timediff = (arrpeaks[arrpeaks.length-1].time-arrpeaks[0].time)/1000;\n\t\t  var bpm2 = Math.round((peakcount/timediff)*60)\n\n\t\t  timediff = (arr[arr.length-1].time-arrpeaks[0].time)/1000;\n\t\t  var bpm3 = Math.round((peakcount/timediff)*60)\n\n\t\t  var bpm4 = Math.round(peakcount*6)",
        "document.getElementById(\"bpmFinal\").innerHTML = bpm +' BPM ' + bpm2 +' BPM2 ' + bpm3 +' BPM3 ' + bpm4 +' BPM4 ' + peakcount+ ' ' + len;",
        "document.getElementById(\"bpmFinal\").innerHTML='p:' + peakcount.toFixed(0);",
        "document.getElementById(\"bpmFinal\").innerHTML= (peakcount*6).toFixed(0)+' BPM';"
    ],
    "docstrings": [],
    "functions": [
        "initialize",
        "initializeVideo",
        "startStream",
        "draw",
        "readFrame",
        "getRate",
        "plotGraph",
        "getPulse"
    ],
    "classes": []
}