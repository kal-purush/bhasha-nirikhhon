{
    "identifiers": [
        "Newtonsoft",
        "Json",
        "Collections",
        "Concurrent",
        "Collections",
        "Generic",
        "Text",
        "Threading",
        "Threading",
        "Tasks",
        "Opc",
        "Ua",
        "Publisher",
        "Opc",
        "Ua",
        "Workarounds",
        "TraceWorkaround",
        "Program",
        "ConcurrentQueue",
        "OpcUaMessage",
        "maxSizeOfIoTHubMessageBytes",
        "defaultSendIntervalSeconds",
        "_maxSizeOfIoTHubMessageBytes",
        "maxSizeOfIoTHubMessageBytes",
        "_defaultSendIntervalSeconds",
        "defaultSendIntervalSeconds",
        "_sendQueue",
        "ConcurrentQueue",
        "_messageList",
        "OpcUaMessage",
        "_currentSizeOfIotHubMessageBytes",
        "_dequeueAndSendTask",
        "_tokenSource",
        "CancellationTokenSource",
        "Trace",
        "_dequeueAndSendTask",
        "Run",
        "DeQueueMessagesAsync",
        "_tokenSource",
        "Token",
        "_tokenSource",
        "Token",
        "e",
        "Trace",
        "e",
        "ToString",
        "_tokenSource",
        "Cancel",
        "_dequeueAndSendTask",
        "Wait",
        "e",
        "Trace",
        "e",
        "json",
        "_sendQueue",
        "Enqueue",
        "json",
        "CancellationToken",
        "ct",
        "_defaultSendIntervalSeconds",
        "sendTimer",
        "Timer",
        "SendToIoTHubAsync",
        "_defaultSendIntervalSeconds",
        "ct",
        "IsCancellationRequested",
        "Trace",
        "_sendQueue",
        "Count",
        "sendTimer",
        "sendTimer",
        "Dispose",
        "SendToIoTHubAsync",
        "_sendQueue",
        "Count",
        "Empty",
        "isPeekSuccessful",
        "_sendQueue",
        "TryPeek",
        "messageInJson",
        "isPeekSuccessful",
        "nextMessageSizeBytes",
        "Encoding",
        "UTF8",
        "GetByteCount",
        "messageInJson",
        "_currentSizeOfIotHubMessageBytes",
        "nextMessageSizeBytes",
        "_maxSizeOfIoTHubMessageBytes",
        "isDequeueSuccessful",
        "_sendQueue",
        "TryDequeue",
        "messageInJson",
        "isDequeueSuccessful",
        "JsonConvert",
        "DeserializeObject",
        "OpcUaMessage",
        "messageInJson",
        "_messageList",
        "Add",
        "msgPayload",
        "_currentSizeOfIotHubMessageBytes",
        "_currentSizeOfIotHubMessageBytes",
        "nextMessageSizeBytes",
        "SendToIoTHubAsync",
        "e",
        "Trace",
        "e",
        "_messageList",
        "Count",
        "JsonConvert",
        "SerializeObject",
        "_messageList",
        "Microsoft",
        "Azure",
        "Devices",
        "Client",
        "Message",
        "Encoding",
        "UTF8",
        "GetBytes",
        "msgListInJson",
        "encodedMessage",
        "Properties",
        "Add",
        "encodedMessage",
        "Properties",
        "Add",
        "ApplicationName",
        "IotHubClient",
        "IotHubClient",
        "SendEventAsync",
        "encodedMessage",
        "Trace",
        "e",
        "Trace",
        "e",
        "_currentSizeOfIotHubMessageBytes",
        "_messageList",
        "Clear"
    ],
    "literals": [
        "\"Creating task to send OPC UA messages in batches to IoT Hub...\"",
        "\"Exception: \"",
        "\"Failure while shutting down IoTHub messaging.\"",
        "\"Error while dequeuing messages.\"",
        "\"content-type\"",
        "\"application/opcua+uajson\"",
        "\"deviceName\"",
        "\"No IoTHub client available \"",
        "\"Exception while sending message to IoTHub. Dropping...\""
    ],
    "variables": [
        "ApplicationUri",
        "DisplayName",
        "NodeId",
        "OpcUaValue",
        "Value",
        "Value",
        "SourceTimestamp",
        "_sendQueue",
        "_currentSizeOfIotHubMessageBytes",
        "_messageList",
        "_maxSizeOfIoTHubMessageBytes",
        "_defaultSendIntervalSeconds",
        "CancellationTokenSource",
        "_tokenSource",
        "_dequeueAndSendTask",
        "Timer",
        "sendTimer",
        "isPeekSuccessful",
        "isDequeueSuccessful",
        "messageInJson",
        "nextMessageSizeBytes",
        "OpcUaMessage",
        "msgPayload",
        "msgListInJson",
        "encodedMessage"
    ],
    "comments": [
        "start up task to send telemetry to IoTHub.",
        "send cancellation token and wait for last IoT Hub message to be sent.",
        "",
        "Enqueue a message.",
        "",
        "Dequeue messages",
        "</summary>",
        "send every x seconds, regardless if IoT Hub message is full.",
        "perform a TryPeek to determine size of next message",
        "and whether it will fit. If so, dequeue message and add it to the list.",
        "if it cannot fit, send current message to IoTHub, reset it, and repeat.",
        "get size of next message in the queue",
        "determine if it will fit into remaining space of the IoTHub message.",
        "if so, dequeue it",
        "add dequeued message to list",
        "message is full. send it to IoTHub",
        "Send dequeued messages to IoT Hub",
        "</summary>",
        "publish",
        "reset IoTHub message size"
    ],
    "docstrings": [
        "<summary>",
        "<summary>"
    ],
    "functions": [
        "IotHubMessaging",
        "Shutdown",
        "Enqueue",
        "DeQueueMessagesAsync",
        "SendToIoTHubAsync"
    ],
    "classes": [
        "IotHubMessaging",
        "OpcUaMessage",
        "OpcUaValue"
    ]
}