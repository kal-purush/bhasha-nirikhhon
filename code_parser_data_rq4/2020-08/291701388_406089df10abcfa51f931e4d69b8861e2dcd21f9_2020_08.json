{
    "identifiers": [
        "fs",
        "sh",
        "tmp",
        "test",
        "process",
        "test",
        "t",
        "connectionString",
        "t",
        "sh",
        "Buffer",
        "connectionString",
        "tmp",
        "fs",
        "tmpFile",
        "deployYaml",
        "base64ConStr",
        "sh",
        "defaultNamespace",
        "t",
        "sh",
        "tmpFile",
        "defaultNamespace",
        "test",
        "t",
        "sh",
        "defaultNamespace",
        "t",
        "replicaCount",
        "test",
        "t",
        "tmp",
        "fs",
        "tmpFile",
        "scaledObjectYaml",
        "t",
        "sh",
        "tmpFile",
        "defaultNamespace",
        "test",
        "t",
        "i",
        "replicaCount",
        "i",
        "replicaCount",
        "sh",
        "defaultNamespace",
        "replicaCount",
        "sh",
        "t",
        "replicaCount",
        "t",
        "sh",
        "defaultNamespace",
        "i",
        "replicaCount",
        "i",
        "replicaCount",
        "sh",
        "defaultNamespace",
        "replicaCount",
        "sh",
        "t",
        "replicaCount",
        "test",
        "t",
        "resource",
        "resources",
        "sh",
        "resource",
        "defaultNamespace",
        "sh",
        "defaultNamespace",
        "t"
    ],
    "literals": [
        "'fs'",
        "'shelljs'",
        "'tmp'",
        "'ava'",
        "'azure-queue-restore-original-replicas-test'",
        "'TEST_STORAGE_CONNECTION_STRING'",
        "'TEST_STORAGE_CONNECTION_STRING environment variable is required for queue tests'",
        "'base64'",
        "'{{CONNECTION_STRING_BASE64}}'",
        "kubectl create namespace ${defaultNamespace}",
        "kubectl apply -f ${tmpFile.name} --namespace ${defaultNamespace}",
        "'creating a deployment should work.'",
        "'Deployment should have 2 replicas on start'",
        "kubectl get deployment.apps/test-deployment --namespace ${defaultNamespace} -o jsonpath=\"{.spec.replicas}\"",
        "'2'",
        "'replica count should start out as 2'",
        "'Creating ScaledObject should work'",
        "kubectl apply -f ${tmpFile.name} --namespace ${defaultNamespace}",
        "'creating a ScaledObject should work.'",
        "'Deployment should scale to 0 and then shold be back to 2 after deletion of ScaledObject'",
        "'100'",
        "'0'",
        "kubectl get deployment.apps/test-deployment --namespace ${defaultNamespace} -o jsonpath=\"{.spec.replicas}\"",
        "'0'",
        "'sleep 5s'",
        "'0'",
        "'Replica count should be 0'",
        "kubectl delete scaledobject.keda.sh/test-scaledobject --namespace ${defaultNamespace}",
        "'deletion of ScaledObject should work.'",
        "'2'",
        "kubectl get deployment.apps/test-deployment --namespace ${defaultNamespace} -o jsonpath=\"{.spec.replicas}\"",
        "'2'",
        "'sleep 5s'",
        "'2'",
        "'Replica count should be back at orignal 2'",
        "'clean up azure-queue deployment'",
        "'secret/test-secrets'",
        "'deployment.apps/test-deployment'",
        "'scaledobject.keda.sh/test-scaledobject'",
        "kubectl delete ${resource} --namespace ${defaultNamespace}",
        "kubectl delete namespace ${defaultNamespace}",
        "apiVersion: v1\nkind: Secret\nmetadata:\n  name: test-secrets\n  labels:\ndata:\n  AzureWebJobsStorage: {{CONNECTION_STRING_BASE64}}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: test-deployment\n  labels:\n    app: test-deployment\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: test-deployment\n  template:\n    metadata:\n      name:\n      namespace:\n      labels:\n        app: test-deployment\n    spec:\n      containers:\n      - name: test-deployment\n        image: ahmelsayed/queue-consumer:latest\n        resources:\n        ports:\n        env:\n        - name: FUNCTIONS_WORKER_RUNTIME\n          value: node\n        - name: AzureWebJobsStorage\n          valueFrom:\n            secretKeyRef:\n              name: test-secrets\n              key: AzureWebJobsStorage",
        "apiVersion: keda.sh/v1alpha1\nkind: ScaledObject\nmetadata:\n  name: test-scaledobject\nspec:\n  advanced:\n    restoreToOriginalReplicaCount: true\n  scaleTargetRef:\n    name: test-deployment\n  pollingInterval: 5\n  maxReplicaCount: 4\n  cooldownPeriod: 10\n  triggers:\n  - type: azure-queue\n    metadata:\n      queueName: queue-name\n      connection: AzureWebJobsStorage"
    ],
    "variables": [
        "defaultNamespace",
        "connectionString",
        "base64ConStr",
        "tmpFile",
        "replicaCount",
        "tmpFile",
        "replicaCount",
        "i",
        "i",
        "resources",
        "deployYaml",
        "scaledObjectYaml"
    ],
    "comments": [],
    "docstrings": [],
    "functions": [],
    "classes": []
}