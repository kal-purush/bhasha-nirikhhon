{
    "identifiers": [
        "com",
        "cs633",
        "team4",
        "clouddatamanagementsystem",
        "controller",
        "com",
        "cs633",
        "team4",
        "clouddatamanagementsystem",
        "model",
        "File",
        "com",
        "cs633",
        "team4",
        "clouddatamanagementsystem",
        "model",
        "Image",
        "com",
        "cs633",
        "team4",
        "clouddatamanagementsystem",
        "model",
        "User",
        "com",
        "cs633",
        "team4",
        "clouddatamanagementsystem",
        "service",
        "FileService",
        "com",
        "cs633",
        "team4",
        "clouddatamanagementsystem",
        "service",
        "ImageService",
        "com",
        "cs633",
        "team4",
        "clouddatamanagementsystem",
        "service",
        "UserService",
        "org",
        "springframework",
        "http",
        "HttpHeaders",
        "org",
        "springframework",
        "http",
        "MediaType",
        "org",
        "springframework",
        "http",
        "ResponseEntity",
        "org",
        "springframework",
        "security",
        "core",
        "Authentication",
        "org",
        "springframework",
        "stereotype",
        "Controller",
        "org",
        "springframework",
        "ui",
        "Model",
        "org",
        "springframework",
        "web",
        "bind",
        "annotation",
        "org",
        "springframework",
        "web",
        "multipart",
        "MultipartFile",
        "java",
        "io",
        "Controller",
        "RequestMapping",
        "userService",
        "imageService",
        "userService",
        "imageService",
        "userService",
        "userService",
        "imageService",
        "imageService",
        "PostMapping",
        "RequestParam",
        "file",
        "auth",
        "model",
        "file",
        "isEmpty",
        "model",
        "addAttribute",
        "model",
        "addAttribute",
        "file",
        "getSize",
        "model",
        "addAttribute",
        "model",
        "addAttribute",
        "user",
        "userService",
        "getUser",
        "auth",
        "getName",
        "newFile",
        "file",
        "getOriginalFilename",
        "file",
        "getContentType",
        "toString",
        "file",
        "getSize",
        "file",
        "getBytes",
        "user",
        "getUserId",
        "imageService",
        "addImage",
        "newFile",
        "model",
        "addAttribute",
        "model",
        "addAttribute",
        "e",
        "model",
        "addAttribute",
        "model",
        "addAttribute",
        "GetMapping",
        "PathVariable",
        "imageId",
        "model",
        "imageService",
        "deleteImage",
        "imageId",
        "model",
        "addAttribute",
        "model",
        "addAttribute",
        "e",
        "model",
        "addAttribute",
        "model",
        "addAttribute",
        "GetMapping",
        "PathVariable",
        "imageId",
        "image",
        "imageService",
        "getImage",
        "imageId",
        "ResponseEntity",
        "ok",
        "contentType",
        "MediaType",
        "parseMediaType",
        "image",
        "getContentType",
        "header",
        "HttpHeaders",
        "CONTENT_DISPOSITION",
        "image",
        "getImageName",
        "body",
        "image",
        "getImageData"
    ],
    "literals": [
        "\"/image\"",
        "\"/upload\"",
        "\"imageUpload\"",
        "\"error\"",
        "\"message\"",
        "\"No image is selected. Please select a file to upload.\"",
        "\"result\"",
        "\"error\"",
        "\"message\"",
        "\"Image size is too large. Please don't exceed 10MB.\"",
        "\"result\"",
        "\"success\"",
        "\"message\"",
        "\"Upload image successfully!\"",
        "\"error\"",
        "\"message\"",
        "\"Something wrong when uploading file. Please try again.\"",
        "\"result\"",
        "\"/delete/{imageId}\"",
        "\"delete\"",
        "\"message\"",
        "\"Delete image successfully!\"",
        "\"error\"",
        "\"message\"",
        "\"Something wrong when deleting image.\"",
        "\"result\"",
        "\"/view/{imageId}\"",
        "\"attachment; filename=\\\"\"",
        "\"\\\"\""
    ],
    "variables": [
        "userService",
        "imageService"
    ],
    "comments": [
        "check if file is selected",
        "check if file size is no larger than 10MB",
        "throw new MaxUploadSizeExceededException(file.getSize());",
        "// check if file name exits",
        "if (!imageService.isImageNameAvailable(file.getOriginalFilename())) {",
        "model.addAttribute(\"error\", true);",
        "model.addAttribute(\"message\", \"Image with the same name already exists.\");",
        "return \"result\";",
        "}",
        "upload file",
        "@PathVariable is used to handle template variables in the request URI mapping, and set them as method parameters.",
        "",
        "ResponseEntity represents the whole HTTP response: status code, headers, and body.",
        "Use it to fully configure the HTTP response.",
        "set custom contentType, header, and body",
        "replace \"attachment\" with \"inline\" if view image in new browser tab instead of download image directly"
    ],
    "docstrings": [
        "* Handle front-end calls, identify home.html template served for image request and populate view model with data."
    ],
    "functions": [
        "ImageController",
        "uploadImage",
        "deleteImage",
        "ResponseEntity",
        "viewImage"
    ],
    "classes": [
        "ImageController"
    ]
}