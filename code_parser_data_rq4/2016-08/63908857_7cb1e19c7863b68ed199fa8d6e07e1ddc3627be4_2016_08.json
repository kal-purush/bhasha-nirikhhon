{
    "identifiers": [
        "xdb",
        "com",
        "wiredtiger",
        "db",
        "java",
        "nio",
        "java",
        "io",
        "org",
        "apache",
        "logging",
        "log4j",
        "Logger",
        "org",
        "apache",
        "logging",
        "log4j",
        "LogManager",
        "java",
        "util",
        "java",
        "util",
        "stream",
        "java",
        "util",
        "concurrent",
        "java",
        "time",
        "java",
        "util",
        "concurrent",
        "atomic",
        "AtomicInteger",
        "log",
        "LogManager",
        "getLogger",
        "v1",
        "v2",
        "v1",
        "v2",
        "t",
        "c",
        "v1",
        "compareTo",
        "t",
        "v1",
        "c",
        "c",
        "v2",
        "compareTo",
        "t",
        "v2",
        "v1",
        "v2",
        "v1",
        "v1",
        "v2",
        "v2",
        "v1",
        "hashCode",
        "v2",
        "hashCode",
        "o",
        "o",
        "t",
        "o",
        "v1",
        "equals",
        "t",
        "v1",
        "v2",
        "equals",
        "t",
        "v2",
        "v1",
        "toString",
        "v2",
        "toString",
        "Tuple",
        "v1",
        "v2",
        "v1",
        "v2",
        "host",
        "metric",
        "ts",
        "val",
        "host",
        "metric",
        "ts",
        "val",
        "host",
        "host",
        "metric",
        "metric",
        "ts",
        "ts",
        "val",
        "val",
        "ts",
        "host",
        "metric",
        "host",
        "metric",
        "ts",
        "host",
        "metric",
        "host",
        "metric",
        "ts",
        "rnd",
        "metrics",
        "hosts",
        "numhosts",
        "nummetrics",
        "hosts",
        "numhosts",
        "metrics",
        "nummetrics",
        "i",
        "i",
        "numhosts",
        "i",
        "hosts",
        "i",
        "i",
        "i",
        "i",
        "nummetrics",
        "i",
        "metrics",
        "i",
        "i",
        "rnd",
        "numhosts",
        "nummetrics",
        "salt",
        "hosts",
        "rnd",
        "nextInt",
        "hosts",
        "length",
        "metrics",
        "rnd",
        "nextInt",
        "metrics",
        "length",
        "Instant",
        "now",
        "toEpochMilli",
        "salt",
        "ts",
        "ts",
        "dir",
        "ret",
        "d",
        "dir",
        "d",
        "exists",
        "d",
        "isFile",
        "ret",
        "d",
        "mkdirs",
        "ret",
        "count",
        "count",
        "count",
        "count",
        "id",
        "currentThread",
        "getId",
        "log",
        "info",
        "id",
        "session",
        "conn",
        "open_session",
        "session",
        "create",
        "table",
        "storage",
        "batch",
        "total",
        "producer",
        "c",
        "session",
        "open_cursor",
        "table",
        "stop",
        "currentThread",
        "sleep",
        "id",
        "ex",
        "done",
        "i",
        "i",
        "batch",
        "i",
        "evt",
        "producer",
        "getNextEvent",
        "id",
        "c",
        "putKeyLong",
        "evt",
        "ts",
        "c",
        "putKeyString",
        "evt",
        "host",
        "c",
        "putKeyString",
        "evt",
        "metric",
        "c",
        "putValueByteArray",
        "evt",
        "val",
        "c",
        "insert",
        "done",
        "batch",
        "count",
        "e",
        "log",
        "info",
        "done",
        "counter",
        "addAndGet",
        "batch",
        "total",
        "batch",
        "total",
        "log",
        "info",
        "total",
        "c",
        "close",
        "session",
        "close",
        "log",
        "info",
        "counter",
        "get",
        "session",
        "session",
        "conn",
        "open_session",
        "session",
        "create",
        "table",
        "storage",
        "interval",
        "stop",
        "currentThread",
        "sleep",
        "interval",
        "ex",
        "start",
        "stop",
        "done",
        "session",
        "snapshot",
        "evt1",
        "EventFactory",
        "getStartEvent",
        "mc",
        "session",
        "open_cursor",
        "table",
        "mc",
        "putKeyLong",
        "evt1",
        "ts",
        "mc",
        "putKeyString",
        "evt1",
        "host",
        "mc",
        "putKeyString",
        "evt1",
        "metric",
        "mc",
        "putValueByteArray",
        "evt1",
        "val",
        "mc",
        "insert",
        "evt2",
        "EventFactory",
        "getEndEvent",
        "past",
        "interval",
        "mc",
        "putKeyLong",
        "evt2",
        "ts",
        "mc",
        "putKeyString",
        "evt2",
        "host",
        "mc",
        "putKeyString",
        "evt2",
        "metric",
        "mc",
        "putValueByteArray",
        "evt2",
        "val",
        "mc",
        "insert",
        "mc",
        "close",
        "start",
        "session",
        "open_cursor",
        "table",
        "start",
        "putKeyLong",
        "evt1",
        "ts",
        "start",
        "putKeyString",
        "evt1",
        "host",
        "start",
        "putKeyString",
        "evt1",
        "metric",
        "start",
        "putValueByteArray",
        "evt1",
        "val",
        "r1",
        "start",
        "search",
        "stop",
        "session",
        "open_cursor",
        "table",
        "stop",
        "putKeyLong",
        "evt2",
        "ts",
        "stop",
        "putKeyString",
        "evt2",
        "host",
        "stop",
        "putKeyString",
        "evt2",
        "metric",
        "stop",
        "putValueByteArray",
        "evt2",
        "val",
        "r2",
        "stop",
        "search",
        "r1",
        "r2",
        "nd",
        "log",
        "info",
        "start",
        "next",
        "ts",
        "start",
        "getKeyLong",
        "host",
        "start",
        "getKeyString",
        "metric",
        "start",
        "getKeyString",
        "ts",
        "evt2",
        "ts",
        "host",
        "evt2",
        "host",
        "metric",
        "evt2",
        "metric",
        "start",
        "putKeyLong",
        "ts",
        "start",
        "putKeyString",
        "host",
        "start",
        "putKeyString",
        "metric",
        "start",
        "remove",
        "nd",
        "log",
        "info",
        "nd",
        "done",
        "e",
        "log",
        "info",
        "start",
        "start",
        "close",
        "stop",
        "stop",
        "close",
        "done",
        "session",
        "snapshot",
        "ttlstopped",
        "log",
        "info",
        "seconds",
        "Instant",
        "now",
        "toEpochMilli",
        "seconds",
        "rnd",
        "interval",
        "rnd",
        "interval",
        "evts",
        "log",
        "info",
        "interval",
        "evts",
        "stream",
        "collect",
        "Collectors",
        "groupingBy",
        "evt",
        "Tuple",
        "evt",
        "host",
        "evt",
        "metric",
        "Collectors",
        "counting",
        "entrySet",
        "stream",
        "sorted",
        "Comparator",
        "comparing",
        "Entry",
        "getKey",
        "collect",
        "Collectors",
        "toList",
        "size",
        "ret",
        "session",
        "conn",
        "open_session",
        "session",
        "create",
        "table",
        "storage",
        "stop",
        "currentThread",
        "sleep",
        "rnd",
        "nextInt",
        "ex",
        "c",
        "evts",
        "session",
        "snapshot",
        "c",
        "session",
        "open_cursor",
        "table",
        "ts",
        "past",
        "c",
        "putKeyLong",
        "ts",
        "status",
        "c",
        "search_near",
        "status",
        "NOTFOUND",
        "SMALLER",
        "FOUND",
        "LARGER",
        "evts",
        "add",
        "c",
        "getKeyLong",
        "c",
        "getKeyString",
        "c",
        "getKeyString",
        "c",
        "next",
        "e",
        "log",
        "info",
        "e",
        "log",
        "info",
        "e",
        "c",
        "c",
        "close",
        "session",
        "snapshot",
        "evts",
        "size",
        "report",
        "evts",
        "session",
        "close",
        "stop",
        "ttlstopped",
        "db",
        "table",
        "cols",
        "storage",
        "cols",
        "tnx",
        "ttl",
        "ttlindex",
        "ttlcol",
        "tsindex",
        "tscol",
        "counter",
        "checkDir",
        "db",
        "conn",
        "wiredtiger",
        "open",
        "db",
        "conn",
        "args",
        "init",
        "count",
        "pn",
        "rn",
        "i",
        "i",
        "pn",
        "i",
        "count",
        "pn",
        "start",
        "i",
        "i",
        "rn",
        "i",
        "start",
        "c1",
        "counter",
        "get",
        "currentThread",
        "sleep",
        "ex",
        "c2",
        "counter",
        "get",
        "c2",
        "count",
        "stop",
        "log",
        "info",
        "c2",
        "c1",
        "c2",
        "count",
        "log",
        "info",
        "counter",
        "get",
        "session",
        "conn",
        "open_session",
        "session",
        "create",
        "table",
        "storage",
        "currentThread",
        "sleep",
        "ex",
        "log",
        "info",
        "session",
        "compact",
        "table",
        "session",
        "drop",
        "table",
        "conn",
        "close"
    ],
    "literals": [
        "\"#\"",
        "\"#\"",
        "\"#\"",
        "\"host\"",
        "\"metric\"",
        "\"zzzz\"",
        "\"zzzz\"",
        "\"zzzz\"",
        "\"zzzz\"",
        "\"ingestor starts {}\"",
        "\"ingestor roll back\"",
        "\"total {}\"",
        "\"ingestor ends {}\"",
        "\"name=past\"",
        "\"start delete\"",
        "\"delete {}\"",
        "\"ttl monitor roll back\"",
        "\"drop=(all)\"",
        "\"TTL scanning ends \"",
        "\"For the past {} seconds, select count(*) from events group by host, metric rows = {}\"",
        "\"name=past\"",
        "\"analyst roll back\"",
        "\"analyst {}\"",
        "\"drop=(all)\"",
        "\"./tsdb\"",
        "\"table:metrics\"",
        "\"columns=(ts,host,metric,val)\"",
        "\"type=lsm,key_format=qSS,value_format=u,\"",
        "\"isolation=snapshot\"",
        "\"index:metrics:ttl\"",
        "\"columns=(ttl)\"",
        "\"index:metrics:ts\"",
        "\"columns=(ts)\"",
        "\"create,statistics=(all),statistics_log=(wait=10)\"",
        "\"evts processed {} {}/{}\"",
        "\"counter={}\"",
        "\"THE END\""
    ],
    "variables": [
        "v1",
        "v2",
        "host",
        "metric",
        "ts",
        "val",
        "rnd",
        "metrics",
        "hosts",
        "count",
        "session",
        "rnd",
        "interval",
        "ret",
        "conn"
    ],
    "comments": [
        "session.begin_transaction(tnx);",
        "session.rollback_transaction(tnx);",
        "session.commit_transaction(null);",
        "session.begin_transaction(tnx);",
        "session.commit_transaction(null);",
        "session.rollback_transaction(tnx);",
        "log.info(\"no data points\");",
        "log.info(\"beyond time horizon {}\", (ts-c.getKeyLong())/1000.0);",
        "new Thread(new TTLMonitor()).start();"
    ],
    "docstrings": [
        "f(r1==0 && r2==0) {\n            int ret = session.truncate(null, start, stop, null);\n            log.info(\"truncate ret {} for the past {} seconds \", ret, (stop.getKeyLong() - start.getKeyLong())/1000);\n          } else {\n            log.info(\"not found\");\n            }"
    ],
    "functions": [
        "T1",
        "v1",
        "T2",
        "v2",
        "compareTo",
        "Tuple2",
        "hashCode",
        "equals",
        "toString",
        "Event",
        "Event",
        "getHost",
        "getMetric",
        "toString",
        "EventFactory",
        "Event",
        "getNextEvent",
        "Event",
        "getStartEvent",
        "Event",
        "getEndEvent",
        "checkDir",
        "Ingestor",
        "run",
        "TTLMonitor",
        "run",
        "past",
        "Analyst",
        "report",
        "run",
        "init",
        "main"
    ],
    "classes": [
        "TimeSeriesDB3",
        "Tuple2",
        "Event",
        "EventFactory",
        "Ingestor",
        "TTLMonitor",
        "Analyst"
    ]
}