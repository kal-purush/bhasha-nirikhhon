{
    "identifiers": [
        "math",
        "datetime",
        "dt",
        "pprint",
        "pprint",
        "PrettyPrinter",
        "indent",
        "fulldata",
        "len",
        "fulldata",
        "ValueError",
        "i",
        "i",
        "docs",
        "extend",
        "fulldata",
        "fulldata",
        "keys",
        "uid",
        "fulldata",
        "uid",
        "distanceFunctions",
        "fulldata",
        "uid",
        "docs",
        "addInitDot",
        "DFInfo",
        "fulldata",
        "uid",
        "lines",
        "fulldata",
        "uid",
        "DFInfo",
        "docs",
        "lastLineToDot",
        "DFInfo",
        "LineInfo",
        "DFInfo",
        "LineInfo",
        "dUsrResult",
        "fulldata",
        "userdata",
        "docs",
        "userdata",
        "entry",
        "userdata",
        "entry",
        "entry",
        "entry",
        "bGotGO",
        "ValueError",
        "GOnDFPairs",
        "append",
        "currGO",
        "entry",
        "bGotGO",
        "len",
        "lLayouts",
        "len",
        "GOnDFPairs",
        "ValueError",
        "userdata",
        "deltaSeconds",
        "starttime",
        "pair",
        "lLayouts",
        "i",
        "i",
        "best10TermsText",
        "pair",
        "docs",
        "i",
        "pair",
        "GOnDFPairs",
        "PP",
        "pprint",
        "x",
        "x",
        "x",
        "DFInfo",
        "info",
        "info",
        "DFInfo",
        "PP",
        "pprint",
        "x",
        "x",
        "x",
        "DFInfo",
        "DFInfo",
        "userdata",
        "DFInfo",
        "docs",
        "x",
        "x",
        "DFInfo",
        "lLayouts",
        "userdata",
        "newLineInfo",
        "starttime",
        "iEntry",
        "entry",
        "userdata",
        "entry",
        "starttime",
        "entry",
        "lineInfo",
        "lastTime",
        "lLineInfo",
        "append",
        "lineInfo",
        "newLineInfo",
        "entry",
        "entry",
        "entry",
        "entry",
        "entry",
        "entry",
        "bSeenUndo",
        "bSeenReset",
        "lastTime",
        "lLineInfo",
        "append",
        "lineInfo",
        "newLineInfo",
        "entry",
        "entry",
        "bSeenReset",
        "lastTime",
        "lLineInfo",
        "append",
        "lineInfo",
        "newLineInfo",
        "entry",
        "entry",
        "lineInfo",
        "append",
        "entry",
        "entry",
        "termsList",
        "e",
        "e",
        "entry",
        "userdata",
        "lineInfo",
        "append",
        "newEntry",
        "entry",
        "termsList",
        "e",
        "e",
        "entry",
        "userdata",
        "termsList",
        "e",
        "e",
        "entry",
        "userdata",
        "lineInfo",
        "append",
        "newEntry",
        "entry",
        "entry",
        "addRead",
        "addRead",
        "lineInfo",
        "union",
        "addRead",
        "lastTime",
        "timeDuration",
        "lastTime",
        "addRead",
        "seconds",
        "readDeltaT",
        "lineInfo",
        "union",
        "addRead",
        "entry",
        "lineInfo",
        "lastTime",
        "lastTime",
        "lLineInfo",
        "append",
        "lineInfo",
        "line",
        "lLineInfo",
        "line",
        "line",
        "iEntry",
        "entry",
        "userdata",
        "entry",
        "line",
        "entry",
        "line",
        "setObs",
        "union",
        "entry",
        "keys",
        "setObs",
        "line",
        "timeDuration",
        "line",
        "line",
        "line",
        "duration",
        "termsList",
        "line",
        "userdata",
        "line",
        "line",
        "line",
        "iLine",
        "line",
        "lLineInfo",
        "textLineInfo",
        "line",
        "lLayouts",
        "idxStartLayout",
        "line",
        "lLayouts",
        "idxLastStart",
        "idxLastStart",
        "line",
        "lLayouts",
        "lLayouts",
        "idxEndLayout",
        "idxStartLayout",
        "idxEndLayout",
        "idxEndLayout",
        "visLines",
        "append",
        "lineStart",
        "lineStart",
        "lineEnd",
        "lineEnd",
        "info",
        "len",
        "info",
        "split",
        "split",
        "line",
        "line",
        "visLines",
        "append",
        "textLineInfo",
        "lLineInfo",
        "len",
        "info",
        "split",
        "split",
        "visLines",
        "t1",
        "t2",
        "dt",
        "datetime",
        "dt",
        "datetime",
        "dt1",
        "replace",
        "hour",
        "t1",
        "hour",
        "minute",
        "t1",
        "minute",
        "second",
        "t1",
        "second",
        "dt2",
        "replace",
        "hour",
        "t2",
        "hour",
        "minute",
        "t2",
        "minute",
        "second",
        "t2",
        "second",
        "dt2",
        "dt1",
        "DFInfo",
        "LineInfo",
        "DFInfo",
        "lastDFI",
        "lastDFI",
        "lastDFI",
        "LineInfo",
        "LineInfo",
        "LineInfo",
        "LineInfo",
        "DFInfo",
        "initLayoutPt",
        "initLayoutPt",
        "DFInfo",
        "time1",
        "time2",
        "dt",
        "datetime",
        "time1",
        "hour",
        "time1",
        "minute",
        "time1",
        "second",
        "dt",
        "datetime",
        "time2",
        "hour",
        "time2",
        "minute",
        "time2",
        "second",
        "dt2",
        "dt1",
        "total_seconds",
        "L",
        "docs",
        "len",
        "L",
        "abs",
        "L",
        "decorated",
        "sort",
        "key",
        "x",
        "x",
        "decorated",
        "join",
        "docs",
        "i",
        "i",
        "idxs",
        "lIdxs",
        "lTerms",
        "join",
        "lTerms",
        "idx",
        "idx",
        "lIdxs"
    ],
    "literals": [
        "\"Called aggregate data without data!\"",
        "\"doc\"",
        "'terms'",
        "\"processing user: \"",
        "'initLayoutPoint'",
        "'DFs'",
        "'lines'",
        "'layouts'",
        "\"\"",
        "'logs'",
        "\"GO\"",
        "\"DF\"",
        "\"DF without GO!\"",
        "\"..no DF after GO\"",
        "\"different number of layouts and GOnDF pairs\"",
        "'observations'",
        "'starttime'",
        "\"<br>DF Number: \"",
        "\" <br /><br> <u>Top 10 Keywords</u>: <br>\"",
        "\"..DFS pre filter:\"",
        "\"..DFS post filter:\"",
        "\"lLayouts\"",
        "'observations'",
        "'starttime'",
        "'read'",
        "'undo'",
        "'reset'",
        "'search'",
        "'GOs'",
        "'obs'",
        "'tStart'",
        "'tEnd'",
        "'tStart'",
        "'logs'",
        "'DF'",
        "'tEnd'",
        "'tEnd'",
        "'tStart'",
        "'DOC'",
        "'UNDO'",
        "'undo'",
        "'tEnd'",
        "'tStart'",
        "'RESET'",
        "'reset'",
        "'tEnd'",
        "'tStart'",
        "'SEARCH'",
        "'search'",
        "'GO1'",
        "'terms1'",
        "'terms'",
        "'GOs'",
        "'GO2'",
        "'terms1'",
        "'terms'",
        "'terms2'",
        "'terms'",
        "'GOs'",
        "'GO'",
        "'tEnd'",
        "'MOUSE'",
        "'read'",
        "'read'",
        "'read'",
        "'read'",
        "\"setting lineinfo \"",
        "'tEnd'",
        "\" to \"",
        "'tEnd'",
        "\".. processing line: \"",
        "'tStart'",
        "\" to \"",
        "'tEnd'",
        "'observations'",
        "'insights'",
        "'time'",
        "'tStart'",
        "'time'",
        "'tEnd'",
        "'insights'",
        "'obs'",
        "'tStart'",
        "'tEnd'",
        "\"<u>From</u> \"",
        "'tStart'",
        "\" <u>for</u> \"",
        "\"<br />\"",
        "\"<u>Read</u>: \"",
        "'read'",
        "'terms'",
        "\"<br />\"",
        "\"<u>Searches</u>: \"",
        "'search'",
        "\"<br />\"",
        "\"<u>GOs</u>: \"",
        "'GOs'",
        "\"<br />\"",
        "\"<u>obs</u>: \"",
        "'obs'",
        "'undo'",
        "'reset'",
        "'x1'",
        "'y1'",
        "'x2'",
        "'y2'",
        "'info'",
        "'count'",
        "'<br />'",
        "','",
        "'backward'",
        "'reset'",
        "'undo'",
        "'x1'",
        "'y1'",
        "'x2'",
        "'y2'",
        "'info'",
        "'count'",
        "'<br />'",
        "','",
        "'backward'",
        "\"<hr>\"",
        "'info'",
        "'x2'",
        "'y2'",
        "\"ALERT: NOT LAST 0 LINE\"",
        "\"Starting...\"",
        "\"<br />\"",
        "\", \""
    ],
    "variables": [
        "PP",
        "docs",
        "dUsrResult",
        "DFInfo",
        "DFInfo",
        "LineInfo",
        "LineInfo",
        "dUsrResult",
        "uid",
        "lLayouts",
        "GOnDFPairs",
        "bGotGO",
        "currGO",
        "currGO",
        "bGotGO",
        "bGotGO",
        "bGotGO",
        "starttime",
        "DFInfo",
        "DFInfo",
        "readDeltaT",
        "lLayouts",
        "starttime",
        "lLineInfo",
        "lineInfo",
        "lineInfo",
        "lastTime",
        "bSeenUndo",
        "bSeenReset",
        "bPastStarttime",
        "addRead",
        "lineInfo",
        "lineInfo",
        "lineInfo",
        "bSeenUndo",
        "bSeenReset",
        "addRead",
        "lineInfo",
        "lineInfo",
        "lineInfo",
        "lineInfo",
        "bSeenUndo",
        "lineInfo",
        "lineInfo",
        "lineInfo",
        "lineInfo",
        "bSeenReset",
        "bSeenUndo",
        "newEntry",
        "newEntry",
        "newEntry",
        "newEntry",
        "newEntry",
        "lineInfo",
        "lineInfo",
        "lineInfo",
        "addRead",
        "lastTime",
        "lineInfo",
        "setObs",
        "setObs",
        "line",
        "idxStartLayout",
        "idxEndLayout",
        "idxLastStart",
        "visLines",
        "duration",
        "info",
        "lineStart",
        "lineEnd",
        "lineEnd",
        "idxStartLayout",
        "lineEnd",
        "idxStartLayout",
        "idxLastStart",
        "lineEnd",
        "idxLastStart",
        "idxStartLayout",
        "dt1",
        "dt2",
        "dt1",
        "dt2",
        "lastDFI",
        "DFInfo",
        "dt1",
        "dt2",
        "decorated",
        "idxs"
    ],
    "comments": [
        "this module is responsible for loading user movement data",
        "and parsing into appropriate chunks and structures on demand",
        "bring all the sources together",
        "input is of the format:",
        "{ uid: {'layouts' -> [ (x,y) ],",
        "'terms' -> [ term ],",
        "'logs' -> [ (log tuple) ], *(dt, marker, [info])",
        "'observations' -> { 'comments': [ comments at end ],",
        "'gender': 'f' or 'm',",
        "'job': str,",
        "'insight_names': [str]",
        "'starttime': dt",
        "'insights': [ { 'insights': { isightname: num },",
        "'notes': str,",
        "'time': dt } ]",
        "}",
        "}",
        "}",
        "bring all the sources together and create line and dots",
        "that will be shown in the visualization",
        "get documents set",
        "get the info about the useful distance function in the data",
        "flip the result from user->{df->_, lines->} to df->users, lines->users",
        "dResult = {'DFs': {}, 'lines': {}}",
        "for uid in dUsrResult:",
        "dResult['DFs'][uid] = dUsrResult[uid]['DFs']",
        "dResult['lines'][uid] = dUsrResult[uid]['lines']",
        "takes user dict of full info and returns a list of all the observations",
        "get the list of distance functions based on the full range of",
        "collected data for a given user",
        "go through logs and get pairs of GO and DF entries",
        "of tuples ( GO entry, DF entry )",
        "looking for DF but not on (no DF after GO)",
        "raise ValueError(\"no DF after GO\")",
        "create set of DF info (a la return val) for all observed DFs",
        "filter the results based on observed start time",
        "get the list of lines needed based on the full range of",
        "collected data for a given user",
        "userdata['layouts']",
        "go through logs to get all the DFs and collect what",
        "comes between them",
        "NB only allowed one undo per DF, not after reset",
        "same with reset",
        "use this bool gate instead of simple time<starttime filter",
        "because user1's data has a big break in it that causes probs",
        "if not bPastStarttime:",
        "if entry[0] >= starttime:",
        "bPastStarttime = True",
        "print (entry[0], entry[1])",
        "continue",
        "#print (entry[0], entry[1])",
        "create a lookahead to possibly add",
        "avoid SEARCH_HILITE",
        "set end time (gets reset next go if no DF after)",
        "look back to see if last DOC entry should be added",
        "create the very last line entry from whatever",
        "happened with the last DF",
        "for each line (that will be in vis), get observations in the",
        "interval and append their info to the data",
        "create the actual line info format for the web",
        "not last one; it goes nowhere",
        "Sriram: added this to also include count as one of the features",
        "add the last line as a phantom line; it represents what happened",
        "after the last DF and will get sucked up into the last dot anyway",
        "Sriram: added this to also include count as one of the features",
        "subtract two datetime.time objects by first making dummy",
        "datetime.datetime objects (whic can be subtracted)",
        "the last line goes to nowhere, so instead we put its info",
        "on the info of the last distance function",
        "get the delta seconds from two timestamps",
        "(d2 - d1)",
        "get the best 10 terms based on coeffs from the list"
    ],
    "docstrings": [
        "* return format is [ (time, (layoutx,y), info_string ) ]",
        "* return format is [ {x1:_, y1:_, x2:_, y2:_, info:_ } ]",
        "* return type is a datetime.timedelta"
    ],
    "functions": [
        "aggregateData",
        "observationSet",
        "distanceFunctions",
        "lines",
        "newLineInfo",
        "textLineInfo",
        "timeDuration",
        "lastLineToDot",
        "addInitDot",
        "deltaSeconds",
        "best10TermsText",
        "termsList"
    ],
    "classes": []
}