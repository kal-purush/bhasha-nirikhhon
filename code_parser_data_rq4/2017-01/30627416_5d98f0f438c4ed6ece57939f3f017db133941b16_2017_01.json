{
    "identifiers": [
        "org",
        "opensrp",
        "web",
        "controller",
        "java",
        "io",
        "BufferedInputStream",
        "java",
        "io",
        "File",
        "java",
        "io",
        "FileInputStream",
        "java",
        "io",
        "java",
        "io",
        "InputStream",
        "java",
        "io",
        "OutputStream",
        "java",
        "net",
        "URLConnection",
        "java",
        "nio",
        "charset",
        "Charset",
        "javax",
        "servlet",
        "http",
        "HttpServletResponse",
        "org",
        "opensrp",
        "web",
        "security",
        "DrishtiAuthenticationProvider",
        "org",
        "slf4j",
        "Logger",
        "org",
        "slf4j",
        "LoggerFactory",
        "org",
        "springframework",
        "beans",
        "factory",
        "annotation",
        "Autowired",
        "org",
        "springframework",
        "beans",
        "factory",
        "annotation",
        "Qualifier",
        "org",
        "springframework",
        "beans",
        "factory",
        "annotation",
        "Value",
        "org",
        "springframework",
        "security",
        "authentication",
        "UsernamePasswordAuthenticationToken",
        "org",
        "springframework",
        "security",
        "core",
        "Authentication",
        "org",
        "springframework",
        "stereotype",
        "Controller",
        "org",
        "springframework",
        "util",
        "FileCopyUtils",
        "org",
        "springframework",
        "web",
        "bind",
        "annotation",
        "PathVariable",
        "org",
        "springframework",
        "web",
        "bind",
        "annotation",
        "RequestHeader",
        "org",
        "springframework",
        "web",
        "bind",
        "annotation",
        "RequestMapping",
        "org",
        "springframework",
        "web",
        "bind",
        "annotation",
        "RequestMethod",
        "Controller",
        "RequestMapping",
        "logger",
        "LoggerFactory",
        "getLogger",
        "toString",
        "Value",
        "multiMediaDir",
        "Autowired",
        "Qualifier",
        "provider",
        "RequestMapping",
        "value",
        "method",
        "RequestMethod",
        "GET",
        "response",
        "PathVariable",
        "fileName",
        "RequestHeader",
        "value",
        "userName",
        "RequestHeader",
        "value",
        "password",
        "auth",
        "userName",
        "password",
        "auth",
        "provider",
        "authenticate",
        "auth",
        "auth",
        "isAuthenticated",
        "file",
        "multiMediaDir",
        "File",
        "separator",
        "fileName",
        "file",
        "exists",
        "errorMessage",
        "logger",
        "info",
        "errorMessage",
        "outputStream",
        "response",
        "getOutputStream",
        "outputStream",
        "write",
        "errorMessage",
        "getBytes",
        "Charset",
        "forName",
        "outputStream",
        "close",
        "mimeType",
        "URLConnection",
        "guessContentTypeFromName",
        "file",
        "getName",
        "mimeType",
        "logger",
        "info",
        "mimeType",
        "logger",
        "info",
        "mimeType",
        "response",
        "setContentType",
        "mimeType",
        "response",
        "setHeader",
        "format",
        "file",
        "getName",
        "response",
        "setContentLength",
        "file",
        "length",
        "inputStream",
        "file",
        "FileCopyUtils",
        "copy",
        "inputStream",
        "response",
        "getOutputStream"
    ],
    "literals": [
        "\"/multimedia\"",
        "\"#{opensrp['multimedia.directory.name']}\"",
        "\"drishtiAuthenticationProvider\"",
        "\"/download/{fileName:.+}\"",
        "\"fileName\"",
        "\"username\"",
        "\"password\"",
        "\"Sorry. The file you are looking for does not exist\"",
        "\"UTF-8\"",
        "\"mimetype is not detectable, will take default\"",
        "\"application/octet-stream\"",
        "\"mimetype : \"",
        "\"Content-Disposition\"",
        "\"inline; filename=\\\"\"",
        "\"\\\"\""
    ],
    "variables": [
        "multiMediaDir",
        "provider"
    ],
    "comments": [
        "response.setHeader(\"Content-Disposition\", String.format(\"attachment; filename=\\\"%s\\\"\", file.getName()));",
        "Copy bytes from source to destination(outputstream in this example), closes both streams."
    ],
    "docstrings": [
        "* Download a file from the multimedia directory. This method is set to bypass spring security config but authenticate through the username/password passed at the headers\n    * @param response\n    * @param fileName\n    * @param userName\n    * @param password\n    * @throws IOException",
        "\"Content-Disposition : inline\" will show viewable types [like images/text/pdf/anything viewable by browser] right on browser \n            while others(zip e.g) will be directly downloaded [may provide save as popup, based on your browser setting.]",
        "\"Content-Disposition : attachment\" will be directly download, may provide save as popup, based on your browser setting"
    ],
    "functions": [
        "downloadFile"
    ],
    "classes": [
        "MultimediaController"
    ]
}